<h2><a href="https://github.com/AemonCao/AemonCao.github.io/blob/master/source/_posts/nvm-use-not-working.md">ä»“åº“æºæ–‡</a>ï¼Œ<a href="https://aemoncao.github.io/2021/06/17/nvm-use-not-working">ç«™ç‚¹åŸæ–‡</a></h2>
<hr/>
<p>title: nvm use å‘½ä»¤ä¸ç”Ÿæ•ˆé—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•
date: 2021-06-17 11:47:14
tags:</p>
<ul>
<li>homebrew</li>
<li>node</li>
<li>nvm</li>
<li>yarn
categories:</li>
<li>WEB å‰ç«¯
description: è§£å†³é—®é¢˜æ˜¯ä»¤äººå¼€å¿ƒçš„ã€‚</li>
</ul>
<hr/>
<h2>é—®é¢˜</h2>
<p>ä»Šå¤©å¯åŠ¨é¡¹ç›®çš„æ—¶å€™å‘ç°æŠ¥é”™äº†ï¼Œæç¤ºè¯´ <strong>node-sass</strong> çš„ç‰ˆæœ¬ä¸é€‚ç”¨å½“å‰ç‰ˆæœ¬çš„ <strong>node</strong>ã€‚<strong>node-sass</strong> å®˜ç½‘æœ‰ä¸€å¼ è¡¨æ ¼ï¼Œè®°å½•ç€ <strong>node-sass</strong> å’Œ <strong>node</strong> çš„å¯¹åº”ç‰ˆæœ¬ï¼š</p>
<p>NodeJS  | Supported node-sass version | Node Module
--------|-----------------------------|------------
Node 16 | 6.0+                        | 93
Node 15 | 5.0+                        | 88
Node 14 | 4.14+                       | 83
Node 13 | 4.13+, &lt;5.0                 | 79
Node 12 | 4.12+                       | 72
Node 11 | 4.10+, &lt;5.0                 | 67
Node 10 | 4.9+, &lt;6.0                  | 64
Node 8  | 4.5.3+, &lt;5.0                | 57
Node &lt;8 | &lt;5.0                        | &lt;57</p>
<p>æˆ‘ä½¿ç”¨çš„ <strong>node-sass</strong> ç‰ˆæœ¬ä¸ºï¼š</p>
<pre><code class="language-json">"node-sass": "^4.12.0"
</code></pre>
<p>æˆ‘è®°å¾—æˆ‘çš„ <strong>node</strong> ç‰ˆæœ¬åº”è¯¥æ˜¯ <code>v14.16.0</code>ï¼Œåº”è¯¥ä¸ä¼šæœ‰é—®é¢˜å•Šã€‚</p>
<h2>è§£å†³ï¼Ÿ</h2>
<p>ä½†æ˜¯è¯•äº†å‡ æ¬¡ <code>npm run serve</code>ï¼Œéƒ½æ˜¯æŠ¥é”™ï¼Œäºæ˜¯æˆ‘åªå¥½æŸ¥çœ‹äº†ä¸€ä¸‹æˆ‘çš„ <strong>node</strong> ç‰ˆæœ¬ï¼š</p>
<pre><code class="language-bash">&gt; node --version
v16.3.0
</code></pre>
<p><code>v16.3.0</code>ï¼Ÿï¼Ÿï¼Ÿ</p>
<p>æˆ‘æ˜æ˜æ˜¯ <code>v14.16.0</code> å•Šï¼Œæ€ä¹ˆå˜æˆ <code>v16.3.0</code> äº†ï¼Ÿæˆ‘æƒ³èµ·å‰å‡ å¤©å¥½åƒæ˜¯ç”¨ <code>nvm</code> å®‰è£…äº†ä¸€ä¸ªå½“å‰æœ€æ–°çš„ç‰ˆæœ¬ï¼Œå¯èƒ½é‚£æ—¶å€™å®‰è£…å¥½æ²¡åˆ‡æ¢å›æ¥å§ï¼Œäºæ˜¯æˆ‘ï¼š</p>
<pre><code class="language-bash">&gt; nvm use v14.16.0
Now using node v14.16.0 (npm v7.15.1)
</code></pre>
<h2>å¤§é—®é¢˜</h2>
<p>okï¼easyï¼Œäºæ˜¯æˆ‘æ„‰å¿«çš„ <code>npm run serve</code>ï¼Œé ï¼æ€ä¹ˆè¿˜æ˜¯æŠ¥é”™ï¼Ÿ</p>
<p>æˆ‘å†æ¬¡æŸ¥çœ‹äº†ä¸€ä¸‹æˆ‘çš„ <strong>node</strong> ç‰ˆæœ¬ï¼š</p>
<pre><code class="language-bash">&gt; node --version
v16.3.0
</code></pre>
<p>æ€ä¹ˆæ²¡åˆ‡è¿‡å»ï¼Ÿå‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<p>ä¸Šç½‘æŸ¥äº†å¥½å¤šèµ„æ–™ï¼Œå¤§å¤šæ•°éƒ½è®©æˆ‘å¸è½½ <strong>nvm</strong> å’Œ <strong>node</strong> é‡æ–°å®‰è£…çš„ã€‚ä½†æ˜¯æˆ‘ä¸æƒ³æŠŠæˆ‘çš„ç¯å¢ƒæå¾—ä¸€å›¢ç³Ÿï¼Œæ‰€ä»¥æˆ‘ä¸€ç›´åœ¨æœç´¢æœ‰æ²¡æœ‰å…¶ä»–çš„çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ç»ˆäºæˆ‘çœ‹åˆ°ä¸€ä¸ªæ–¹æ¡ˆæ˜¯ï¼šçœ‹çœ‹æœ‰æ²¡æœ‰å®‰è£…é™¤äº† <strong>nvm</strong> å®‰è£…çš„å…¶ä»– <strong>node</strong>ã€‚</p>
<p>äºæ˜¯ï¼š</p>
<pre><code class="language-bash">which -a node
</code></pre>
<p>æœç„¶ï¼Œé™¤äº† <strong>nvm</strong> ä¸‹çš„ <strong>node</strong>ï¼Œè¿˜æœ‰ <strong>homebrew</strong> ä¹Ÿæœ‰ä¸ª <strong>node</strong>ã€‚ä¹‹åæˆ‘åˆç¡®è®¤äº†ä¸€ä¸‹ï¼š</p>
<pre><code class="language-bash">brew list
</code></pre>
<p>ç¡®å®ï¼Œåˆ—è¡¨ä¸­æœ‰ nodeã€‚ä¹‹åæˆ‘çœ‹äº†æˆ‘çš„ <code>history</code>ï¼Œå› ä¸ºæˆ‘è®°å¾—æˆ‘æ²¡æœ‰ç”¨ <strong>homebrew</strong> å®‰è£…è¿‡ <strong>node</strong>ï¼Œç¿»äº†ä¸€éï¼Œç¡®å®æ²¡æœ‰ï¼Œè™½ç„¶å¾ˆå¥½å¥‡ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å‡†å¤‡åŠ¨æ‰‹åˆ äº†å®ƒï¼</p>
<pre><code class="language-bash">brew uninstall node
</code></pre>
<p>ä½†æ˜¯å´æç¤ºï¼š</p>
<blockquote>
<p>Error: Refusing to uninstall /opt/homebrew/Cellar/node/16.3.0
because it is required by yarn, which is currently installed.</p>
</blockquote>
<p><strong>yarn</strong>ï¼ŸåŸæ¥æ˜¯ä½ ï¼æˆ‘ç»ˆäºæƒ³åˆ°æ˜¨å¤©ä¸‹åˆä¸ºäº†æ­å»ºä¸€ä¸ªæ–°é¡¹ç›®çš„ç¯å¢ƒï¼Œæˆ‘å®‰è£…äº† <strong>yarn</strong>ï¼Œç”±äºå®ƒæ˜¯ä¾èµ–äº <strong>node</strong> çš„ï¼Œæ‰€ä»¥ <strong>homebrew</strong> é¡ºä¾¿å¸®æˆ‘å®‰è£…äº† <strong>node</strong>ã€‚çŸ¥é“äº†åŸå› ï¼Œæ¥ä¸‹æ¥å°±å¥½åŠäº†ã€‚</p>
<h2>è§£å†³</h2>
<p>é¦–å…ˆå¸è½½ <strong>yarn</strong>ï¼š</p>
<pre><code class="language-bash">brew uninstall yarn
</code></pre>
<p>ç„¶åå¸è½½ <strong>node</strong>ï¼š</p>
<pre><code class="language-bash">brew uninstall node
</code></pre>
<p>ä¹‹åå†é‡æ–°å®‰è£… <strong>yarn</strong> å¹¶åŠ ä¸Šå¿½ç•¥ä¾èµ–é¡¹å‚æ•°ï¼š</p>
<pre><code class="language-bash">brew install yarn --ignore-dependencies
</code></pre>
<p>è‡³æ­¤ï¼Œ<strong>nvm</strong> å’Œ <strong>yarn</strong> ç»ˆäºèƒ½å’Œè°å…±å¤„å•¦ğŸ‰ï¼</p>
<h2>å‚è€ƒ</h2>
<ul>
<li><p><a href="https://stackoverflow.com/questions/52174381/yarn-not-installing-in-nvm-version-node-version">https://stackoverflow.com/questions/52174381/yarn-not-installing-in-nvm-version-node-version</a></p>
</li>
<li><p><a href="https://classic.yarnpkg.com/en/docs/install#debian-stable">https://classic.yarnpkg.com/en/docs/install#debian-stable</a></p>
</li>
<li><p><a href="https://github.com/sass/node-sass/releases/tag/v4.14.1">https://github.com/sass/node-sass/releases/tag/v4.14.1</a></p>
</li>
<li><p><a href="https://stackoverflow.com/questions/52676244/node-version-not-updating-after-nvm-use-on-mac">https://stackoverflow.com/questions/52676244/node-version-not-updating-after-nvm-use-on-mac</a></p>
</li>
<li><p><a href="https://stackoverflow.com/questions/37415134/error-node-sass-does-not-yet-support-your-current-environment-windows-64-bit-w">https://stackoverflow.com/questions/37415134/error-node-sass-does-not-yet-support-your-current-environment-windows-64-bit-w</a></p>
</li>
<li><p><a href="https://github.com/sass/node-sass#node-version-support-policy">https://github.com/sass/node-sass#node-version-support-policy</a></p>
</li>
</ul>
