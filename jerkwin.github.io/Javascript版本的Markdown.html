<h2><a href="https://github.com/jerkwin/jerkwin.github.io//blob/master/_posts/2014-04-01-Javascript版本的Markdown.md">仓库源文</a>，<a href="https://jerkwin.github.io/2014/04/01/Javascript版本的Markdown">站点原文</a></h2>
<hr/>
<p>layout: post
 title: Javascript版本的Markdown
 categories:</p>
<ul>
<li>科
tags:</li>
<li>markdown</li>
</ul>
<hr/>
<h2>2014-04-01 12:48:40</h2>
<p>最近几天折腾了下js版本的markdown实现, 本来的想要实现的功能是不依赖于外部程序, 直接使用浏览器来解析渲染markdown文件. 
目前来说, 这是最简单可行的跨平台方案. js版本的markdown解析程序很多, 到<a href="https://github.com/">GitHub</a>上搜索一下markdown, 
js的实现数目远远超过其他的. 这些实现有好有差, 我没有时间一一查看, 主要试用了下面的几个:</p>
<ul>
<li><p>chjj的<a href="https://github.com/chjj/marked/">marked</a>: 星级很高, 速度也很好</p>
</li>
<li><p>Jakwings的<a href="https://github.com/jakwings/strictdown/">Strictdown</a>: 扩展更多, 语言更严格些, 尚不成熟</p>
</li>
<li><p>dnordstrom的<a href="https://github.com/dnordstrom/parseMarkdown.js">parseMarkdown</a>: 最简单的实现, 可作为扩展的起点</p>
</li>
</ul>
<p>这些实现, 大部分是基于Node.js的, 在浏览器中使用的话, 需要添加相应的脚本, 也可以通过修改js源码实现.
下面是修改marked.js使其支持浏览器直接使用的方法.</p>
<p>在其最后添加如下代码</p>
&lt;pre class="line-numbers" data-start="0"&gt;&lt;code class="language-javascript"&gt;# Language: javascript
document.addEventListener('DOMContentLoaded', function() {
var input = document.getElementById('main');
input.innerHTML=marked(input.innerHTML);
input.innerHTML=marked(input.innerHTML);
}, false);
&lt;/code&gt;&lt;/pre&gt;<p>在html文件中, 将markdown代码插入 <code>\&lt;div id="main"&gt; \&lt;/div&gt;</code> 之中.</p>
<p>其他的也可类似修改实现.</p>
<p>虽然最终我基本实现了想要的功能, 可实际使用中发现, 对少量文本这些代码问题都不大, 一旦文本很大, 基于js的解析代码速度明显就不行了.</p>
<p><strong>参考资料</strong></p>
<ol>
<li><a href="http://www.bitscn.com/school/HTMLCSS/201009/190580.html/">调用Javascript获取div内容</a></li>
<li><a href="http://blog.likelikeslike.com/posts/2014-02-16/syntax-strictdown-draft.html">Strictdown标记语言语法（草稿）</a></li>
<li><a href="http://blog.csdn.net/huaweidong2011/article/details/17271067">使用javascript读写本地文件的方法</a></li>
<li><a href="http://hyan.iteye.com/blog/1954388">JavaScript本地文件读写</a></li>
<li><a href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5log/">使用 HTML5 File API 实现客户端 log</a></li>
<li><a href="http://www.html5rocks.com/zh/tutorials/file/dndfiles/">通过 File API 使用 JavaScript 读取文件</a></li>
<li><a href="http://stackoverflow.com/questions/1880198/how-to-execute-shell-command-in-java-script">How to execute shell command in Java script</a></li>
<li><a href="http://www.itjungle.com/mpo/mpo052302-story01.html">JavaScript and the SHELL Command</a></li>
<li><a href="http://duguyiren3476.iteye.com/blog/1858713">js的输入输出的相关操作说明举例</a></li>
<li><a href="http://www.cnblogs.com/qiudeqing/p/3229583.html">javascript 文档加载后根据标题动态生成目录</a></li>
<li><a href="http://blog.csdn.net/chenghui0317/article/details/9004716">js控制div层的显示跟随滚动条滚动而滚动</a></li>
<li><a href="http://bbs.blueidea.com/thread-3050350-1-1.html">层跟随滚动条下拉, 向下移动效果</a></li>
<li><a href="http://www.fengwensheng.com/article/1200.html">JavaScript仿淘宝智能浮动——侧栏跟随</a></li>
</ol>
