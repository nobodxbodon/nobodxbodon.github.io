<h2><a href="https://github.com/jerkwin/jerkwin.github.io//blob/master/_posts/2020-09-08-VMD渲染相关的几个问题.md">仓库源文</a>，<a href="https://jerkwin.github.io/2020/09/08/VMD渲染相关的几个问题">站点原文</a></h2>
<ul>
<li>2020-09-08 23:20:38</li>
</ul>
<p>编译VMD的过程中顺便总结了一下遇到的几个问题, 供参考.</p>
<h2>颜色</h2>
<p>VMD自带了33种颜色, 可以改变它们的值, 但无法添加新的颜色, 只能修改源码实现. 由于我已经可以从源码编译VMD, 所以就给它新增了200种颜色, 名字从<code>usr-1</code>到<code>usr-200</code>, 专门用于自定义颜色, 这样也避免与已有的颜色冲突. 这些颜色的默认值, 我选用了<a href="http://jmol.sourceforge.net/jscolors/">Jmol用于元素, 氨基酸残基, 核酸残基, 二级结构, 链的颜色</a>, 方便使用. 当然也可以将其更改为任意你需要的颜色.</p>
<p>目前常用的元素颜色主要有三种, <a href="http://jmol.sourceforge.net/jscolors/">Jmol</a>, <a href="https://pymolwiki.org/index.php/Color_Values">PyMOL</a>, <a href="http://jmol.sourceforge.net/jscolors/">Rasmol及其改进</a>. 在查看有机小分子时, 这些颜色比较常用, 容易识别对应的元素.</p>
<p>使用VMD的tcl脚本更改颜色, 命令类似</p>
&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span style="color:#A2F"&gt;color&lt;/span&gt; change rgb "usr-1" 0.800 0.800 0.800&lt;/pre&gt;&lt;/div&gt;<p><code>"usr-1"</code>为要更改的颜色名称, 后面三个数字为颜色的rgb值(0-1之间).</p>
<p>下面是几种颜色方案的对比.</p>
<p><img alt="" src="https://jerkwin.github.io/pic/vmd_atom.png"/></p>
<h2>颜色标尺</h2>
<p>VMD自带了几种颜色标尺, 可以修改它们, 但无法自己添加新的标尺, 临时的解决方法也是修改源码, 添加一些自定义标尺. 但好像不能同时使多种颜色标尺?</p>
<p>要更改正在使用的颜色标尺, 可以使用类似下面的tcl脚本. 这个脚本支持<a href="https://www.mathworks.com/help/matlab/ref/colormap.html">matlab的几种颜色映射方案</a>. 如果需要, 可以继续添加其他各种颜色映射方案. 我以前也<a href="https://jerkwin.github.io/2020/08/23/%E4%BD%BF%E7%94%A8gnuplot%E7%BB%98%E5%88%B6xpm%E6%96%87%E4%BB%B6%E5%AF%B9%E5%BA%94%E7%9A%84%E6%95%B0%E6%8D%AE/">整理过一些颜色映射方案</a>, 并给出了相应的公式, 可以直接使用.</p>
<p>下面是颜色标尺的测试效果图.</p>
<p><img alt="" src="https://jerkwin.github.io/pic/vmd_cm.png"/></p>
<h2>材质</h2>
<p>VMD自带了几种材质用于渲染. 每种材质需要定义名称, 环境光强度, 漫反射强度, 高光强度, 高光值, 镜面, 不透明度, 描边, 描边线宽, 透明度这些参数. 其中重要的是前4个参数, 它们决定了渲染后物体的观感. 但这种材质系统比较简单, 自定义性不强, 再加上VMD的灯光颜色只支持白色, 且强度无法调节, 所以要达到好的渲染效果需要费心调, 建议尽量使用VMD自带的几种材质, 需要时在其基础上稍加修改.</p>
&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #AA22FF; font-weight: bold"&gt;set&lt;/span&gt; properties &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;ambient&lt;/span&gt; diffuse specular shininess mirror opacity outline outlinewidth transmode&lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
&lt;span style="color: #AA22FF; font-weight: bold"&gt;set&lt;/span&gt; VMDmaterials &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;Opaque&lt;/span&gt;         &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.650&lt;/span&gt; &lt;span style="color: #666666"&gt;0.500&lt;/span&gt; &lt;span style="color: #666666"&gt;0.534&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;Transparent&lt;/span&gt;    &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.650&lt;/span&gt; &lt;span style="color: #666666"&gt;0.500&lt;/span&gt; &lt;span style="color: #666666"&gt;0.534&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.300&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;BrushedMetal&lt;/span&gt;   &lt;span style="color: #666666"&gt;0.080&lt;/span&gt; &lt;span style="color: #666666"&gt;0.390&lt;/span&gt; &lt;span style="color: #666666"&gt;0.340&lt;/span&gt; &lt;span style="color: #666666"&gt;0.150&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;Diffuse&lt;/span&gt;        &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.620&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.530&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;Ghost&lt;/span&gt;          &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.230&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.100&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;Glass1&lt;/span&gt;         &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.500&lt;/span&gt; &lt;span style="color: #666666"&gt;0.650&lt;/span&gt; &lt;span style="color: #666666"&gt;0.530&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.150&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;Glass2&lt;/span&gt;         &lt;span style="color: #666666"&gt;0.520&lt;/span&gt; &lt;span style="color: #666666"&gt;0.760&lt;/span&gt; &lt;span style="color: #666666"&gt;0.220&lt;/span&gt; &lt;span style="color: #666666"&gt;0.590&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.680&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;Glass3&lt;/span&gt;         &lt;span style="color: #666666"&gt;0.150&lt;/span&gt; &lt;span style="color: #666666"&gt;0.250&lt;/span&gt; &lt;span style="color: #666666"&gt;0.750&lt;/span&gt; &lt;span style="color: #666666"&gt;0.800&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.500&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;Glossy&lt;/span&gt;         &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.650&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.880&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;HardPlastic&lt;/span&gt;    &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.560&lt;/span&gt; &lt;span style="color: #666666"&gt;0.280&lt;/span&gt; &lt;span style="color: #666666"&gt;0.690&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;MetallicPastel&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.260&lt;/span&gt; &lt;span style="color: #666666"&gt;0.550&lt;/span&gt; &lt;span style="color: #666666"&gt;0.190&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;Steel&lt;/span&gt;          &lt;span style="color: #666666"&gt;0.250&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.380&lt;/span&gt; &lt;span style="color: #666666"&gt;0.320&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;Translucent&lt;/span&gt;    &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.700&lt;/span&gt; &lt;span style="color: #666666"&gt;0.600&lt;/span&gt; &lt;span style="color: #666666"&gt;0.300&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.800&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;Edgy&lt;/span&gt;           &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.660&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.750&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.620&lt;/span&gt; &lt;span style="color: #666666"&gt;0.940&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;EdgyShiny&lt;/span&gt;      &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.660&lt;/span&gt; &lt;span style="color: #666666"&gt;0.960&lt;/span&gt; &lt;span style="color: #666666"&gt;0.750&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.760&lt;/span&gt; &lt;span style="color: #666666"&gt;0.940&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;EdgyGlass&lt;/span&gt;      &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.660&lt;/span&gt; &lt;span style="color: #666666"&gt;0.500&lt;/span&gt; &lt;span style="color: #666666"&gt;0.750&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.620&lt;/span&gt; &lt;span style="color: #666666"&gt;0.620&lt;/span&gt; &lt;span style="color: #666666"&gt;0.940&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;Goodsell&lt;/span&gt;       &lt;span style="color: #666666"&gt;0.520&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;4.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.900&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;AOShiny&lt;/span&gt;        &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.850&lt;/span&gt; &lt;span style="color: #666666"&gt;0.200&lt;/span&gt; &lt;span style="color: #666666"&gt;0.530&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;AOChalky&lt;/span&gt;       &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.850&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.530&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;AOEdgy&lt;/span&gt;         &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.900&lt;/span&gt; &lt;span style="color: #666666"&gt;0.200&lt;/span&gt; &lt;span style="color: #666666"&gt;0.530&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.620&lt;/span&gt; &lt;span style="color: #666666"&gt;0.930&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;BlownGlass&lt;/span&gt;     &lt;span style="color: #666666"&gt;0.040&lt;/span&gt; &lt;span style="color: #666666"&gt;0.340&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.100&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;GlassBubble&lt;/span&gt;    &lt;span style="color: #666666"&gt;0.250&lt;/span&gt; &lt;span style="color: #666666"&gt;0.340&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.040&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;RTChrome&lt;/span&gt;       &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.650&lt;/span&gt; &lt;span style="color: #666666"&gt;0.500&lt;/span&gt; &lt;span style="color: #666666"&gt;0.530&lt;/span&gt; &lt;span style="color: #666666"&gt;0.700&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
&lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<p>网上有OpenGL常用的几种材质, 但无法直接在VMD中使用, 需要先转换成VMD的格式才可以.</p>
<ul>
<li><a href="http://devernay.free.fr/cours/opengl/materials.html">OpenGL/VRML Materials</a></li>
<li><a href="http://www.it.hiof.no/~borres/j3d/explain/light/p-materials.html">Some materials</a></li>
<li><a href="https://globe3d.sourceforge.io/g3d_html/gl-materials__ads.htm">gl-materials.ads</a></li>
<li><a href="http://www.sci.tamucc.edu/~sking/Courses/COSC5327/Assignments/Materials.html">Some example texture values</a></li>
<li><a href="https://www.opengl.org/archives/resources/code/samples/sig99/advanced99/notes/node153.html">Modeling Material Smoothness</a></li>
<li><a href="https://www.opengl.org/archives/resources/code/samples/advanced/advanced97/notes/node84.html#tabmaterials">Modeling Material Smoothness</a></li>
<li><a href="http://web.archive.org/web/20100725103839/http://www.cs.utk.edu/~kuck/materials_ogl.htm">Material Type Settings for OpenGL</a></li>
<li><a href="https://www.cnblogs.com/GarfieldTom/archive/2012/12/21/2828506.html">将RGB值转换为灰度值的简单算法</a></li>
<li><a href="https://www.zhihu.com/question/312239538">如何根据RGB至计算灰度K值和灰阶值？</a></li>
<li><a href="file:///C:/Users/Jerkwin/Downloads/02-2019-05-064.pdf">彩色图像灰度化算法综述</a></li>
<li><a href="https://blog.csdn.net/u013314786/article/details/80543447">从RGB色转为灰度色算法</a></li>
</ul>
<p>VMD可以自定义材质, 并添加到自带的材质后面, 但同一个分子中只能使用一种材质. 自定义材质使用的tcl脚本类似下面:</p>
&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #AA22FF; font-weight: bold"&gt;set&lt;/span&gt; materials &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;usr-1_default&lt;/span&gt;     &lt;span style="color: #666666"&gt;0.800&lt;/span&gt; &lt;span style="color: #666666"&gt;0.800&lt;/span&gt; &lt;span style="color: #666666"&gt;0.800&lt;/span&gt;    &lt;span style="color: #666666"&gt;0.250&lt;/span&gt; &lt;span style="color: #666666"&gt;0.800&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.200&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;usr-2_solid-Black&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt;    &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.022&lt;/span&gt; &lt;span style="color: #666666"&gt;0.100&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
    &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt; &lt;span style="color: #B8860B"&gt;usr-3_solid-Blue&lt;/span&gt;  &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt;    &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.072&lt;/span&gt; &lt;span style="color: #666666"&gt;0.022&lt;/span&gt; &lt;span style="color: #666666"&gt;0.100&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;1.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #666666"&gt;0.000&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
&lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;
&lt;span style="color: #AA22FF; font-weight: bold"&gt;foreach&lt;/span&gt; ele &lt;span style="color: #B8860B"&gt;$materials&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;{&lt;/span&gt;
    &lt;span style="color: #AA22FF"&gt;incr&lt;/span&gt; n
    &lt;span style="color: #B8860B"&gt;color&lt;/span&gt; change rgb &lt;span style="color: #BB4444"&gt;"usr-$n"&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;[&lt;/span&gt;&lt;span style="color: #AA22FF"&gt;lindex&lt;/span&gt; &lt;span style="color: #B8860B"&gt;$ele&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;span style="color: #AA22FF; font-weight: bold"&gt;]&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;[&lt;/span&gt;&lt;span style="color: #AA22FF"&gt;lindex&lt;/span&gt; &lt;span style="color: #B8860B"&gt;$ele&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;span style="color: #AA22FF; font-weight: bold"&gt;]&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;[&lt;/span&gt;&lt;span style="color: #AA22FF"&gt;lindex&lt;/span&gt; &lt;span style="color: #B8860B"&gt;$ele&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt;&lt;span style="color: #AA22FF; font-weight: bold"&gt;]&lt;/span&gt;

    &lt;span style="color: #AA22FF; font-weight: bold"&gt;set&lt;/span&gt; mat &lt;span style="color: #AA22FF; font-weight: bold"&gt;[&lt;/span&gt;&lt;span style="color: #AA22FF"&gt;lindex&lt;/span&gt; &lt;span style="color: #B8860B"&gt;$ele&lt;/span&gt; &lt;span style="color: #666666"&gt;0&lt;/span&gt;&lt;span style="color: #AA22FF; font-weight: bold"&gt;]&lt;/span&gt;
    &lt;span style="color: #B8860B"&gt;material&lt;/span&gt; add &lt;span style="color: #B8860B"&gt;$mat&lt;/span&gt;
    &lt;span style="color: #B8860B"&gt;material&lt;/span&gt; change ambient   &lt;span style="color: #B8860B"&gt;$mat&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;[&lt;/span&gt;&lt;span style="color: #AA22FF"&gt;lindex&lt;/span&gt; &lt;span style="color: #B8860B"&gt;$ele&lt;/span&gt; &lt;span style="color: #666666"&gt;4&lt;/span&gt;&lt;span style="color: #AA22FF; font-weight: bold"&gt;]&lt;/span&gt;
    &lt;span style="color: #B8860B"&gt;material&lt;/span&gt; change diffuse   &lt;span style="color: #B8860B"&gt;$mat&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;[&lt;/span&gt;&lt;span style="color: #AA22FF"&gt;lindex&lt;/span&gt; &lt;span style="color: #B8860B"&gt;$ele&lt;/span&gt; &lt;span style="color: #666666"&gt;5&lt;/span&gt;&lt;span style="color: #AA22FF; font-weight: bold"&gt;]&lt;/span&gt;
    &lt;span style="color: #B8860B"&gt;material&lt;/span&gt; change specular  &lt;span style="color: #B8860B"&gt;$mat&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;[&lt;/span&gt;&lt;span style="color: #AA22FF"&gt;lindex&lt;/span&gt; &lt;span style="color: #B8860B"&gt;$ele&lt;/span&gt; &lt;span style="color: #666666"&gt;6&lt;/span&gt;&lt;span style="color: #AA22FF; font-weight: bold"&gt;]&lt;/span&gt;
    &lt;span style="color: #B8860B"&gt;material&lt;/span&gt; change shininess &lt;span style="color: #B8860B"&gt;$mat&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;[&lt;/span&gt;&lt;span style="color: #AA22FF"&gt;lindex&lt;/span&gt; &lt;span style="color: #B8860B"&gt;$ele&lt;/span&gt; &lt;span style="color: #666666"&gt;7&lt;/span&gt;&lt;span style="color: #AA22FF; font-weight: bold"&gt;]&lt;/span&gt;
&lt;span style="color: #AA22FF; font-weight: bold"&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<p>下面是几个材质示例图.</p>
<p><img alt="" src="https://jerkwin.github.io/pic/vmd_mat.png"/></p>
<h2>OSPRay渲染器</h2>
<p>VMD编译时可以启用Intel的OSPRay渲染器. 这是个纯CPU的渲染器, 效率比VMD自带的tachyon高. 根据我的测试, 耗时只有tachyon的1/5, 场景越复杂, 加速效果越好, 如果可以, 建议尽量使用这个渲染器. 但VMD对这个渲染器的支持并不全面, 无法发挥它的全部功能.</p>
<p>前面的图都是用OSPRay渲染的. 下面是两种渲染器对不同材质渲染效果的对比图. 可以看到OSPRay默认的灯光要暗一些.</p>
<p><img alt="" src="https://jerkwin.github.io/pic/vmd_render.png"/></p>
