<h2>原文：<a href="https://jerkwin.github.io/2018/04/21/自动下载喜马拉雅音频文件">自动下载喜马拉雅音频文件</a></h2>
<hr/>
<p>layout: post
 title: 自动下载喜马拉雅音频文件
 categories:</p>
<ul>
<li>科
tags:</li>
<li>ahk</li>
</ul>
<hr/>
<ul>
<li>2018-04-21 07:15:53</li>
</ul>
<p>喜马拉雅网站上有一些有价值的音频可以下载, 但手动下载的话很是麻烦, 所以就看了一下能不能自动下载. 鉴于每个音频的网址好像是随机生成的, 所以没有办法完全自动下载, 只得利用autohotkey模拟手动下载, 速度慢点, 但还可用.</p>
&lt;table class="highlighttable"&gt;&lt;th colspan="2" style="text-align:left"&gt;ahk&lt;/th&gt;&lt;tr&gt;&lt;td&gt;&lt;div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"&gt;&lt;pre style="line-height: 125%"&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;txt &lt;span style="color: #666666"&gt;=&lt;/span&gt;
(
http://www.ximalaya.com/18203677/sound/7360644/ 小熊绘本_你好
http://www.ximalaya.com/18203677/sound/7383760/ 小熊绘本_拉粑粑
http://www.ximalaya.com/18203677/sound/7395870/ 小熊绘本_午饭
http://www.ximalaya.com/18203677/sound/7409389/ 小熊绘本_睡觉
http://www.ximalaya.com/18203677/sound/7410100/ 小熊绘本_大声回答“哎”
http://www.ximalaya.com/18203677/sound/7425397/ 小熊绘本_尿床了
http://www.ximalaya.com/18203677/sound/7452781/ 小熊宝宝_洗澡
http://www.ximalaya.com/18203677/sound/7468120/ 小熊宝宝_刷牙
http://www.ximalaya.com/18203677/sound/7495652/ 小熊宝宝_我会穿短裤啦
http://www.ximalaya.com/18203677/sound/7578510/ 小熊宝宝_收起来
http://www.ximalaya.com/18203677/sound/7617944/ 小熊绘本_排好队一个接一个
http://www.ximalaya.com/18203677/sound/7636260/ 小熊宝宝_谁哭了
http://www.ximalaya.com/18203677/sound/7651700/ 小熊宝宝_散步
http://www.ximalaya.com/18203677/sound/7672587/ 小熊绘本_好朋友
http://www.ximalaya.com/18203677/sound/7695533/ 小熊宝宝_过生日
)

txt &lt;span style="color: #666666"&gt;:=&lt;/span&gt; StrReplace(txt, &lt;span style="color: #BB4444"&gt;"&lt;/span&gt;&lt;span style="color: #BB6622; font-weight: bold"&gt;`n&lt;/span&gt;&lt;span style="color: #BB4444"&gt;"&lt;/span&gt;, &lt;span style="color: #BB4444"&gt;" "&lt;/span&gt;)
txt &lt;span style="color: #666666"&gt;:=&lt;/span&gt; StrSplit(&lt;span style="color: #00A000"&gt;trim&lt;/span&gt;(txt), &lt;span style="color: #BB4444"&gt;"` "&lt;/span&gt;)
Ndat &lt;span style="color: #666666"&gt;:=&lt;/span&gt; txt&lt;span style="color: #666666"&gt;.&lt;/span&gt;&lt;span style="color: #00A000"&gt;MaxIndex&lt;/span&gt;()&lt;span style="color: #666666"&gt;/2&lt;/span&gt;

&lt;span style="color: #AA22FF"&gt;Loop&lt;/span&gt;, &lt;span style="color: #B8860B"&gt;%Ndat%&lt;/span&gt;
{

    &lt;span style="color: #B8860B"&gt;clipboard&lt;/span&gt; &lt;span style="color: #666666"&gt;:=&lt;/span&gt; &lt;span style="color: #BB4444"&gt;""&lt;/span&gt;

    url &lt;span style="color: #666666"&gt;:=&lt;/span&gt; txt[&lt;span style="color: #666666"&gt;2*&lt;/span&gt;&lt;span style="color: #B8860B"&gt;A_Index&lt;/span&gt;&lt;span style="color: #666666"&gt;-1&lt;/span&gt;]
    tit &lt;span style="color: #666666"&gt;:=&lt;/span&gt; txt[&lt;span style="color: #666666"&gt;2*&lt;/span&gt;&lt;span style="color: #B8860B"&gt;A_index&lt;/span&gt;]

    &lt;span style="color: #AA22FF"&gt;runwait&lt;/span&gt;, &lt;span style="color: #B8860B"&gt;%url%&lt;/span&gt;

    &lt;span style="color: #AA22FF"&gt;sleep&lt;/span&gt;, &lt;span style="color: #666666"&gt;1000&lt;/span&gt;
    &lt;span style="color: #AA22FF"&gt;Send&lt;/span&gt;, {F12}
    &lt;span style="color: #AA22FF"&gt;sleep&lt;/span&gt;, &lt;span style="color: #666666"&gt;5000&lt;/span&gt;

    &lt;span style="color: #AA22FF"&gt;MouseClick&lt;/span&gt;, left,  &lt;span style="color: #666666"&gt;42&lt;/span&gt;,  &lt;span style="color: #666666"&gt;593&lt;/span&gt;
    &lt;span style="color: #AA22FF"&gt;sleep&lt;/span&gt;, &lt;span style="color: #666666"&gt;3000&lt;/span&gt;

    &lt;span style="color: #AA22FF"&gt;MouseClick&lt;/span&gt;, right,  &lt;span style="color: #666666"&gt;769&lt;/span&gt;,  &lt;span style="color: #666666"&gt;293&lt;/span&gt;
    &lt;span style="color: #AA22FF"&gt;Sleep&lt;/span&gt;, &lt;span style="color: #666666"&gt;500&lt;/span&gt;

    &lt;span style="color: #AA22FF"&gt;send&lt;/span&gt;, c
    &lt;span style="color: #AA22FF"&gt;sleep&lt;/span&gt;, &lt;span style="color: #666666"&gt;500&lt;/span&gt;

    &lt;span style="color: #AA22FF"&gt;send&lt;/span&gt;, c
    &lt;span style="color: #AA22FF"&gt;sleep&lt;/span&gt;, &lt;span style="color: #666666"&gt;500&lt;/span&gt;
    &lt;span style="color: #AA22FF"&gt;send&lt;/span&gt;, c
    &lt;span style="color: #AA22FF"&gt;sleep&lt;/span&gt;, &lt;span style="color: #666666"&gt;500&lt;/span&gt;

    &lt;span style="color: #AA22FF"&gt;send&lt;/span&gt;, {right}{enter}
    &lt;span style="color: #AA22FF"&gt;sleep&lt;/span&gt;, &lt;span style="color: #666666"&gt;100&lt;/span&gt;
    &lt;span style="color: #AA22FF"&gt;FileAppend&lt;/span&gt;, curl &lt;span style="color: #B8860B"&gt;%clipboard%&lt;/span&gt; &lt;span style="color: #666666"&gt;&gt;&lt;/span&gt; &lt;span style="color: #B8860B"&gt;%tit%&lt;/span&gt;&lt;span style="color: #666666"&gt;.&lt;/span&gt;m4a &lt;span style="color: #BB6622; font-weight: bold"&gt;`n&lt;/span&gt;, aut&lt;span style="color: #666666"&gt;.&lt;/span&gt;bsh
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;