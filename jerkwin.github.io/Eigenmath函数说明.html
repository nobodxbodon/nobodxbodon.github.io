<h2><a href="https://github.com/jerkwin/jerkwin.github.io//blob/master/_posts/2021-10-21-Eigenmath%E5%87%BD%E6%95%B0%E8%AF%B4%E6%98%8E.md">仓库源文</a>，<a href="https://jerkwin.github.io/2021/10/21/Eigenmath%E5%87%BD%E6%95%B0%E8%AF%B4%E6%98%8E">站点原文</a></h2>
<hr/>
<p>layout: post
title: Eigenmath函数说明
categories:</p>
<ul>
<li>科
tags:</li>
<li>数理
math: true</li>
</ul>
<hr/>
<ul>
<li>toc
{:toc}</li>
</ul>
<ul>
<li>2021-10-21 00:10:57</li>
</ul>
<p><code>Eigenmath</code>是一个计算机代数系统, 可用于进行简单的数学符号计算, 公式推导. 最近也提供了js版本, 可以直接在浏览器中运行. 我关注它有很多年了, 虽然也只是不时用到. 这里整理了<code>Eigenmath</code>支持的函数的说明, 供参考.</p>
<p><strong>参考资料</strong></p>
<ul>
<li>Eigenmath <a href="https://georgeweigt.github.io">官方网站</a> <a href="https://georgeweigt.github.io/help.html">函数说明</a> <a href="https://georgeweigt.github.io/eigenmath.pdf">参考手册</a></li>
<li><a href="https://hk.ayahuasec.top/blog/index.php/archives/59/">TTT Blog 中文翻译</a></li>
</ul>
<p><strong>注意</strong></p>
<ol>
<li>注释符为<code>#</code>或<code>--</code></li>
<li>尽量不要使用<code>d</code>、<code>e</code>、<code>i</code>、<code>pi</code>作为变量名，因为它们分别代表求导、常数e、虚数i、常数pi。</li>
<li>使用括号定义多元矩阵，使用方括号取矩阵中的某个元素。</li>
<li>下文中<code>&gt;</code>后面为输入.</li>
</ol>
<h2><code>abs(x)</code>: <code>x</code>的绝对值或向量<code>x</code>的长度</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; X &lt;span style="color: #666666"&gt;=&lt;/span&gt; (x,y,z)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; abs(X)
              &lt;span style="color: #666666"&gt;1/2&lt;/span&gt;
  &lt;span style="color: #666666"&gt;2&lt;/span&gt;    &lt;span style="color: #666666"&gt;2&lt;/span&gt;    &lt;span style="color: #666666"&gt;2&lt;/span&gt;
(x  &lt;span style="color: #666666"&gt;+&lt;/span&gt; y  &lt;span style="color: #666666"&gt;+&lt;/span&gt; z )&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>adj(m)</code>: 矩阵<code>m</code>的伴随矩阵，等于<code>m</code>的行列式乘以<code>m</code>的逆矩阵</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((a,b),(c,d))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; adj(A) &lt;span style="color: #666666"&gt;==&lt;/span&gt; det(A) inv(A)
&lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>and(a,b,...)</code>: 逻辑与</h2>
<p>如果所有参数都为真（即非零），返回1，否则返回0。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; and(&lt;span style="color: #666666"&gt;1=1&lt;/span&gt;,&lt;span style="color: #666666"&gt;2=2&lt;/span&gt;)
&lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>arccos(x)</code>: <code>x</code>的反余弦$\cos^{-1}(x)$</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; arccos(&lt;span style="color: #666666"&gt;1/2&lt;/span&gt;)
 &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;---&lt;/span&gt; &lt;span style="#FF0000"&gt;π&lt;/span&gt;
 &lt;span style="color: #666666"&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>arccosh(x)</code>: <code>x</code>的反双曲余弦$\cosh^{-1}(x)$</h2>
<h2><code>arcsin(x)</code>: <code>x</code>的反正弦$\sin^{-1}(x)$</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; arcsin(&lt;span style="color: #666666"&gt;1/2&lt;/span&gt;)
 &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;---&lt;/span&gt; &lt;span style="#FF0000"&gt;π&lt;/span&gt;
 &lt;span style="color: #666666"&gt;6&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>arcsinh(x)</code>: <code>x</code>的反双曲正弦$\sinh^{-1}(x)$</h2>
<h2><code>arctan(y,x)</code>: <code>y/x</code>的反正切$\tan^{-1}(y/x)$</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; arctan(&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;0&lt;/span&gt;)
 &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;---&lt;/span&gt; &lt;span style="#FF0000"&gt;π&lt;/span&gt;
 &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>arctanh(x)</code>: <code>x</code>的反双曲正切$\tanh^{-1}(x)$</h2>
<h2><code>arg(z)</code>: 复数<code>z</code>的幅角</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; arg(&lt;span style="color: #666666"&gt;2&lt;/span&gt; &lt;span style="color: #666666"&gt;-&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt;i)
arctan(&lt;span style="color: #666666"&gt;-3&lt;/span&gt;,&lt;span style="color: #666666"&gt;2&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>besselj(x,n)</code>: 贝塞尔函数</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; besselj(x,&lt;span style="color: #666666"&gt;1/2&lt;/span&gt;)
  &lt;span style="color: #666666"&gt;1/2&lt;/span&gt;
 &lt;span style="color: #666666"&gt;2&lt;/span&gt;    sin(x)
&lt;span style="color: #666666"&gt;-------------&lt;/span&gt;
   &lt;span style="color: #666666"&gt;1/2&lt;/span&gt;  &lt;span style="color: #666666"&gt;1/2&lt;/span&gt;
  &lt;span style="#FF0000"&gt;π&lt;/span&gt;    x&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>binding(s)</code>: 符号表达式的原本形式</h2>
<p>计算一个符号表达式时，其结果可能与符号表达式的原始形式不同，比如结果表达式会展开。使用<code>binding</code>函数可以返回符号表达式原本的形式。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; p &lt;span style="color: #666666"&gt;=&lt;/span&gt; quote((x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;)&lt;span style="color: #666666"&gt;^2&lt;/span&gt;)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; p
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; binding(p)
     &lt;span style="color: #666666"&gt;2&lt;/span&gt;
p &lt;span style="color: #666666"&gt;=&lt;/span&gt; x  &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt; x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;
       &lt;span style="color: #666666"&gt;2&lt;/span&gt;
(x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>binomial(n,k)</code>: 二项式系数, 或组合数</h2>
<p>$(x+y)^n$的展开式中$x^k y^(n-k)$项的系数.</p>
<p>此函数与<code>choose</code>相同。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; binomial(&lt;span style="color: #666666"&gt;52&lt;/span&gt;,&lt;span style="color: #666666"&gt;5&lt;/span&gt;)
&lt;span style="color: #666666"&gt;2598960&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>ceiling(x)</code>: 大于或等于<code>x</code>的最小整数</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; ceiling(&lt;span style="color: #666666"&gt;1/2&lt;/span&gt;)
&lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>check(x)</code>: 测试表达式<code>x</code>的值并决定是否停止脚本</h2>
<p>如果<code>x</code>为真（非零）则继续执行脚本，否则停止脚本。表达式<code>x</code>可以包含比较运算，比如<code>=</code>、<code>==</code>、<code>&lt;</code>、<code>&lt;=</code>、<code>&gt;</code>、<code>&gt;=</code>。可以使用<code>not</code>函数测试非等价条件。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; B &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; check(A&lt;span style="color: #666666"&gt;=&lt;/span&gt;B) &lt;span style="color: #666666"&gt;--&lt;/span&gt; &lt;span style="#FF0000"&gt;如果&lt;/span&gt;A&lt;span style="#FF0000"&gt;不等于&lt;/span&gt;B, &lt;span style="#FF0000"&gt;则在此处停止脚本&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>choose(n,k)</code>: 组合数</h2>
<p>从<code>n</code>中不考虑顺序取<code>k</code>个项的组合数（即$C_n^k$）。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; choose(&lt;span style="color: #666666"&gt;52&lt;/span&gt;,&lt;span style="color: #666666"&gt;5&lt;/span&gt;)
&lt;span style="color: #666666"&gt;2598960&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>circexp(x)</code>: 计算<code>x</code>表达式，将其中的三角函数和双曲函数转换为指数形式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; circexp(cos(x) &lt;span style="color: #666666"&gt;+&lt;/span&gt; i sin(x))
exp(i x)&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>clear</code>: 清除所有的符号定义</h2>
<h2><code>clock(z)</code>: 复数<code>z</code>的极坐标形式，但使用<code>-1</code>作为底数，而不使用<code>e</code></h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; clock(&lt;span style="color: #666666"&gt;2&lt;/span&gt; &lt;span style="color: #666666"&gt;-&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt;i)</p>
<pre><code>       arctan(&lt;span style="color: #666666"&gt;-3&lt;/span&gt;,&lt;span style="color: #666666"&gt;2&lt;/span&gt;)
      &lt;span style="color: #666666"&gt;--------------&lt;/span&gt;</code></pre>
<p>&lt;span style="color: #666666"&gt;1/2&lt;/span&gt;           &lt;span style="#FF0000"&gt;π&lt;/span&gt;
&lt;span style="color: #666666"&gt;13&lt;/span&gt;    (&lt;span style="color: #666666"&gt;-1&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>coeff(p,x,n)</code>: 多项式<code>p</code>中$x^n$项的系数</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; p &lt;span style="color: #666666"&gt;=&lt;/span&gt; x&lt;span style="color: #666666"&gt;^3&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;6&lt;/span&gt;x&lt;span style="color: #666666"&gt;^2&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;12&lt;/span&gt;x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;8&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; coeff(p,x,&lt;span style="color: #666666"&gt;2&lt;/span&gt;)
&lt;span style="color: #666666"&gt;6&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>cofactor(m,i,j)</code>: 矩阵<code>m</code>第<code>i</code>行、第<code>j</code>列元素的代数余子式, 伴随矩阵的转置。</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((a,b),(c,d))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; cofactor(A,&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;2&lt;/span&gt;) &lt;span style="color: #666666"&gt;==&lt;/span&gt; adj(A)[&lt;span style="color: #666666"&gt;2&lt;/span&gt;,&lt;span style="color: #666666"&gt;1&lt;/span&gt;]
&lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>conj(z)</code>: 复数<code>z</code>的共轭。</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; conj(&lt;span style="color: #666666"&gt;2&lt;/span&gt; &lt;span style="color: #666666"&gt;-&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt;i)
&lt;span style="color: #666666"&gt;2&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt; i&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>contract(a,i,j)</code>: 张量<code>a</code>对指标<code>i</code>和<code>j</code>缩并, 矩阵<code>m</code>的迹</h2>
<p>如果忽略<code>i</code>和<code>j</code>，则分别取<code>1</code>和<code>2</code>。表达式<code>contract(m)</code>表示计算矩阵<code>m</code>的迹（即$\tr(m)$）。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((a,b),(c,d))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; contract(A)
a &lt;span style="color: #666666"&gt;+&lt;/span&gt; d&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>cos(x)</code>: <code>x</code>的余弦</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; cos(pi&lt;span style="color: #666666"&gt;/4&lt;/span&gt;)
  &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;------&lt;/span&gt;
  &lt;span style="color: #666666"&gt;1/2&lt;/span&gt;
 &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>cosh(x)</code>: <code>x</code>的双曲余弦</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; circexp(cosh(x))
 &lt;span style="color: #666666"&gt;1&lt;/span&gt;             &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;---&lt;/span&gt; exp(&lt;span style="color: #666666"&gt;-&lt;/span&gt;x) &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;---&lt;/span&gt; exp(x)
 &lt;span style="color: #666666"&gt;2&lt;/span&gt;             &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>cross(u,v)</code>: 向量<code>u</code>和<code>v</code>的叉积</h2>
<p><code>cross</code>函数可重定义，默认定义如下：</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;cross(u,v) &lt;span style="color: #666666"&gt;=&lt;/span&gt; (u[&lt;span style="color: #666666"&gt;2&lt;/span&gt;] v[&lt;span style="color: #666666"&gt;3&lt;/span&gt;] &lt;span style="color: #666666"&gt;-&lt;/span&gt; u[&lt;span style="color: #666666"&gt;3&lt;/span&gt;] v[&lt;span style="color: #666666"&gt;2&lt;/span&gt;],
              u[&lt;span style="color: #666666"&gt;3&lt;/span&gt;] v[&lt;span style="color: #666666"&gt;1&lt;/span&gt;] &lt;span style="color: #666666"&gt;-&lt;/span&gt; u[&lt;span style="color: #666666"&gt;1&lt;/span&gt;] v[&lt;span style="color: #666666"&gt;3&lt;/span&gt;],
              u[&lt;span style="color: #666666"&gt;1&lt;/span&gt;] v[&lt;span style="color: #666666"&gt;2&lt;/span&gt;] &lt;span style="color: #666666"&gt;-&lt;/span&gt; u[&lt;span style="color: #666666"&gt;2&lt;/span&gt;] v[&lt;span style="color: #666666"&gt;1&lt;/span&gt;])&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>curl(u)</code>: 向量<code>u</code>的旋度</h2>
<p><code>curl</code>函数可重定义，默认定义如下：</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;curl(u) &lt;span style="color: #666666"&gt;=&lt;/span&gt; (d(u[&lt;span style="color: #666666"&gt;3&lt;/span&gt;],y) &lt;span style="color: #666666"&gt;-&lt;/span&gt; d(u[&lt;span style="color: #666666"&gt;2&lt;/span&gt;],z),
           d(u[&lt;span style="color: #666666"&gt;1&lt;/span&gt;],z) &lt;span style="color: #666666"&gt;-&lt;/span&gt; d(u[&lt;span style="color: #666666"&gt;3&lt;/span&gt;],x),
           d(u[&lt;span style="color: #666666"&gt;2&lt;/span&gt;],x) &lt;span style="color: #666666"&gt;-&lt;/span&gt; d(u[&lt;span style="color: #666666"&gt;1&lt;/span&gt;],y))&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>d(f,x)</code>: <code>f</code>对<code>x</code>的偏导数</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; d(x&lt;span style="color: #666666"&gt;^2&lt;/span&gt;,x)
&lt;span style="color: #666666"&gt;2&lt;/span&gt; x&lt;/pre&gt;&lt;/div&gt;</p>
<p>参数<code>f</code>可以是任意秩的张量，参数<code>x</code>可以是向量。当<code>x</code>为向量时，结果为<code>f</code>的梯度。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; F &lt;span style="color: #666666"&gt;=&lt;/span&gt; (f(),g(),h())
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; X &lt;span style="color: #666666"&gt;=&lt;/span&gt; (x,y,z)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; d(F,X)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;                                &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; d(f(),x)   d(f(),y)   d(f(),z) &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;                                &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; d(g(),x)   d(g(),y)   d(g(),z) &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;                                &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; d(h(),x)   d(h(),y)   d(h(),z) &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;                                &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<p><code>d</code>可以用作变量名，它不会与函数<code>d</code>冲突。</p>
<p>可以将<code>d</code>重定义为其他函数，这种情况下仍然可以使用<code>derivative</code>(<code>d</code>的同义函数)计算偏导数。</p>
<h2><code>defint(f,x,a,b)</code>: 从<code>a</code>到<code>b</code>, <code>f</code>对<code>x</code>的定积分</h2>
<p>参数可以扩展以对多个变量进行定积分计算（多重积分），例如<code>defint(f,x,a,b,y,c,d)</code>等价于<code>defint(defint(f,x,a,b),y,c,d)</code>。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; f &lt;span style="color: #666666"&gt;=&lt;/span&gt; (&lt;span style="color: #666666"&gt;1&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; cos(theta)&lt;span style="color: #666666"&gt;^2&lt;/span&gt;) sin(theta)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; defint(f, theta, &lt;span style="color: #666666"&gt;0&lt;/span&gt;, pi, phi, &lt;span style="color: #666666"&gt;0&lt;/span&gt;, &lt;span style="color: #666666"&gt;2&lt;/span&gt;pi)
 &lt;span style="color: #666666"&gt;16&lt;/span&gt;
&lt;span style="color: #666666"&gt;----&lt;/span&gt; &lt;span style="#FF0000"&gt;π&lt;/span&gt;
 &lt;span style="color: #666666"&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>deg(p,x)</code>: 多项式<code>p</code>中<code>x</code>的最高次数</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; p &lt;span style="color: #666666"&gt;=&lt;/span&gt; (&lt;span style="color: #666666"&gt;2&lt;/span&gt;x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;)&lt;span style="color: #666666"&gt;^3&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; deg(p,x)
&lt;span style="color: #666666"&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>denominator(x)</code>: 表达式<code>x</code>的分母</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; denominator(a&lt;span style="color: #666666"&gt;/&lt;/span&gt;b)
b&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>det(m)</code>: 矩阵<code>m</code>的行列式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((a,b),(c,d))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; det(A)
a d &lt;span style="color: #666666"&gt;-&lt;/span&gt; b c&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>dim(a,n)</code>: 张量<code>a</code>第<code>n</code>个指标的维数, 或矩阵<code>a</code>第<code>n</code>列的维数</h2>
<p>注意编号从1开始。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;2&lt;/span&gt;),(&lt;span style="color: #666666"&gt;3&lt;/span&gt;,&lt;span style="color: #666666"&gt;4&lt;/span&gt;),(&lt;span style="color: #666666"&gt;5&lt;/span&gt;,&lt;span style="color: #666666"&gt;6&lt;/span&gt;))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; dim(A,&lt;span style="color: #666666"&gt;1&lt;/span&gt;)
&lt;span style="color: #666666"&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>div(u)</code>: 向量<code>u</code>的散度</h2>
<p><code>div</code>函数可重定义，默认定义如下：</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;div(u) &lt;span style="color: #666666"&gt;=&lt;/span&gt; d(u[&lt;span style="color: #666666"&gt;1&lt;/span&gt;],x) &lt;span style="color: #666666"&gt;+&lt;/span&gt; d(u[&lt;span style="color: #666666"&gt;2&lt;/span&gt;],y) &lt;span style="color: #666666"&gt;+&lt;/span&gt; d(u[&lt;span style="color: #666666"&gt;3&lt;/span&gt;],z)&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>do(a,b,...)</code>: 从左到右依次计算每个参数表达式，返回最后一个参数的计算结果</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;do&lt;/span&gt;(A&lt;span style="color: #666666"&gt;=1&lt;/span&gt;,B&lt;span style="color: #666666"&gt;=2&lt;/span&gt;,A&lt;span style="color: #666666"&gt;+&lt;/span&gt;B)
&lt;span style="color: #666666"&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意，计算过程的中间变量在函数计算结束后仍然会保留。</p>
<h2><code>dot(a,b,...)</code>: 向量、矩阵、张量的点积，矩阵乘法</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #008800"&gt;# 计算方程组AX=B的解&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;2&lt;/span&gt;),(&lt;span style="color: #666666"&gt;3&lt;/span&gt;,&lt;span style="color: #666666"&gt;4&lt;/span&gt;))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; B &lt;span style="color: #666666"&gt;=&lt;/span&gt; (&lt;span style="color: #666666"&gt;5&lt;/span&gt;,&lt;span style="color: #666666"&gt;6&lt;/span&gt;)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; X &lt;span style="color: #666666"&gt;=&lt;/span&gt; dot(inv(A),B)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; X
    &lt;span style="#FF0000"&gt;┌&lt;/span&gt;     &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
    &lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;-4&lt;/span&gt;  &lt;span style="#FF0000"&gt;│&lt;/span&gt;
    &lt;span style="#FF0000"&gt;│&lt;/span&gt;     &lt;span style="#FF0000"&gt;│&lt;/span&gt;
X &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;  &lt;span style="color: #666666"&gt;9&lt;/span&gt;  &lt;span style="#FF0000"&gt;│&lt;/span&gt;
    &lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;---&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
    &lt;span style="#FF0000"&gt;│&lt;/span&gt;  &lt;span style="color: #666666"&gt;2&lt;/span&gt;  &lt;span style="#FF0000"&gt;│&lt;/span&gt;
    &lt;span style="#FF0000"&gt;└&lt;/span&gt;     &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>draw(f,x)</code>: 绘制<code>f(x)</code>的函数图像</h2>
<p>可以通过设置<code>xrange</code>和<code>yrange</code>指定绘制范围</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; xrange &lt;span style="color: #666666"&gt;=&lt;/span&gt; (&lt;span style="color: #666666"&gt;0&lt;/span&gt;,&lt;span style="color: #666666"&gt;1&lt;/span&gt;)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; yrange &lt;span style="color: #666666"&gt;=&lt;/span&gt; (&lt;span style="color: #666666"&gt;0&lt;/span&gt;,&lt;span style="color: #666666"&gt;1&lt;/span&gt;)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; draw(x&lt;span style="color: #666666"&gt;^2&lt;/span&gt;,x)&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意，该功能需要在GUI中使用。</p>
<h2><code>e</code>: 初始化为自然常数<code>e</code></h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; e&lt;span style="color: #666666"&gt;^&lt;/span&gt;x
exp(x)&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意: 可以清除或重定义<code>e</code>, 用作其他.</p>
<h2><code>eigen(m)</code>: 数值计算特征值和特征向量, $m=Q'DQ$</h2>
<p>注意，矩阵<code>m</code>必须为数值, 且对称。计算结果会保存在<code>Q</code>和<code>D</code>变量中，其中<code>Q</code>的行保存了特征向量，<code>D</code>对角线上的元素为特征值。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;2&lt;/span&gt;),(&lt;span style="color: #666666"&gt;2&lt;/span&gt;,&lt;span style="color: #666666"&gt;1&lt;/span&gt;))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; eigen(A)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; dot(transpose(Q),D,Q)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;       &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;   &lt;span style="color: #666666"&gt;2&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;       &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;   &lt;span style="color: #666666"&gt;1&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;       &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>erf(x)</code>: <code>x</code>的误差函数</h2>
<h2><code>erfc(x)</code>: <code>x</code>的余误差函数</h2>
<h2><code>eval(f,x,a)</code>: <code>x</code>等于<code>a</code>时表达式<code>f</code>的值</h2>
<p>参数列表可以扩充以支持多个变量。比如，<code>eval(f,x,a,y,b)</code>等价于<code>eval(eval(f,x,a),y,b)</code>。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; eval(x &lt;span style="color: #666666"&gt;+&lt;/span&gt; y,x,a,y,b)
a &lt;span style="color: #666666"&gt;+&lt;/span&gt; b&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>exp(x)</code>: <code>x</code>的<code>e</code>次幂$e^x$</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; exp(i pi)
&lt;span style="color: #666666"&gt;-1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>expand(r,x)</code>: 多项式<code>r</code>按<code>x</code>次数的部分分数展开</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; p &lt;span style="color: #666666"&gt;=&lt;/span&gt; (x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;)&lt;span style="color: #666666"&gt;^2&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; q &lt;span style="color: #666666"&gt;=&lt;/span&gt; (x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;)&lt;span style="color: #666666"&gt;^2&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; expand(p&lt;span style="color: #666666"&gt;/&lt;/span&gt;q,x)
    &lt;span style="color: #666666"&gt;2&lt;/span&gt;            &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;--------&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;--------------&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;
  x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;      &lt;span style="color: #666666"&gt;2&lt;/span&gt;
            x  &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;4&lt;/span&gt; x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;4&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>expcos(z)</code>: <code>z</code>的余弦函数的指数形式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; expcos(z)
 &lt;span style="color: #666666"&gt;1&lt;/span&gt;              &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;---&lt;/span&gt; exp(i z) &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;---&lt;/span&gt; exp(&lt;span style="color: #666666"&gt;-&lt;/span&gt;i z)
 &lt;span style="color: #666666"&gt;2&lt;/span&gt;              &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>expcosh(z)</code>: <code>z</code>的双曲余弦函数的指数形式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; expcosh(z)</p>
<p>&lt;span style="color: #666666"&gt;1&lt;/span&gt;             &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;---&lt;/span&gt; exp(&lt;span style="color: #666666"&gt;-&lt;/span&gt;z) &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;---&lt;/span&gt; exp(z)
&lt;span style="color: #666666"&gt;2&lt;/span&gt;             &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>expsin(z)</code>: <code>z</code>的正弦函数的指数形式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; expsin(z)</p>
<p>&lt;span style="color: #666666"&gt;1&lt;/span&gt;                &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;----&lt;/span&gt; i exp(i z) &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;---&lt;/span&gt; i exp(&lt;span style="color: #666666"&gt;-&lt;/span&gt;i z)
&lt;span style="color: #666666"&gt;2&lt;/span&gt;                &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>expsinh(z)</code>: <code>z</code>的双曲正弦函数的指数形式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; expsinh(z)
  &lt;span style="color: #666666"&gt;1&lt;/span&gt;             &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;----&lt;/span&gt; exp(&lt;span style="color: #666666"&gt;-&lt;/span&gt;z) &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;---&lt;/span&gt; exp(z)
  &lt;span style="color: #666666"&gt;2&lt;/span&gt;             &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>exptan(z)</code>: <code>z</code>的正切函数的指数形式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; exptan(z)
       i             i exp(&lt;span style="color: #666666"&gt;2&lt;/span&gt; i z)
&lt;span style="color: #666666"&gt;----------------&lt;/span&gt; &lt;span style="color: #666666"&gt;-&lt;/span&gt; &lt;span style="color: #666666"&gt;----------------&lt;/span&gt;
 exp(&lt;span style="color: #666666"&gt;2&lt;/span&gt; i z) &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;     exp(&lt;span style="color: #666666"&gt;2&lt;/span&gt; i z) &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>exptanh(z)</code>: <code>z</code>的双曲正切函数的指数形式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; exptanh(z)
       &lt;span style="color: #666666"&gt;1&lt;/span&gt;             exp(&lt;span style="color: #666666"&gt;2&lt;/span&gt; z)
&lt;span style="color: #666666"&gt;---------------&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;--------------&lt;/span&gt;
  exp(&lt;span style="color: #666666"&gt;2&lt;/span&gt; z) &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;     exp(&lt;span style="color: #666666"&gt;2&lt;/span&gt; z) &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>factor(n)</code>: 数<code>n</code>的因数（质数分解）</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; factor(&lt;span style="color: #666666"&gt;12/35&lt;/span&gt;)
  &lt;span style="color: #666666"&gt;2&lt;/span&gt;
 &lt;span style="color: #666666"&gt;2&lt;/span&gt;  &lt;span style="color: #666666"&gt;3&lt;/span&gt;
&lt;span style="color: #666666"&gt;------&lt;/span&gt;
 &lt;span style="color: #666666"&gt;5&lt;/span&gt; &lt;span style="color: #666666"&gt;7&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<p>如果<code>n</code>是一个浮点数，则选取它的一个近似值进行计算。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; factor(&lt;span style="color: #00BB00; font-weight: bold"&gt;float&lt;/span&gt;(pi))
 &lt;span style="color: #666666"&gt;5&lt;/span&gt; &lt;span style="color: #666666"&gt;71&lt;/span&gt;
&lt;span style="color: #666666"&gt;------&lt;/span&gt;
 &lt;span style="color: #666666"&gt;113&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>factor(p,x)</code>: 多项式<code>p</code>关于<code>x</code>的因式分解</h2>
<p>对于多变量的多项式，函数的参数列表可以扩展。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; p &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;x &lt;span style="color: #666666"&gt;+&lt;/span&gt; x y &lt;span style="color: #666666"&gt;+&lt;/span&gt; y &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; factor(p,x,y)
(x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;) (y &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意，<code>factor</code>函数返回的是未展开的表达式，如果将结果赋值给一个符号变量，则对这个符号变量的计算会将结果展开。如果希望保持不展开的结果，可通过<code>binding</code>函数进行处理。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; p &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;x &lt;span style="color: #666666"&gt;+&lt;/span&gt; x y &lt;span style="color: #666666"&gt;+&lt;/span&gt; y &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; q &lt;span style="color: #666666"&gt;=&lt;/span&gt; factor(p,x,y)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; q
q &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt; x &lt;span style="color: #666666"&gt;+&lt;/span&gt; x y &lt;span style="color: #666666"&gt;+&lt;/span&gt; y &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; binding(q)
(x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;) (y &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>factorial(n)</code>: <code>n</code>的阶乘<code>n!</code></h2>
<p>也可以使用<code>n!</code>。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color: #666666"&gt;20!&lt;/span&gt;
&lt;span style="color: #666666"&gt;2432902008176640000&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>filter(f,a,b,...)</code>: <code>f</code>中不包含<code>a</code>、<code>b</code>等的表达式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; p &lt;span style="color: #666666"&gt;=&lt;/span&gt; x&lt;span style="color: #666666"&gt;^2&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt;x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; filter(p,x&lt;span style="color: #666666"&gt;^2&lt;/span&gt;)
&lt;span style="color: #666666"&gt;3&lt;/span&gt; x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>float(x)</code>: 表达式<code>x</code>的有理数和整数转换为浮点数之后的值</h2>
<p>注意，<code>pi</code>和<code>e</code>也会转换。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color: #00BB00; font-weight: bold"&gt;float&lt;/span&gt;(&lt;span style="color: #666666"&gt;212^17&lt;/span&gt;)
          &lt;span style="color: #666666"&gt;39&lt;/span&gt;
&lt;span style="color: #666666"&gt;3.52947&lt;/span&gt; &lt;span style="color: #666666"&gt;10&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>floor(x)</code>: 小于或等于<code>x</code>的最大整数</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; floor(&lt;span style="color: #666666"&gt;1/2&lt;/span&gt;)
&lt;span style="color: #666666"&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>for(i,j,k,a,b,...)</code>: <code>i</code>取值从j到k时，计算<code>a</code>、<code>b</code>及后续表达式的值</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;for&lt;/span&gt;(k,&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;3&lt;/span&gt;,A&lt;span style="color: #666666"&gt;=&lt;/span&gt;k,print(A))
A &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;
A &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;
A &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意，<code>for</code>循环中<code>i</code>的值在<code>for</code>循环结束后会恢复原值，除非<code>for</code>循环被<code>check</code>之类的函数打断。如果使用<code>i</code>作为计数变量，<code>for</code>循环内的虚数单位会被覆盖（涉及复数计算时，尽量不使用<code>i</code>作为变量）。</p>
<h2><code>gcd(a,b,...)</code>: 各表达式的最大公约数</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; gcd(x,x y)
x&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>hermite(x,n)</code>: <code>x</code>的<code>n</code>阶Hermite多项式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; hermite(x,&lt;span style="color: #666666"&gt;3&lt;/span&gt;)
   &lt;span style="color: #666666"&gt;3&lt;/span&gt;
&lt;span style="color: #666666"&gt;8&lt;/span&gt; x  &lt;span style="color: #666666"&gt;-&lt;/span&gt; &lt;span style="color: #666666"&gt;12&lt;/span&gt; x&lt;/pre&gt;&lt;/div&gt;</p>
<h2>(新版本中不可用) <code>hilbert(n)</code>: <code>n</code>阶Hilbert矩阵</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; hilbert(&lt;span style="color: #666666"&gt;3&lt;/span&gt;)
       &lt;span style="color: #666666"&gt;1&lt;/span&gt;     &lt;span style="color: #666666"&gt;1&lt;/span&gt;
 &lt;span style="color: #666666"&gt;1&lt;/span&gt;    &lt;span style="color: #666666"&gt;---&lt;/span&gt;   &lt;span style="color: #666666"&gt;---&lt;/span&gt;
       &lt;span style="color: #666666"&gt;2&lt;/span&gt;     &lt;span style="color: #666666"&gt;3&lt;/span&gt;
 &lt;span style="color: #666666"&gt;1&lt;/span&gt;     &lt;span style="color: #666666"&gt;1&lt;/span&gt;     &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;---&lt;/span&gt;   &lt;span style="color: #666666"&gt;---&lt;/span&gt;   &lt;span style="color: #666666"&gt;---&lt;/span&gt;
 &lt;span style="color: #666666"&gt;2&lt;/span&gt;     &lt;span style="color: #666666"&gt;3&lt;/span&gt;     &lt;span style="color: #666666"&gt;4&lt;/span&gt;
 &lt;span style="color: #666666"&gt;1&lt;/span&gt;     &lt;span style="color: #666666"&gt;1&lt;/span&gt;     &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;---&lt;/span&gt;   &lt;span style="color: #666666"&gt;---&lt;/span&gt;   &lt;span style="color: #666666"&gt;---&lt;/span&gt;
 &lt;span style="color: #666666"&gt;3&lt;/span&gt;     &lt;span style="color: #666666"&gt;4&lt;/span&gt;     &lt;span style="color: #666666"&gt;5&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>hadamard(a,b,...)</code>: Hadamard积(对应元素的乘积)</h2>
<p>参数的维数必须相同. Hadamard积也可以通过简单地对参数相乘进行计算.</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((A11,A12),(A21,A22))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; B &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((B11,B12),(B21,B22))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A B
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;                   &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; A   B     A   B   &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;  &lt;span style="color: #666666"&gt;11&lt;/span&gt;  &lt;span style="color: #666666"&gt;11&lt;/span&gt;    &lt;span style="color: #666666"&gt;12&lt;/span&gt;  &lt;span style="color: #666666"&gt;12&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;                   &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; A   B     A   B   &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;  &lt;span style="color: #666666"&gt;21&lt;/span&gt;  &lt;span style="color: #666666"&gt;21&lt;/span&gt;    &lt;span style="color: #666666"&gt;22&lt;/span&gt;  &lt;span style="color: #666666"&gt;22&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;                   &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>i</code>: 初始化为虚数单位$(-1)^{1/2}$</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; exp(i pi)
&lt;span style="color: #666666"&gt;-1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意: 可以清除或重定义<code>i</code>做其他用途.</p>
<h2><code>imag(z)</code>: <code>z</code>的虚部</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; imag(&lt;span style="color: #666666"&gt;2&lt;/span&gt; &lt;span style="color: #666666"&gt;-&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt;i)
&lt;span style="color: #666666"&gt;-3&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>inner(a,b,...)</code>: 向量、张量、矩阵的内积（矩阵乘法）</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((a,b),(c,d))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; B &lt;span style="color: #666666"&gt;=&lt;/span&gt; (x,y)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; inner(A,B)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;           &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; a x &lt;span style="color: #666666"&gt;+&lt;/span&gt; b y &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;           &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; c x &lt;span style="color: #666666"&gt;+&lt;/span&gt; d y &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;           &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意，<code>inner</code>与<code>dot</code>是同一函数。</p>
<h2><code>integral(f,x)</code>: <code>f</code>关于<code>x</code>的不定积分</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; integral(x&lt;span style="color: #666666"&gt;^2&lt;/span&gt;,x)
 &lt;span style="color: #666666"&gt;1&lt;/span&gt;   &lt;span style="color: #666666"&gt;3&lt;/span&gt;
&lt;span style="color: #666666"&gt;---&lt;/span&gt; x
 &lt;span style="color: #666666"&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>inv(m)</code>: 矩阵<code>m</code>的逆矩阵</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;2&lt;/span&gt;),(&lt;span style="color: #666666"&gt;3&lt;/span&gt;,&lt;span style="color: #666666"&gt;4&lt;/span&gt;))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; inv(A)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;            &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;-2&lt;/span&gt;     &lt;span style="color: #666666"&gt;1&lt;/span&gt;   &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;            &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;  &lt;span style="color: #666666"&gt;3&lt;/span&gt;      &lt;span style="color: #666666"&gt;1&lt;/span&gt;  &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;---&lt;/span&gt;   &lt;span style="color: #666666"&gt;----&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;  &lt;span style="color: #666666"&gt;2&lt;/span&gt;      &lt;span style="color: #666666"&gt;2&lt;/span&gt;  &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;            &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>isprime(n)</code>: 若<code>n</code>为质数返回1，否则返回0</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; isprime(&lt;span style="color: #666666"&gt;2^31&lt;/span&gt; &lt;span style="color: #666666"&gt;-&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;)
&lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>j</code>: 设置<code>j=sqrt(-1)</code>, 以便使用<code>j</code>而不是<code>i</code>作为虚数单位</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; j &lt;span style="color: #666666"&gt;=&lt;/span&gt; sqrt(&lt;span style="color: #666666"&gt;-1&lt;/span&gt;)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color: #666666"&gt;1/&lt;/span&gt;sqrt(&lt;span style="color: #666666"&gt;-1&lt;/span&gt;)
&lt;span style="color: #666666"&gt;-&lt;/span&gt;j&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>kronecker(a,b,...)</code>: 向量, 矩阵的Kronecker积(直积)</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;2&lt;/span&gt;),(&lt;span style="color: #666666"&gt;3&lt;/span&gt;,&lt;span style="color: #666666"&gt;4&lt;/span&gt;))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; B &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((a,b),(c,d))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; kronecker(A,B)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;                       &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;  a     b    &lt;span style="color: #666666"&gt;2&lt;/span&gt; a   &lt;span style="color: #666666"&gt;2&lt;/span&gt; b &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;                       &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;  c     d    &lt;span style="color: #666666"&gt;2&lt;/span&gt; c   &lt;span style="color: #666666"&gt;2&lt;/span&gt; d &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;                       &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt; a   &lt;span style="color: #666666"&gt;3&lt;/span&gt; b   &lt;span style="color: #666666"&gt;4&lt;/span&gt; a   &lt;span style="color: #666666"&gt;4&lt;/span&gt; b &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;                       &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt; c   &lt;span style="color: #666666"&gt;3&lt;/span&gt; d   &lt;span style="color: #666666"&gt;4&lt;/span&gt; c   &lt;span style="color: #666666"&gt;4&lt;/span&gt; d &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;                       &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>laguerre(x,n,a)</code>: <code>x</code>的<code>n</code>阶关联Laguerre多项式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; laguerre(x,&lt;span style="color: #666666"&gt;3&lt;/span&gt;,&lt;span style="color: #666666"&gt;0&lt;/span&gt;)
  &lt;span style="color: #666666"&gt;1&lt;/span&gt;   &lt;span style="color: #666666"&gt;3&lt;/span&gt;    &lt;span style="color: #666666"&gt;3&lt;/span&gt;   &lt;span style="color: #666666"&gt;2&lt;/span&gt;
&lt;span style="color: #666666"&gt;----&lt;/span&gt; x  &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;---&lt;/span&gt; x  &lt;span style="color: #666666"&gt;-&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt; x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;
  &lt;span style="color: #666666"&gt;6&lt;/span&gt;        &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>last</code>: 上一步的计算结果</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color: #666666"&gt;212^17&lt;/span&gt;
&lt;span style="color: #666666"&gt;3529471145760275132301897342055866171392&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; last&lt;span style="color: #666666"&gt;^&lt;/span&gt;(&lt;span style="color: #666666"&gt;1/17&lt;/span&gt;)
&lt;span style="color: #666666"&gt;212&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意，对某些函数，如果未指定参数，则会将<code>last</code>作为参数。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color: #666666"&gt;212^17&lt;/span&gt;
&lt;span style="color: #666666"&gt;3529471145760275132301897342055866171392&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color: #00BB00; font-weight: bold"&gt;float&lt;/span&gt;
          &lt;span style="color: #666666"&gt;39&lt;/span&gt;
&lt;span style="color: #666666"&gt;3.52947&lt;/span&gt; &lt;span style="color: #666666"&gt;10&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>lcm(a,b,...)</code>: 各表达式的最小公倍数</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; lcm(x,x y)
x y&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>leading(p,x)</code>: 多项式<code>p</code>中<code>x</code>最高次项的系数</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; leading(&lt;span style="color: #666666"&gt;3&lt;/span&gt;x&lt;span style="color: #666666"&gt;^2+&lt;/span&gt;y&lt;span style="color: #666666"&gt;^4+1&lt;/span&gt;,x)
&lt;span style="color: #666666"&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>legendre(x,n,m)</code>: <code>x</code>的<code>n</code>阶关联Legendre多项式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; legendre(x,&lt;span style="color: #666666"&gt;3&lt;/span&gt;,&lt;span style="color: #666666"&gt;0&lt;/span&gt;)
 &lt;span style="color: #666666"&gt;5&lt;/span&gt;   &lt;span style="color: #666666"&gt;3&lt;/span&gt;    &lt;span style="color: #666666"&gt;3&lt;/span&gt;
&lt;span style="color: #666666"&gt;---&lt;/span&gt; x  &lt;span style="color: #666666"&gt;-&lt;/span&gt; &lt;span style="color: #666666"&gt;---&lt;/span&gt; x
 &lt;span style="color: #666666"&gt;2&lt;/span&gt;        &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2>(新版本中不可用) <code>lisp(x)</code>: 计算表达式<code>x</code>并返回结果的前缀符号形式</h2>
<p>在调试脚本时很有用。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; lisp(x&lt;span style="color: #666666"&gt;^2&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;)
(&lt;span style="color: #666666"&gt;+&lt;/span&gt; (&lt;span style="color: #666666"&gt;^&lt;/span&gt; x &lt;span style="color: #666666"&gt;2&lt;/span&gt;) &lt;span style="color: #666666"&gt;1&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>log(x)</code>: 以<code>e</code>为底<code>x</code>的对数(自然对数)</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; log(x&lt;span style="color: #666666"&gt;^&lt;/span&gt;y)
y log(x)&lt;/pre&gt;&lt;/div&gt;</p>
<p>如果要计算以其他值，如<code>a</code>，为底的对数，可使用换底公式：$log_a(x) = log(x)/log(a)$.</p>
<h2><code>mag(z)</code>: 复数<code>z</code>的模</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; mag(x &lt;span style="color: #666666"&gt;+&lt;/span&gt; i y)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;       &lt;span style="#FF0000"&gt;┐&lt;/span&gt;&lt;span style="color: #666666"&gt;1/2&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;    &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;x  &lt;span style="color: #666666"&gt;+&lt;/span&gt; y &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;       &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;       &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意，<code>mag</code>函数会将未定义的符号函数视为实数，而<code>abs</code>函数不会。</p>
<h2><code>minor(m,i,j)</code>: 矩阵<code>m</code>的<code>i</code>行<code>j</code>列对应的余子式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;2&lt;/span&gt;,&lt;span style="color: #666666"&gt;3&lt;/span&gt;),(&lt;span style="color: #666666"&gt;4&lt;/span&gt;,&lt;span style="color: #666666"&gt;5&lt;/span&gt;,&lt;span style="color: #666666"&gt;6&lt;/span&gt;),(&lt;span style="color: #666666"&gt;7&lt;/span&gt;,&lt;span style="color: #666666"&gt;8&lt;/span&gt;,&lt;span style="color: #666666"&gt;9&lt;/span&gt;))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; minor(A,&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;1&lt;/span&gt;) &lt;span style="color: #666666"&gt;==&lt;/span&gt; det(minormatrix(A,&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;1&lt;/span&gt;))
&lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>minormatrix(m,i,j)</code>: 矩阵<code>m</code>去除<code>i</code>行<code>j</code>列后的结果</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;2&lt;/span&gt;,&lt;span style="color: #666666"&gt;3&lt;/span&gt;),(&lt;span style="color: #666666"&gt;4&lt;/span&gt;,&lt;span style="color: #666666"&gt;5&lt;/span&gt;,&lt;span style="color: #666666"&gt;6&lt;/span&gt;),(&lt;span style="color: #666666"&gt;7&lt;/span&gt;,&lt;span style="color: #666666"&gt;8&lt;/span&gt;,&lt;span style="color: #666666"&gt;9&lt;/span&gt;))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; minormatrix(A,&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;1&lt;/span&gt;)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;       &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;5&lt;/span&gt;   &lt;span style="color: #666666"&gt;6&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;       &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;8&lt;/span&gt;   &lt;span style="color: #666666"&gt;9&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;       &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>mod(a,b)</code>: <code>a</code>除以<code>b</code>的模</h2>
<p>即<code>a</code>除以<code>b</code>计算整数商时的余数。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; mod(&lt;span style="color: #666666"&gt;10&lt;/span&gt;,&lt;span style="color: #666666"&gt;7&lt;/span&gt;)
&lt;span style="color: #666666"&gt;3&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; mod(&lt;span style="color: #666666"&gt;5&lt;/span&gt;,&lt;span style="color: #666666"&gt;3/8&lt;/span&gt;)
 &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;---&lt;/span&gt;
 &lt;span style="color: #666666"&gt;8&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>noexpand(x)</code>: 计算表达式<code>x</code>的值, 但不展开求和进行</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; noexpand((x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;)&lt;span style="color: #666666"&gt;^2&lt;/span&gt; &lt;span style="color: #666666"&gt;/&lt;/span&gt; (x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;))
x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>not(x)</code>: 逻辑非</h2>
<p>若<code>x</code>为真（非零）返回0，否则返回1</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; not(&lt;span style="color: #666666"&gt;1=1&lt;/span&gt;)
&lt;span style="color: #666666"&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>nroots(p,x)</code>: 多项式<code>p(x)</code>的所有根</h2>
<p>包括实数和复数根。该函数只进行数值计算。<code>p(x)</code>的系数可以是复数。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; nroots((x&lt;span style="color: #666666"&gt;-1&lt;/span&gt;)&lt;span style="color: #666666"&gt;*&lt;/span&gt;(x&lt;span style="color: #666666"&gt;+2&lt;/span&gt;),x)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;    &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;-2&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;    &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;  &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;    &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>number(x)</code>: 判断数字</h2>
<p>如果<code>x</code>为有理数或者浮点数返回1，否则返回0。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; number(&lt;span style="color: #666666"&gt;1/2&lt;/span&gt;)
&lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>numerator(x)</code>: 表达式<code>x</code>的分子</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; numerator(a&lt;span style="color: #666666"&gt;/&lt;/span&gt;b)
a
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; numerator(a&lt;span style="color: #666666"&gt;/&lt;/span&gt;b&lt;span style="color: #666666"&gt;+&lt;/span&gt;b&lt;span style="color: #666666"&gt;/&lt;/span&gt;a)
 &lt;span style="color: #666666"&gt;2&lt;/span&gt;    &lt;span style="color: #666666"&gt;2&lt;/span&gt;
a  &lt;span style="color: #666666"&gt;+&lt;/span&gt; b&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>or(a,b,...)</code>: 逻辑或</h2>
<p>如果参数列表中至少有一个表达式为真（非0），则返回1，否则返回0。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; or(&lt;span style="color: #666666"&gt;1=1&lt;/span&gt;,&lt;span style="color: #666666"&gt;2=2&lt;/span&gt;)
&lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>outer(a,b,...)</code>: 向量、矩阵或张量的外积（张量积）</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; (a,b,c)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; B &lt;span style="color: #666666"&gt;=&lt;/span&gt; (x,y,z)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; outer(A,B)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;                 &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; a x   a y   a z &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;                 &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; b x   b y   b z &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;                 &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; c x   c y   c z &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;                 &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>pi</code>: 符号π</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; exp(i pi)
&lt;span style="color: #666666"&gt;-1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>polar(z)</code>: 复数<code>z</code>的极坐标形式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; polar(x &lt;span style="color: #666666"&gt;-&lt;/span&gt; i y)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;       &lt;span style="#FF0000"&gt;┐&lt;/span&gt;&lt;span style="color: #666666"&gt;1/2&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;    &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;x  &lt;span style="color: #666666"&gt;+&lt;/span&gt; y &lt;span style="#FF0000"&gt;│&lt;/span&gt;    exp(i arctan(&lt;span style="color: #666666"&gt;-&lt;/span&gt;y,x))
&lt;span style="#FF0000"&gt;│&lt;/span&gt;       &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;       &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>power</code>: 使用<code>^</code>求幂</h2>
<p>指数为负值时需要加括号.</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; x&lt;span style="color: #666666"&gt;^&lt;/span&gt;(&lt;span style="color: #666666"&gt;-1/2&lt;/span&gt;)
  &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;------&lt;/span&gt;
  &lt;span style="color: #666666"&gt;1/2&lt;/span&gt;
 x&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>prime(n)</code>: 第n个质数</h2>
<p>注意，<code>n</code>应介于1和10000之间。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; prime(&lt;span style="color: #666666"&gt;100&lt;/span&gt;)
&lt;span style="color: #666666"&gt;541&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>print(a,b,...)</code>: 计算表达式并输出结果</h2>
<p>通常与<code>for</code>函数配合使用, 用于在循环内部输出结果。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;for&lt;/span&gt;(j,&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;3&lt;/span&gt;,print(j))
j &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;
j &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;
j &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>product(i,j,k,f)</code>: 连乘积</h2>
<p>令<code>i</code>取值从<code>j</code>到<code>k</code>，分别计算<code>f</code>，并将它们的值累乘作为结果.</p>
<p>下面的例子等价于计算$(x+1)(x+2)(x+3)$的展开式。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; product(j,&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;3&lt;/span&gt;,x &lt;span style="color: #666666"&gt;+&lt;/span&gt; j)
 &lt;span style="color: #666666"&gt;3&lt;/span&gt;      &lt;span style="color: #666666"&gt;2&lt;/span&gt;
x  &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;6&lt;/span&gt; x  &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;11&lt;/span&gt; x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;6&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意，<code>i</code>在函数计算结束后会恢复。如果使用<code>i</code>作为变量，则<code>product</code>函数内表达式中的复数单位<code>i</code>会被覆盖。</p>
<h2><code>product(y)</code>: <code>y</code>分量的连乘积.</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; product((&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;2&lt;/span&gt;,&lt;span style="color: #666666"&gt;3&lt;/span&gt;,&lt;span style="color: #666666"&gt;4&lt;/span&gt;))
&lt;span style="color: #666666"&gt;24&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>quote(x)</code>: 表达式<code>x</code>，而不先计算其值</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; quote((x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;)&lt;span style="color: #666666"&gt;^2&lt;/span&gt;)
       &lt;span style="color: #666666"&gt;2&lt;/span&gt;
(x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;)</p>
<p>&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; x&lt;span style="color: #666666"&gt;=2&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; quote((x&lt;span style="color: #666666"&gt;+1&lt;/span&gt;)&lt;span style="color: #666666"&gt;^2&lt;/span&gt;)
&lt;span style="color: #666666"&gt;2&lt;/span&gt;
(x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; t&lt;span style="color: #666666"&gt;=&lt;/span&gt;last
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; t
t &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;9&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>quotient(p,q,x)</code>: <code>p(x)</code>对<code>q(x)</code>的商</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; p &lt;span style="color: #666666"&gt;=&lt;/span&gt; x&lt;span style="color: #666666"&gt;^2&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; q &lt;span style="color: #666666"&gt;=&lt;/span&gt; x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; quotient(p,q,x)
x &lt;span style="color: #666666"&gt;-&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>rank(a)</code>: 矩阵或张量<code>a</code>的秩</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((a,b),(c,d))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; rank(A)
&lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>rationalize(x)</code>: 通分</h2>
<p>计算表达式<code>x</code>，并使其只有一个分母（即结果只含有一个分式）</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; rationalize(&lt;span style="color: #666666"&gt;1/&lt;/span&gt;a &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1/&lt;/span&gt;b &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1/2&lt;/span&gt;)
 &lt;span style="color: #666666"&gt;2&lt;/span&gt; a &lt;span style="color: #666666"&gt;+&lt;/span&gt; a b &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt; b
&lt;span style="color: #666666"&gt;-----------------&lt;/span&gt;
      &lt;span style="color: #666666"&gt;2&lt;/span&gt; a b&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意，<code>rationalize</code>函数返回未展开的表达式。如果将结果赋值给一个符号变量，对其求值会展开表达式。可以使用<code>binding</code>函数保持未展开的表达式。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; f &lt;span style="color: #666666"&gt;=&lt;/span&gt; rationalize(&lt;span style="color: #666666"&gt;1/&lt;/span&gt;a &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1/&lt;/span&gt;b &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1/2&lt;/span&gt;)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; binding(f)
 &lt;span style="color: #666666"&gt;2&lt;/span&gt; a &lt;span style="color: #666666"&gt;+&lt;/span&gt; a b &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt; b
&lt;span style="color: #666666"&gt;-----------------&lt;/span&gt;
      &lt;span style="color: #666666"&gt;2&lt;/span&gt; a b&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>real(z)</code>: 复数<code>z</code>的实部</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; real(&lt;span style="color: #666666"&gt;2&lt;/span&gt; &lt;span style="color: #666666"&gt;-&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt;i)
&lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>rect(z)</code>: 复数<code>z</code>的三角函数形式</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; rect(exp(i x))
cos(x) &lt;span style="color: #666666"&gt;+&lt;/span&gt; i sin(x)&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>roots(p,x)</code>: 多项式<code>p(x)</code>的根</h2>
<p>该多项式应当能够因式分解。返回的向量中包含了每个根。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; roots(x&lt;span style="color: #666666"&gt;^2&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;3&lt;/span&gt;x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;2&lt;/span&gt;,x)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;    &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;-2&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;    &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;-1&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;    &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>rotate(u,s,k,...)</code>: 旋转向量<code>u</code></h2>
<p>向量<code>u</code>必须具有2n个元素, 其中n为整数, 取值范围为1到15. 参数<code>s,k,...</code>为旋转代码的一个序列, 其中<code>s</code>为大写字母, <code>k</code>为4位的数, 从0到n-1. 旋转从左到右进行求值. 可以使用的旋转为:</p>
<ul>
<li><code>C, k</code>: 控制前缀 prefix</li>
<li><code>H, k</code>: Hadamard</li>
<li><code>P, k, φ</code>: 修改相位(φ = 1/4 π 用于 T 旋转)</li>
<li><code>Q, k</code>: 量子傅里叶变换Quantum Fourier transform</li>
<li><code>V, k</code>: 逆 量子傅里叶变换QuantumInverse quantum Fourier transform</li>
<li><code>W, k, j</code>: 交换位 Swap qubits</li>
<li><code>X, k</code>: 泡利 X</li>
<li><code>Y, k</code>: 泡利 Y</li>
<li><code>Z, k</code>: 泡利 Z</li>
</ul>
<p>控制前缀<code>C, k</code>修改下一个旋转代码, 以便使其成为一个使用k作为控制位的控制旋转. 使用两个会更多前缀来指定多个控制位. 例如, <code>C, k, C, j, X, m</code>为Toffoli旋转. 傅里叶旋转<code>Q, k</code>和<code>V, k</code>用于从0到k的量子位.(<code>Q</code>和<code>V</code>忽略所有控制前缀). 另见手册的第三节.</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; psi &lt;span style="color: #666666"&gt;=&lt;/span&gt; (&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;0&lt;/span&gt;,&lt;span style="color: #666666"&gt;0&lt;/span&gt;,&lt;span style="color: #666666"&gt;0&lt;/span&gt;)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; rotate(psi,H,&lt;span style="color: #666666"&gt;0&lt;/span&gt;)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;        &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;   &lt;span style="color: #666666"&gt;1&lt;/span&gt;    &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;------&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;   &lt;span style="color: #666666"&gt;1/2&lt;/span&gt;  &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;  &lt;span style="color: #666666"&gt;2&lt;/span&gt;     &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;        &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;   &lt;span style="color: #666666"&gt;1&lt;/span&gt;    &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;------&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;   &lt;span style="color: #666666"&gt;1/2&lt;/span&gt;  &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;  &lt;span style="color: #666666"&gt;2&lt;/span&gt;     &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;        &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;   &lt;span style="color: #666666"&gt;0&lt;/span&gt;    &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;        &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;   &lt;span style="color: #666666"&gt;0&lt;/span&gt;    &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;        &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>run(file)</code>: 执行脚本<code>file</code></h2>
<p><code>file</code>应为脚本的绝对路径或相对当前可执行文件位置的路径。在批量加载一些自定义函数时很有用，或可以实现脚本的嵌套调用。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; run(&lt;span style="color: #BB4444"&gt;&amp;quot;Downloads/EVA.txt&amp;quot;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>simplify(x)</code>: 化简表达式<code>x</code></h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; simplify(sin(x)&lt;span style="color: #666666"&gt;^2&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; cos(x)&lt;span style="color: #666666"&gt;^2&lt;/span&gt;)
&lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>sin(x)</code>: <code>x</code>的正弦函数值</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; sin(pi&lt;span style="color: #666666"&gt;/4&lt;/span&gt;)
  &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;------&lt;/span&gt;
  &lt;span style="color: #666666"&gt;1/2&lt;/span&gt;
 &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>sinh(x)</code>: <code>x</code>的双曲正弦函数值</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; circexp(sinh(x))
  &lt;span style="color: #666666"&gt;1&lt;/span&gt;             &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;----&lt;/span&gt; exp(&lt;span style="color: #666666"&gt;-&lt;/span&gt;x) &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;---&lt;/span&gt; exp(x)
  &lt;span style="color: #666666"&gt;2&lt;/span&gt;             &lt;span style="color: #666666"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>sqrt(x)</code>: <code>x</code>的平方根</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; sqrt(&lt;span style="color: #666666"&gt;10!&lt;/span&gt;)
     &lt;span style="color: #666666"&gt;1/2&lt;/span&gt;
&lt;span style="color: #666666"&gt;720&lt;/span&gt; &lt;span style="color: #666666"&gt;7&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>status</code>: 当前的内存使用情况</h2>
<h2><code>stop</code>: 终止运行当前脚本</h2>
<h2>(新版本中不可用) <code>string(x)</code>: 计算<code>x</code>表达式并返回字符串</h2>
<p>在测试脚本时很有用。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; string((x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;)&lt;span style="color: #666666"&gt;^2&lt;/span&gt;) &lt;span style="color: #666666"&gt;==&lt;/span&gt; &lt;span style="color: #BB4444"&gt;&amp;quot;x^2 + 2 x + 1&amp;quot;&lt;/span&gt;
&lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>subst(a,b,c)</code>: 将<code>c</code>中的<code>b</code>替换为a</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; subst(x,y,y&lt;span style="color: #666666"&gt;^2&lt;/span&gt;)
 &lt;span style="color: #666666"&gt;2&lt;/span&gt;
x&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>sum(i,j,k,f)</code>: 连加和</h2>
<p>令<code>i</code>取值从<code>j</code>到<code>k</code>, 分别计算<code>f</code>，并返回各个结果的连加和。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; sum(j,&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;5&lt;/span&gt;,x&lt;span style="color: #666666"&gt;^&lt;/span&gt;j)
 &lt;span style="color: #666666"&gt;5&lt;/span&gt;    &lt;span style="color: #666666"&gt;4&lt;/span&gt;    &lt;span style="color: #666666"&gt;3&lt;/span&gt;    &lt;span style="color: #666666"&gt;2&lt;/span&gt;
x  &lt;span style="color: #666666"&gt;+&lt;/span&gt; x  &lt;span style="color: #666666"&gt;+&lt;/span&gt; x  &lt;span style="color: #666666"&gt;+&lt;/span&gt; x  &lt;span style="color: #666666"&gt;+&lt;/span&gt; x&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意，<code>sum</code>函数计算结束后，<code>i</code>的值会还原。如果使用<code>i</code>作为变量，则<code>sum</code>函数内的复数单位<code>i</code>会被覆盖。</p>
<h2><code>sum(y)</code>: <code>y</code>各分量的连加和</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; sum((&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;2&lt;/span&gt;,&lt;span style="color: #666666"&gt;3&lt;/span&gt;,&lt;span style="color: #666666"&gt;4&lt;/span&gt;))
&lt;span style="color: #666666"&gt;10&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>tan(x)</code>: <code>x</code>的正切值</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; simplify(tan(x) &lt;span style="color: #666666"&gt;-&lt;/span&gt; sin(x)&lt;span style="color: #666666"&gt;/&lt;/span&gt;cos(x))
&lt;span style="color: #666666"&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>tanh(x)</code>: <code>x</code>的双曲正切值</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; circexp(tanh(x))
       &lt;span style="color: #666666"&gt;1&lt;/span&gt;             exp(&lt;span style="color: #666666"&gt;2&lt;/span&gt; x)
&lt;span style="color: #666666"&gt;---------------&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;--------------&lt;/span&gt;
  exp(&lt;span style="color: #666666"&gt;2&lt;/span&gt; x) &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;     exp(&lt;span style="color: #666666"&gt;2&lt;/span&gt; x) &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>taylor(f,x,n,a)</code>: <code>x</code>趋于<code>a</code>时, <code>f(x)</code>的<code>n</code>阶Taylor展开</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; taylor(sin(x),x,&lt;span style="color: #666666"&gt;5&lt;/span&gt;,&lt;span style="color: #666666"&gt;0&lt;/span&gt;)
  &lt;span style="color: #666666"&gt;1&lt;/span&gt;    &lt;span style="color: #666666"&gt;5&lt;/span&gt;    &lt;span style="color: #666666"&gt;1&lt;/span&gt;   &lt;span style="color: #666666"&gt;3&lt;/span&gt;
&lt;span style="color: #666666"&gt;-----&lt;/span&gt; x  &lt;span style="color: #666666"&gt;-&lt;/span&gt; &lt;span style="color: #666666"&gt;---&lt;/span&gt; x  &lt;span style="color: #666666"&gt;+&lt;/span&gt; x
 &lt;span style="color: #666666"&gt;120&lt;/span&gt;        &lt;span style="color: #666666"&gt;6&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>test(a,b,c,d,...)</code>: 连续测试</h2>
<p>如果表达式<code>a</code>为真（非零），则返回<code>b</code>，否则如果表达式<code>c</code>为真，则返回d，依次类推。</p>
<p>如果参数的个数为奇数，则当所有被测试表达式均为假时，返回最后一个表达式。表达式可以包含<code>=</code>、<code>==</code>、<code>&lt;</code>、<code>&lt;=</code>、<code>&gt;</code>、<code>&gt;=</code>。可以使用<code>not</code>函数测试非等价性。(在<code>=</code>为赋值算符的情况下, 可以使用等价算符<code>==</code>)</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; B &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; test(A&lt;span style="color: #666666"&gt;=&lt;/span&gt;B,&lt;span style="color: #BB4444"&gt;&amp;quot;yes&amp;quot;&lt;/span&gt;,&lt;span style="color: #BB4444"&gt;&amp;quot;no&amp;quot;&lt;/span&gt;)
yes&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>trace</code>: 追踪计算过程</h2>
<p>设置<code>trace=1</code>时，脚本会输出计算过程。有助于调试。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; trace &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意，使用<code>contract</code>函数计算矩阵的迹。</p>
<h2><code>transpose(a,i,j)</code>: 转置</h2>
<p>张量<code>a</code>对指标<code>i</code>、<code>j</code>的转置。</p>
<p>如果未指定<code>i</code>和<code>j</code>，则默认为1和2，因此可以只使用一个参数对矩阵进行转置。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; ((a,b),(c,d))
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; transpose(A)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;       &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; a   c &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;       &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; b   d &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;       &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<p>注意，参数可以扩展以实现多个转置操作。参数从左到右依次计算。例如，<code>transpose(A,1,2,2,3)</code>等价于<code>transpose(transpose(A,1,2),2,3)</code>。</p>
<h2><code>tty</code>: 文本终端</h2>
<p>设置<code>tty=1</code>时，结果将以普通文本形式输出。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; tty &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; (x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1/2&lt;/span&gt;)&lt;span style="color: #666666"&gt;^2&lt;/span&gt;
x&lt;span style="color: #666666"&gt;^2&lt;/span&gt; &lt;span style="color: #666666"&gt;+&lt;/span&gt; x &lt;span style="color: #666666"&gt;+&lt;/span&gt; &lt;span style="color: #666666"&gt;1/4&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>unit(n)</code>: <code>n</code>阶单位矩阵</h2>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; unit(&lt;span style="color: #666666"&gt;3&lt;/span&gt;)
&lt;span style="#FF0000"&gt;┌&lt;/span&gt;           &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;   &lt;span style="color: #666666"&gt;0&lt;/span&gt;   &lt;span style="color: #666666"&gt;0&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;           &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;0&lt;/span&gt;   &lt;span style="color: #666666"&gt;1&lt;/span&gt;   &lt;span style="color: #666666"&gt;0&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt;           &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;0&lt;/span&gt;   &lt;span style="color: #666666"&gt;0&lt;/span&gt;   &lt;span style="color: #666666"&gt;1&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
&lt;span style="#FF0000"&gt;└&lt;/span&gt;           &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
<h2><code>zero(i,j,...)</code>: 零张量</h2>
<p>给定维数<code>i</code>, <code>j</code>等的空张量。在创建张量并给每个元素赋值时会很有用。</p>
<p>&lt;div class="highlight"&gt;&lt;pre style="line-height:125%"&gt;&lt;span&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A &lt;span style="color: #666666"&gt;=&lt;/span&gt; zero(&lt;span style="color: #666666"&gt;3&lt;/span&gt;,&lt;span style="color: #666666"&gt;3&lt;/span&gt;)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color: #AA22FF; font-weight: bold"&gt;for&lt;/span&gt;(k,&lt;span style="color: #666666"&gt;1&lt;/span&gt;,&lt;span style="color: #666666"&gt;3&lt;/span&gt;,A[k,k]&lt;span style="color: #666666"&gt;=&lt;/span&gt;k)
&lt;span style="color: #666666"&gt;&amp;gt;&lt;/span&gt; A
    &lt;span style="#FF0000"&gt;┌&lt;/span&gt;           &lt;span style="#FF0000"&gt;┐&lt;/span&gt;
    &lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;1&lt;/span&gt;   &lt;span style="color: #666666"&gt;0&lt;/span&gt;   &lt;span style="color: #666666"&gt;0&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
    &lt;span style="#FF0000"&gt;│&lt;/span&gt;           &lt;span style="#FF0000"&gt;│&lt;/span&gt;
A &lt;span style="color: #666666"&gt;=&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;0&lt;/span&gt;   &lt;span style="color: #666666"&gt;2&lt;/span&gt;   &lt;span style="color: #666666"&gt;0&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
    &lt;span style="#FF0000"&gt;│&lt;/span&gt;           &lt;span style="#FF0000"&gt;│&lt;/span&gt;
    &lt;span style="#FF0000"&gt;│&lt;/span&gt; &lt;span style="color: #666666"&gt;0&lt;/span&gt;   &lt;span style="color: #666666"&gt;0&lt;/span&gt;   &lt;span style="color: #666666"&gt;3&lt;/span&gt; &lt;span style="#FF0000"&gt;│&lt;/span&gt;
    &lt;span style="#FF0000"&gt;└&lt;/span&gt;           &lt;span style="#FF0000"&gt;┘&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</p>
