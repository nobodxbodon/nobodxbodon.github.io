<h2><a href="https://github.com/jerkwin/jerkwin.github.io//blob/master/_posts/2014-06-10-GNU-parallel.md">仓库源文</a>，<a href="https://jerkwin.github.io/2014/06/10/GNU-parallel">站点原文</a></h2>
<hr/>
<p>layout: post
title: GNU Parallel
categories:</p>
<ul>
<li>科
tags:</li>
<li>bash</li>
</ul>
<hr/>
<h2>2014-06-10 12:54:07</h2>
<p>简单的并行, 可使用GNU parallel. GNU parallel是一个perl脚本, 只要设置好路径, 即可使用.</p>
<h3>安装</h3>
<ol>
<li>到<a href="http://www.gnu.org/software/parallel/">GNU官网</a>下载最新版本</li>
<li>解压, 得文件夹<code>parallel-20140522</code></li>
<li><p>参考<code>README</code>编译安装</p>
<p>非root用户, 参照<code>Personal installation</code></p>
<p>直接使用, 参照<code>Minimal installation</code>, 将脚本复制到目标路径即可.</p>
</li>
</ol>
<h3>使用</h3>
<p>官方文档, <code>parallel --help</code>, <code>man parallel</code>, <code>NEWS</code>文件中有一些网络资源, 包括中文的.</p>
<p>我一般用其替代<code>for</code>循环的繁琐写法. 如<code>for i in {1..10}; do echo $i; done</code>可利用<code>parallel echo ::: {1..10}</code>代替.</p>
<h3>使用自定义命令</h3>
<p>通过<code>alias</code>自定义的命令在<code>parallel</code>中无法直接使用, 解决方法是在脚本中<code>export -f</code>或<code>export</code>后利用<code>$cmd</code>调用.</p>
<p>例如, 在<code>.bashrc</code>中定义<code>alias cmd='ls -l'</code>, 直接使用<code>parallel cmd</code>会出错. 若<code>export cmd='ls -l'</code>, 则可使用<code>parallel $cmd</code>. 这样就不需要在脚本中使用<code>export -f</code>了.</p>
<h3>参考</h3>
<p><a href="http://my.oschina.net/enyo/blog/271612">GNU Parallel指南</a></p>
<p><a href="http://guiquanz.me/2013/02/12/gnu-parallel-intro/">巧用GNU Parallel实现作业并行化执行</a></p>
<p><a href="http://www.aqee.net/use-multiple-cpu-cores-with-your-linux-commands/">如何利用多核CPU来加速你的Linux命令 — awk, sed, bzip2, grep, wc等</a></p>
