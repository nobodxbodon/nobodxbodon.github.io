<h2><a href="https://github.com/jerkwin/jerkwin.github.io//blob/master/_posts/2014-12-25-让Markdown支持ASCII流程图和JavaScript流程图.md">仓库源文</a>，<a href="https://jerkwin.github.io/2014/12/25/让Markdown支持ASCII流程图和JavaScript流程图">站点原文</a></h2>
<hr/>
<p>layout: post
 title: 让Markdown支持ASCII流程图和JavaScript流程图
 categories:</p>
<ul>
<li>科
tags:</li>
<li>markdown</li>
<li>js
flc: true</li>
</ul>
<hr/>
<ul>
<li>2014-12-25 12:08:34</li>
</ul>
<p>计算机领域中一直存在两种不同的理念并彼此竞争, 可视化与可控化, 或称为所见即所得与所愿即所得.
前者是Windows的典型做法, 而后者是Linux的典型理念.
我却觉得, 若以中国人"惟精惟一, 允执厥中"的观念, 二者皆不可偏废, 取其中间, 所见近所得, 所愿亦可得.
也就是, 尽量直观, 同时提供方便的控制手段.
既考虑直接可读性, 也考虑易处理性, 直接可读性优先, 处理后更美观, 不处理也不很影响可读性.</p>
<p>以markdown为代表的书写格式正是走了这种处于Word与LaTex之间的道路.
对于简单的流程图, ASCIIArt就是所见近所得的, 而pic之类的更易控制.
有了ASCII格式的图后, 可以利用ditta这个Java小工具将其转化为图片, 这样更美观.</p>
<p>虽然网络上也有一些在线的ASCII流程图作图工具, 像我以前推荐过的<a href="http://asciiflow.com/">ASCIIFlow</a>, 
但有时候作起复杂的图来还是很不方便, 这时候就可以使用那些更易控制的工具了.
基于JavaScript的流程图工具有不少, 用得较多的是<a href="http://adrai.github.io/flowchart.js/">flowchart.js</a>, 详细的请参考网络上的资料吧.</p>
<p>下面是几个具体的示例.</p>
&lt;table class="highlighttable"&gt;&lt;th colspan="2" style="text-align:left"&gt;bash&lt;/th&gt;&lt;tr&gt;&lt;td&gt;&lt;div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"&gt;&lt;pre style="line-height: 125%"&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight" style="background: #f8f8f8"&gt;&lt;pre style="line-height: 125%"&gt;+---------+
|         |                        +--------------+
|   NFS   |--+                     |              |
|         |  |                 +--&gt;|   CacheFS    |
+---------+  |   +----------+  |   |  /dev/hda5   |
             |   |          |  |   +--------------+
+---------+  +--&gt;|          |  |
|         |      |          |--+
|   AFS   |-----&gt;| FS-Cache |
|         |      |          |--+
+---------+  +--&gt;|          |  |
             |   |          |  |   +--------------+
+---------+  |   +----------+  |   |              |
|         |  |                 +--&gt;|  CacheFiles  |
|  ISOFS  |--+                     |  /var/cache  |
|         |                        +--------------+
+---------+

+--------+   +-------+    +-------+
|        | --+ ditaa +--&gt; |       |
|  Text  |   +-------+    |diagram|
|Document|   |!magic!|    |       |
|     &lt;span style="color: #666666"&gt;{&lt;/span&gt;d&lt;span style="color: #666666"&gt;}&lt;/span&gt;|   |       |    |       |
+---+----+   +-------+    +-------+
    :                         ^
    |       Lots of work      |
    +-------------------------+

Color codes

/----&lt;span style="color: #BB6622; font-weight: bold"&gt;\ &lt;/span&gt;/----&lt;span style="color: #BB6622; font-weight: bold"&gt;\&lt;/span&gt;
|c33F| |cC02|
|    | |    |
&lt;span style="color: #BB6622; font-weight: bold"&gt;\-&lt;/span&gt;---/ &lt;span style="color: #BB6622; font-weight: bold"&gt;\-&lt;/span&gt;---/
/----&lt;span style="color: #BB6622; font-weight: bold"&gt;\ &lt;/span&gt;/----&lt;span style="color: #BB6622; font-weight: bold"&gt;\&lt;/span&gt;
|c1FF| |c1AB|
|    | |    |
&lt;span style="color: #BB6622; font-weight: bold"&gt;\-&lt;/span&gt;---/ &lt;span style="color: #BB6622; font-weight: bold"&gt;\-&lt;/span&gt;---/

/-------------+-------------&lt;span style="color: #BB6622; font-weight: bold"&gt;\&lt;/span&gt;
|cRED RED     |cBLU BLU     |
+-------------+-------------+
|cGRE GRE     |cPNK PNK     |
+-------------+-------------+
|cBLK BLK     |cYEL YEL     |
&lt;span style="color: #BB6622; font-weight: bold"&gt;\-&lt;/span&gt;------------+-------------/
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
![Fig. 1](https://jerkwin.github.io/pic/flc-1.png)

含中文的测试, 虽然网上提到方法使ditta支持中文, 但字体有点丑, 折腾Java也没有效果.

&lt;table class="highlighttable"&gt;&lt;th colspan="2" style="text-align:left"&gt;bash&lt;/th&gt;&lt;tr&gt;&lt;td&gt;&lt;div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"&gt;&lt;pre style="line-height: 125%"&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight" style="background: #f8f8f8"&gt;&lt;pre style="line-height: 125%"&gt;开始
  |
  v
/-------&lt;span style="color: #BB6622; font-weight: bold"&gt;\&lt;/span&gt;
| 中文  |
| &lt;span style="color: #666666"&gt;{&lt;/span&gt;d&lt;span style="color: #666666"&gt;}&lt;/span&gt;   | ---&gt; Open
&lt;span style="color: #BB6622; font-weight: bold"&gt;\-&lt;/span&gt;------/
  |
  v
 完成 -----------&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;table class="highlighttable"&gt;&lt;th colspan="2" style="text-align:left"&gt;bash&lt;/th&gt;&lt;tr&gt;&lt;td&gt;&lt;div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"&gt;&lt;pre style="line-height: 125%"&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight" style="background: #f8f8f8"&gt;&lt;pre style="line-height: 125%"&gt;开始
 |
 v
           /--------&lt;span style="color: #BB6622; font-weight: bold"&gt;\ &lt;/span&gt;    否
           |  条件  |------------&gt; 继续
           &lt;span style="color: #BB6622; font-weight: bold"&gt;\-&lt;/span&gt;-------/
 |
 | 是
 V
结束
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
![Fig. 3](https://jerkwin.github.io/pic/flc-3.png)

js的流程图

&lt;table class="highlighttable"&gt;&lt;th colspan="2" style="text-align:left"&gt;bash&lt;/th&gt;&lt;tr&gt;&lt;td&gt;&lt;div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"&gt;&lt;pre style="line-height: 125%"&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight" style="background: #f8f8f8"&gt;&lt;pre style="line-height: 125%"&gt;&lt;span style="color: #B8860B"&gt;st&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;start: 开始:&gt;http://www.google.com&lt;span style="color: #666666"&gt;[&lt;/span&gt;blank&lt;span style="color: #666666"&gt;]&lt;/span&gt;
&lt;span style="color: #B8860B"&gt;e&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;end:    结束:&gt;http://www.google.com
&lt;span style="color: #B8860B"&gt;op1&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;operation: 操作
&lt;span style="color: #B8860B"&gt;sub1&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;subroutine: 子程序
&lt;span style="color: #B8860B"&gt;cond&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;condition: Yes
or No?:&gt;http://www.google.com
&lt;span style="color: #B8860B"&gt;io&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;inputoutput: 输入输出

st-&gt;op1-&gt;cond
cond&lt;span style="color: #666666"&gt;(&lt;/span&gt;yes&lt;span style="color: #666666"&gt;)&lt;/span&gt;-&gt;io-&gt;e
cond&lt;span style="color: #666666"&gt;(&lt;/span&gt;no&lt;span style="color: #666666"&gt;)&lt;/span&gt;-&gt;sub1&lt;span style="color: #666666"&gt;(&lt;/span&gt;right&lt;span style="color: #666666"&gt;)&lt;/span&gt;-&gt;op1
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;pre style="display:none"&gt;&lt;textarea name="flc" id="flc-1"&gt;
st=&gt;start: 开始:&gt;http://www.google.com[blank]
e=&gt;end:    结束:&gt;http://www.google.com
op1=&gt;operation: 操作
sub1=&gt;subroutine: 子程序
cond=&gt;condition: Yes
or No?:&gt;http://www.google.com
io=&gt;inputoutput: 输入输出

st-&gt;op1-&gt;cond
cond(yes)-&gt;io-&gt;e
cond(no)-&gt;sub1(right)-&gt;op1
&lt;/textarea&gt;&lt;/pre&gt;&lt;figure id="fig-flc-1"&gt;&lt;/br&gt;&lt;figurecaption&gt;Fig.1&lt;/figurecaption&gt;&lt;/figure&gt;
&lt;table class="highlighttable"&gt;&lt;th colspan="2" style="text-align:left"&gt;bash&lt;/th&gt;&lt;tr&gt;&lt;td&gt;&lt;div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"&gt;&lt;pre style="line-height: 125%"&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight" style="background: #f8f8f8"&gt;&lt;pre style="line-height: 125%"&gt;&lt;span style="color: #B8860B"&gt;st&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;start: 开始|past:&gt;http://www.google.com&lt;span style="color: #666666"&gt;[&lt;/span&gt;blank&lt;span style="color: #666666"&gt;]&lt;/span&gt;
&lt;span style="color: #B8860B"&gt;e&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;end: 结束|future:&gt;http://www.google.com
&lt;span style="color: #B8860B"&gt;op1&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;operation: 操作|past
&lt;span style="color: #B8860B"&gt;op2&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;operation: 操作|current
&lt;span style="color: #B8860B"&gt;sub1&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;subroutine: 子程序|invalid
&lt;span style="color: #B8860B"&gt;cond&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;condition: Yes
or No?|approved:&gt;http://www.google.com
&lt;span style="color: #B8860B"&gt;c2&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;condition: 好主意|rejected
&lt;span style="color: #B8860B"&gt;io&lt;/span&gt;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&gt;inputoutput: 输入输出|future

st-&gt;op1&lt;span style="color: #666666"&gt;(&lt;/span&gt;right&lt;span style="color: #666666"&gt;)&lt;/span&gt;-&gt;cond
cond&lt;span style="color: #666666"&gt;(&lt;/span&gt;yes, right&lt;span style="color: #666666"&gt;)&lt;/span&gt;-&gt;c2
cond&lt;span style="color: #666666"&gt;(&lt;/span&gt;no&lt;span style="color: #666666"&gt;)&lt;/span&gt;-&gt;sub1&lt;span style="color: #666666"&gt;(&lt;/span&gt;left&lt;span style="color: #666666"&gt;)&lt;/span&gt;-&gt;op1
c2&lt;span style="color: #666666"&gt;(&lt;/span&gt;yes&lt;span style="color: #666666"&gt;)&lt;/span&gt;-&gt;io-&gt;e
c2&lt;span style="color: #666666"&gt;(&lt;/span&gt;no&lt;span style="color: #666666"&gt;)&lt;/span&gt;-&gt;op2-&gt;e
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;pre style="display:none"&gt;&lt;textarea name="flc" id="flc-2"&gt;
st=&gt;start: 开始|past:&gt;http://www.google.com[blank]
e=&gt;end: 结束|future:&gt;http://www.google.com
op1=&gt;operation: 操作|past
op2=&gt;operation: 操作|current
sub1=&gt;subroutine: 子程序|invalid
cond=&gt;condition: Yes 
or No?|approved:&gt;http://www.google.com
c2=&gt;condition: 好主意|rejected
io=&gt;inputoutput: 输入输出|future

st-&gt;op1(right)-&gt;cond
cond(yes, right)-&gt;c2
cond(no)-&gt;sub1(left)-&gt;op1
c2(yes)-&gt;io-&gt;e
c2(no)-&gt;op2-&gt;e
&lt;/textarea&gt;&lt;/pre&gt;

&lt;figure id="fig-flc-5"&gt;&lt;figurecaption&gt;Fig.5&lt;/figurecaption&gt;&lt;/figure&gt;<h3>网络资料</h3>
<ul>
<li><a href="http://ditaa.sourceforge.net/">ditta主页</a></li>
<li><a href="http://www.johf.com/log/20130113a.html">利用Awk使ditaa支持日本语</a></li>
<li><a href="http://d.hatena.ne.jp/tamura70/20100317/org">ditta的日本语化</a></li>
<li><a href="http://unix.stackexchange.com/questions/126630/creating-diagrams-in-ascii">Creating diagrams in ASCII</a></li>
<li><a href="http://chuansongme.com/n/939320">那些年，我追过的绘图工具</a></li>
<li><a href="http://www.cnblogs.com/lwme/p/use-jsplumb-make-flowChart-designer.html">使用jsPlumb制作流程图设计器</a></li>
<li><a href="http://www.math.zju.edu.cn/ligangliu/latexforum/metapost/metapost.htm">MetaPost: 强大的图形语言</a></li>
<li><a href="http://www.cnblogs.com/chenfanyu/archive/2013/01/27/2878845.html">使用 EMACS ORG-MODE 画图</a></li>
<li><a href="http://www.ibm.com/developerworks/cn/aix/library/au-aix-graphviz/">使用 Graphviz 生成自动化系统图</a></li>
<li><a href="http://blog.csdn.net/stormdpzh/article/details/14648827">DOT + graphviz 轻松画图神器</a></li>
<li><a href="http://blog.csdn.net/autumnhealth/article/details/1791222">Java5/6中的字体自定义设置与美化（Linux/Windows）</a></li>
</ul>
<h3>评论</h3>
<ul>
<li><p>2015-01-22 13:23:45 <code>豪情512</code> 赞。</p>
</li>
<li><p>2015-01-23 08:09:48 <code>Jerkwin</code> 谢谢.</p>
</li>
</ul>
