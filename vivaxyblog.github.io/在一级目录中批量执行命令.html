<h2><a href="https://github.com/vivaxyblog/vivaxyblog.github.io/blob/master/_posts/2016-03-29-execute-commands-in-level-one-direcotries.md">仓库源文</a>，<a href="https://vivaxyblog.github.io/2016/03/29/execute-commands-in-level-one-direcotries">站点原文</a></h2>
<hr/>
<p>layout: post
title: 在一级目录中批量执行命令</p>
<h2>tags: [shell]</h2>
<p>想要修改 100 多个的项目的 git 配置，这 100 多个项目在同一个目录下。</p>
<p>可以用 shell 脚本来实现。</p>
<p>新建一个 <code>change-user.sh</code> ，添加以下的内容。</p>
<pre><code class="lang-sh">#/usr/env/sh
for dir in `find ./* -type d -maxdepth 0`; do
    cd ${dir}
    git config user.name stephen.xu
    git config user.email stephen.xu@dianping.com
    echo `pwd`
    cd ..
done
</code></pre>
<p>使用 <code>find</code> 来遍历文件</p>
<p>使用 <code>find ./*</code> 而不是 <code>find .</code> 来剔除 <code>.</code> 目录</p>
<p>使用 <code>-type d</code> 来保证搜索到的结果是目录</p>
<p>使用 <code>-maxdepth 0</code> 来保证搜索到的目录是当前目录下的一级目录</p>
