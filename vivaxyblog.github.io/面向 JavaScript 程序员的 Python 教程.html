<h2>原文：<a href="https://vivaxyblog.github.io/2017/05/07/python-for-javascript-developers">面向 JavaScript 程序员的 Python 教程</a></h2>
<hr/>
<h2>layout: post
title: 面向 JavaScript 程序员的 Python 教程
tags: [javascript, python, language]</h2>
<p>本文翻译自：<a href="https://dev.to/underdogio/python-for-javascript-developers">Python for JavaScript Developers</a>，作者：<a href="https://dev.to/restlessbit">Mario Pabon</a>。</p>
<p>最近我加入了一家小创业公司 <a href="https://underdog.io/">Underdog.io</a>，在纽约。我发现这里的后端项目使用了 python，一个我之前没有怎么接触过的语言。</p>
<p>虽然在这里我的主要职责在 JavaScript 和 React 方面的工作。但是我们是个小团队，为了能实现一个功能，我必须经常深入研究多个项目。所以我必须很快熟悉 Python。</p>
<p>可是我没有找到适合那些已经写过代码的人看的 Python 教程。我已经懂得怎么使用另一门语言进行编程，我只需要知道 Python 的语法和编程模式就可以了。</p>
<p>这是我写这篇博客的原因。给那些想快速学习 Python 的 JavaScript 程序员提供简单的说明，我们不再需要再学习申明变量是什么意思，也不需要知道一个函数是做什么的。</p>
<p>这篇文章中的 Python 是 3.0.1 版本，其中的一些例子在旧版本的 Python 上可能会失效。</p>
<h2>语法</h2>
<h3>申明变量</h3>
<p>在 Python 中申明变量非常简单，像 JavaScript 一样，不需要在申明的时候指定变量类型。同时，你也不需要指定变量的作用域，就像使用 let 一样。</p>
<pre><code class="language-py">x = 5
</code></pre>
<p>你可以通过重新赋值改变变量的类型。</p>
<pre><code class="language-py">x = 5       # x 是 Integer 类型的
x = 'Hewwo' # x 现在变成了 String 类型
</code></pre>
<p>不像 JavaScript，Python 中的变量永远是块级作用域。</p>
<h3>代码块</h3>
<p>在语法上，Python 比 JavaScript 更严格一点。在 Python 中，缩进差一个空格会让你的代码无法运行。这是因为 Python 用缩进来表示代码块，而不是使用大括号来表示代码块。比如，在 JavaScript 中申明代码块和在 Python 中声明代码块分别是这样的：</p>
<h4>JavaScript 中的代码块</h4>
<pre><code class="language-js">function exampleFunction () {
  // 这是一个代码块
  var a = 5;
}

{
  // 这也是一个代码块
}
</code></pre>
<h4>Python 中的代码块</h4>
<pre><code class="language-py"># 这是个有独立作用域的代码块

def example_function():
  # 这也是个有独立作用域的代码块
  x = 5
  print(x)
</code></pre>
<p>如果 <code>print(x)</code> 这行多了一个或者多个空格，Python 的解释器会抛出一个缩进错误(IndentationError)，因为所遇的缩进建立了一个无效的代码块。</p>
<pre><code class="language-py">def example_function():
  x = 5

  # 缩进错误(IndentationError)
    print(x)
</code></pre>
<p>如果这行少了一个或者多个空格，如下：</p>
<pre><code class="language-py">def example_function():
  x = 5
 print(x)
</code></pre>
<p>Python 解释器会抛出下面的错误：</p>
<pre><code class="language-py">NameError: name 'x' is not defined
</code></pre>
<p>因为 <code>print(x)</code> 不在申明 <code>x</code> 的那个作用域中。</p>
<h3>逻辑控制语句</h3>
<p><code>if...else</code>，<code>while</code>，和 <code>for</code> 在 Python 中和在 JavaScript 中基本是一样的：</p>
<h4>if...else</h4>
<pre><code class="language-py">if x &gt; 2:
  print('hai!')
elif x &gt; 3:
  print('bye!')
else:
  print('hey now')

if not x:
  print('x is falsy!')
</code></pre>
<h4>while 循环</h4>
<pre><code class="language-py">while x &gt; 0:
  print('hey now')
</code></pre>
<h4>for 循环</h4>
<p><code>for</code> 循环像 JavaScript 中的 <code>foreach</code> 循环：</p>
<pre><code class="language-py">ex_list = [1, 2, 3]

for x in ex_list:
  print(x)
</code></pre>
<h2>变量类型</h2>
<p>Python 的变量类型很像 JavaScript，不像其他语言，比如 Java 和 C# 那样严格。</p>
<p>也就是说，变量有类型的区别，但是不需要像 Java 那样静态申明一个变量的类型。</p>
<p>下面简单说下 Python 自带的几种变量类型。</p>
<h3><a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex">Numbers</a></h3>
<p>和 JavaScript 不同，Python 有多种数字类型。</p>
<ul>
<li>整型(Integers)：1, 2, 3</li>
<li>浮点(Floats)：4.20, 4e420</li>
<li>复数(Complex numbers)：4 + 20j</li>
<li>布尔(Booleans)：True, False</li>
</ul>
<p>你可以在 Python 中使用 JavaScript 中的那些运算符。除此之外，Python 还有指数运算符 **：</p>
<pre><code class="language-py"># a = 4
a = 2 ** 2
</code></pre>
<h3><a href="https://docs.python.org/3/library/stdtypes.html#lists">Lists</a></h3>
<p>Python 的列表像 JavaScript 的数组。列表中可以包含多种类型的数据。</p>
<pre><code class="language-py">[4, "2", [0, "zero"]]
</code></pre>
<p>从列表中取元素有下面几种特殊的操作方法：</p>
<pre><code class="language-py">a_list = [1, 2, 3, 4, 5]

# 1, 2, 3
a_list[0:2]

# 4, 5
a_list[3:]

# 3, 4
a_list[2, -2]
</code></pre>
<p>还有内置的几种好用的操作列表的方法：</p>
<pre><code class="language-py"># 3
len([1, 2, 3])

# 3, 2, 1
[1, 2, 3].reverse()

# 1, 2, 3
[1, 2].append(3)
</code></pre>
<p>你还可以用 + 运算符拼接两个列表：</p>
<pre><code class="language-py"># 1, 2, 3, 4
[1, 2] + [3, 4]
</code></pre>
<h3><a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str">Strings</a></h3>
<p>Python 中的字符串很像 JavaScript 中的字符串。它们都是不可变化的数据。都可以用访问数组元素的方式来访问字符串中的一个字符。</p>
<pre><code class="language-py">name = 'Mario'

# M
print(name[0])

# 不行，名字还是 'Mario'
name[0] = 'W'
</code></pre>
<h3><a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries">Dictionaries</a></h3>
<p>字典是有键值对关系的数据，像 JavaScript 中的对象一样。事实上，字典可以用 JSON 语法来申明：</p>
<pre><code class="language-py"># python 的字典
person = {
  'name': 'Mario',
  'age': 24
}

# Mario
print(person['name'])
</code></pre>
<p>有个很方便的方法可以取字典中的某个键对应的值，并且在这个键不存在的情况返回一个默认值：</p>
<pre><code class="language-py"># 因为 `gender` 不存在，所以会得到 'non-binary'
person.get('gender', 'non-binary')
</code></pre>
<h3><a href="https://docs.python.org/3/library/constants.html#None">None</a></h3>
<p><code>None</code> 就是 JavaScript 中的 <code>null</code>。表示没有值，并且在 if 判断中结果是 <code>非真</code>。</p>
<pre><code class="language-py">x = None

if not x:
  print('x is falsy!')
</code></pre>
<h3>Functions</h3>
<p>像 JavaScript 一样，函数在 Python 中也是对象。所以你可以在函数参数中传递函数，也可以给函数添加一个属性：</p>
<pre><code class="language-py">def func(a, fn):
  print(a)
  fn()

func.x = 'meep'

# 'meep'
print(func.x)

def another_func():
  print('hey')

# 5
# 'hey'
func(5, another_func)
</code></pre>
<h3>Modules</h3>
<p>Python 中的模块和 ES6 的模块类似。</p>
<h4>定义一个模块</h4>
<p>Python 中的一个模块就是一个文件，文件中包含一些 Python 代码。</p>
<pre><code class="language-py"># my_module.py
hey = 'heyyy'

def say_hey():
  print(hey)
</code></pre>
<p>跟 JavaScript 不一样的是，你不需要指定输出什么，默认地，会输出所有变量。</p>
<h4>导入一个模块</h4>
<p>你可以导入一个模块的所有内容：</p>
<pre><code class="language-py"># 从 another_module.py 文件导入 my_module.py
# 两个文件在同一个目录下
import my_module

# 进行操作
my_module.say_hey()
print(my_module.hey)
</code></pre>
<p>或者导入一个模块的一些内容：</p>
<pre><code class="language-py"># another_module.py
from my_module import hey, say_hey

# 进行操作
say_hey()
print(hey)
</code></pre>
<p>你还可以用 <a href="https://pypi.python.org/pypi/pip">pip</a> 安装别人写的模块。pip 是 Python 的包管理工具。</p>
<pre><code class="language-sh">pip install simplejson
</code></pre>
<h2>面向对象编程</h2>
<p>Python 支持使用对象申明类和类继承进行面向对象编程。而 JavaScript 只支持用原型链和原型链式的继承。</p>
<h3><a href="https://docs.python.org/3/tutorial/classes.html#classes">Classes</a></h3>
<pre><code class="language-py"># 定义类
class Animal:
  # Animal 实例中都会共享的变量
  default_age = 1

  # 构造函数
  def __init__(self, name):
    # 定义一个对外可以访问的变量
    self.name = name

    # 可以在变量名前加两个下划线(__)来定义内部私有变量
    self.__age = default_age

  # 公有方法
  def get_age(self):
    return self.__age

  # 私有方法
  def __meow():
    print('meowwww')

  # 用 `staticmethod` 装饰器来申明一个静态方法
  @staticmethod
  def moo():
    print('moooo')

# 实例化一个 Animal 对象
animal = Animal()

# 访问公有属性和方法
print(animal.name)
print(animal.default_age)
print(animal.get_age())

# 访问静态方法
Animal.moo()

# 错误!!!! .__age 是私有的
print(animal.__age)
</code></pre>
<h3><a href="https://docs.python.org/3/tutorial/classes.html#inheritance">Inheritance</a></h3>
<p>一个类可以继承别的类。</p>
<pre><code class="language-py"># 继承 Animal 类
class Human(Animal):
  def __init__(self, name, address):
    # 必须调用基础类的 __init__ 方法
    super().__init__(name)
    self.__address = address

  def get_address(self):
    return self.address

# 使用 Human 类
human = Human('Mario', '123 Jane Street, Brooklyn, NY 11211')

# Human 对象可以访问定义在 Animal 类中的方法
human.get_age()
human.get_address()
</code></pre>
<h2>参考资料</h2>
<p>除了本文中介绍的这些知识，Python 还有很多其他的知识点。我特别推荐你去看看 Python 官方文档 <a href="https://docs.python.org/3/">Python docs</a>。</p>
<p>记住，学习一门语言的最好的方式是去写，去多写。所以开始写吧。</p>
