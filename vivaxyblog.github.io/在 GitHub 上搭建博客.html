<h2><a href="https://github.com/vivaxyblog/vivaxyblog.github.io/blob/master/_posts/2014-05-11-build-blog.md">仓库源文</a>，<a href="https://vivaxyblog.github.io/2014/05/11/build-blog">站点原文</a></h2>
<h2>工具</h2>
<ul>
<li><a href="https://github.com/">Github</a> </li>
<li><a href="https://windows.github.com/">GitHub Windows</a></li>
<li><a href="http://jekyllrb.com/">Jekyll</a></li>
<li><a href="http://my.dot.tk/cgi-bin/login01.taloha">.tk域名</a></li>
<li><a href="https://www.dnspod.cn">DNSPod</a></li>
<li><a href="https://www.zybuluo.com/mdeditor">Markdown编辑器</a></li>
</ul>
<h2>发布Github页面</h2>
<p><a href="https://github.com/">Github</a> 上注册用户，用户名为 <code>username</code>。或者用户创建 organization，组织名为 <code>username</code>。</p>
<p>用户或者组织发布页面有两种方式：</p>
<ul>
<li><p>创建新的 Repository，名称为 <code>username</code>.github.io，把页面放入 master 分支中，页面地址为：<code>username</code>.github.io。</p>
</li>
<li><p>创建新的 Repository，假设名称为 <code>repo</code>，在该 Repository 下新建 gh-pages 分支，把页面放入其中，页面地址为 <code>username</code>.github.io/<code>repo</code>。</p>
</li>
</ul>
<p>使用 <a href="https://windows.github.com/">GitHub Windows</a>，Clone Repository。
资源管理器中找到 Repository 文件目录，新建 index.html，写入文字后保存。
在 GitHub Windows 中 commit，sync，几分钟后，便能通过 GitHub 地址访问页面了。</p>
<h2>申请域名</h2>
<p>在 <a href="http://www.dot.tk/">www.dot.tk</a> 上申请免费域名，不支持 126, 163 邮箱，支持 QQ 邮箱。免费域名申请一次最长可以使用 12 个月。</p>
<h2>配置DNS</h2>
<p>在 <a href="https://www.dnspod.cn/Domain">DNSPod</a> 添加刚才申请的域名，删除所有能删的记录。</p>
<p>添加两条记录：主机记录分别为 www 和 @，记录类型都为 CNAME，记录值都为 GitHub 页面地址，保存。</p>
<p>在 www.dot.tk 设置使用 Custom DNS，添加两条 DNS，Host Name 为 DNSPod 中两条 NS 类型记录的记录值。</p>
<p>在 GitHub 项目根目录下添加文件，文件名为 CNAME，内容为你的域名。</p>
<p><em>域名可以带和不带 www.，如果在 CNAME 中配置的是带有 www. 的域名，那么在 DNSPod 中也要配置带有 www. 的域名。</em></p>
<p>一段时间后，DNS 才能生效。DNS 和 GitHub 页面都生效后，访问申请的域名，便能显示 GitHub 中的页面了。</p>
<h2>Windows 上搭建 Jekyll 本地环境</h2>
<p>下载 <a href="https://www.dropbox.com/sh/40l6mgbl1ce2kej/lF6ykQxt9d">Jekyll</a>，解压到某个目录下，其中包括 Jekyll 的各种依赖，详见 <a href="http://www.madhur.co.in/blog/2013/07/20/buildportablejekyll.html">Building portable Jekyll for Windows</a>。执行 setpath.cmd，设置环境变量无效，只好手动添加。在系统的环境变量中按照 setpath.cmd 中所述，逐个添加。在任意目录下 shift + 鼠标右键，选择在此处打开命令窗口，执行 <code>jekyll</code>，如果正常显示帮助信息，那么 Jekyll 本地环境搭建好了。</p>
<h2>MacOS 上搭建 Jekyll 本地环境</h2>
<p><code>gem install jekyll</code></p>
<h2>写博客</h2>
<p>在本地按照<a href="https://github.com/ruanyf/jekyll_demo">例子</a>中的样子添加文件。</p>
<p>参数说明参见 <a href="http://jekyllrb.com/docs/structure/2013/07/20/buildportablejekyll.html">Jekyll docs</a>。</p>
<p>保存后，在项目根目录下执行 <code>jekyll serve</code>，按照刚才配置的host和port就可以在本地访问博客了。</p>
<p>观测无误后，就能上传发布到 GitHub 上了。</p>
<p><em>本地 Jekyll 会编译出 _site 目录，这个不需要上传 GitHub，添加到 <code>.gitignore</code> 中即可。</em></p>
<h2>参考资料</h2>
<ul>
<li><a href="https://help.github.com/categories/20/articles">GitHub Help</a></li>
<li><a href="http://www.madhur.co.in/blog/2011/09/01/runningjekyllwindows.html">Running Jekyll on Windows</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html">搭建一个免费的，无限流量的Blog----github Pages和Jekyll入门</a></li>
</ul>
