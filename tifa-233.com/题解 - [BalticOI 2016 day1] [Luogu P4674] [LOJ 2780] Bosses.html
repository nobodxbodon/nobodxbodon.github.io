<p>版权声明： 本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！</p>
<h2><a href="https://github.com/Tiphereth-A/Tiphereth-A.github.io/blob/master/source/_posts/baltoi2016-1.md">仓库源文</a>，<a href="https://tifa-233.com/archives/baltoi2016-1">站点原文</a></h2>
<p>题目链接</p>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P4674">Luogu P4674</a></li>
<li><a href="https://loj.ac/p/2780">LOJ 2780</a></li>
</ul>
&lt;!-- more --&gt;

<h2>原始题面</h2>
<h3>题目描述</h3>
<p>A company of $n$ employees is due for a restructuring. In the resulting hierarchy,represented as a rooted tree, every node will be the boss of its children.</p>
<p>Each employee has a list of bosses they will accept. In addition, all employees mustbe assigned a salary. The salary must be a positive integer, and the salary of eachboss must be larger than the sum of salaries of their immediate subordinates.</p>
<p>Your task is to structure the company so that all above conditions hold, and the sumof all the salaries is as small as possible.</p>
<h3>输入格式</h3>
<p>The first input line contains an integer $n$ : the number of employees. The employees are numbered $1,2,...,n$</p>
<p>.After this, the input contains $n$ lines that describe the preferences of the employees.The $i$th such line contains an integer $k_i$ , followed by a list of $k_i$ integers. The list consists of all employees that the $i$th employee accepts as their boss.</p>
<h3>输出格式</h3>
<p>You should output the lowest total salary among all valid restructurings. You can assume that at least one solution exists.</p>
<h3>样例 #1</h3>
<h4>样例输入 #1</h4>
<pre><code class="lang-input1">4
1 4
3 1 3 4
2 1 2
1 3
</code></pre>
<h4>样例输出 #1</h4>
<pre><code class="lang-output1">8
</code></pre>
<h3>提示</h3>
<h4>Subtask 1 (22 points)</h4>
<ul>
<li><p>$2\leq n \leq 10$</p>
</li>
<li><p>$\sum^n_{i=1}k_i\leq 20$</p>
</li>
</ul>
<h4>Subtask 2 (45 points)</h4>
<ul>
<li><p>$2\leq n \leq 100$</p>
</li>
<li><p>$\sum^n_{i=1}k_i\leq 200$</p>
</li>
</ul>
<h4>Subtask 3 (33 points)</h4>
<ul>
<li><p>$2\leq n \leq 5000$</p>
</li>
<li><p>$\sum^n_{i=1}k_i\leq 10000$</p>
</li>
</ul>
<h2>题意简述</h2>
<p>构造一棵带点权的树, 要求父结点权值不小于子结点权值和, 且所有点权均为正, 问合法的树的最小点权和</p>
<h2>解题思路</h2>
<p>对于一棵合法的树, 不难发现最小点权和即为所有点深度的和</p>
<p>所以我们应该让构造的树深度尽可能小, 那么很自然就可以想到 BFS</p>
<h2>复杂度</h2>
<p>$O(n\sum k_i)$</p>
<h2>代码参考</h2>
<p>{% icodeweb blog lang:cpp baltoi2016-1/std.cpp %}</p>
