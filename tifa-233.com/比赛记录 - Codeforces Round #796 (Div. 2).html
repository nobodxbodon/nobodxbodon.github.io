<h2><a href="https://github.com/Tiphereth-A/Tiphereth-A.github.io/blob/master/source/_posts/cf1688.md">仓库源文</a>，<a href="https://tifa-233.com/cf1688">站点原文</a></h2>
<hr/>
<p>title: "比赛记录 - Codeforces Round #796 (Div. 2)"
date: 2022-06-04 01:10:31
categories:</p>
<ul>
<li>算法竞赛
tags:</li>
<li>算法竞赛</li>
<li>Codeforces</li>
<li>交互题</li>
<li>贪心</li>
<li>数学</li>
<li>构造</li>
<li>图论</li>
<li>最小生成树</li>
<li>位运算</li>
</ul>
<hr/>
<p><a href="https://codeforces.com/contest/1688">比赛链接</a></p>
<p>&lt;!-- more --&gt;</p>
<p>&lt;style&gt;
.epigraph-text {
    margin-left: 67%;
    width: 33%;
}
.epigraph-source {
    border-top: 1px solid #888;
    text-align: right;
}
&lt;/style&gt;</p>
<h2>A - Cirno's Perfect Bitmasks Classroom</h2>
<p>&lt;div class="epigraph-text"&gt;Even if it's a really easy question, she won't be able to answer it&lt;/div&gt;
&lt;div class="epigraph-source"&gt;— &lt;i&gt;Perfect Memento in Strict Sense&lt;/i&gt;&lt;/div&gt;</p>
<p>Cirno's perfect bitmasks classroom has just started!</p>
<p>Cirno gave her students a positive integer $x$. As an assignment, her students need to find the <strong>minimum positive</strong> integer $y$, which satisfies the following two conditions:</p>
<p>$$
x\ \texttt{and}\ y &gt; 0
$$</p>
<p>$$
x\ \texttt{xor}\ y &gt; 0
$$</p>
<p>Where $\texttt{and}$ is the <a href="https://en.wikipedia.org/wiki/Bitwise_operation#AND">bitwise AND operation</a>, and $\texttt{xor}$ is the <a href="https://en.wikipedia.org/wiki/Bitwise_operation#XOR">bitwise XOR operation</a></p>
<p>Among the students was Mystia, who was truly baffled by all these new operators. Please help her!</p>
<h3>Input</h3>
<p>The first line of input contains a single integer $t$ ($1 \leq t \leq 10^3$) — the number of input test cases</p>
<p>For each test case, the only line of input contains one integer $x$ ($1 \leq x \leq 2^{30}$)</p>
<h3>Output</h3>
<p>For each test case, print a single integer — the minimum number of $y$</p>
<h3>Example</h3>
<h4>input</h4>
<pre><code class="language-input1">7
1
2
5
9
16
114514
1000000
</code></pre>
<h4>output</h4>
<pre><code class="language-output1">3
3
1
1
17
2
64
</code></pre>
<h3>Note</h3>
<p>Test case 1:</p>
<p>$1; \texttt{and}; 3=1&gt;0$, $1; \texttt{xor}; 3=2&gt;0$</p>
<p>Test case 2:</p>
<p>$2; \texttt{and}; 3=2&gt;0$, $2; \texttt{xor}; 3=1&gt;0$</p>
<h3>代码参考</h3>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% icodeweb cpa_cpp title:CodeForces_1688A CodeForces/1688A/0.cpp %}</p>
<p>&lt;/details&gt;</p>
<h2>B - Patchouli's Magical Talisman</h2>
<p>&lt;div class="epigraph-text"&gt;She is skilled in all kinds of magics, and is keen on inventing new one&lt;/div&gt;
&lt;div class="epigraph-source"&gt;— &lt;i&gt;Perfect Memento in Strict Sense&lt;/i&gt;&lt;/div&gt;</p>
<p>Patchouli is making a magical talisman. She initially has $n$ magical tokens. Their magical power can be represented with <strong>positive</strong> integers $a_1, a_2, \ldots, a_n$</p>
<p>Patchouli may perform the following two operations on the tokens</p>
<ul>
<li><strong>Fusion</strong>: Patchouli chooses two tokens, removes them, and creates a new token with magical power equal to the sum of the two chosen tokens</li>
<li><strong>Reduction</strong>: Patchouli chooses a token with an <strong>even</strong> value of magical power $x$, removes it and creates a new token with magical power equal to $\frac{x}{2}$</li>
</ul>
<p>Tokens are more effective when their magical powers are <strong>odd</strong> values. Please help Patchouli to find the minimum number of operations she needs to make magical powers of all tokens <strong>odd</strong> values</p>
<h3>Input</h3>
<p>Each test contains multiple test cases</p>
<p>The first line contains a single integer $t$ ($1 \leq t \leq 10^3$) — the number of test cases. The description of the test cases follows</p>
<p>For each test case, the first line contains one integer $n$ ($1 \leq n\leq 2\cdot 10^5$) — the initial number of tokens</p>
<p>The second line contains $n$ intergers $a_1,a_2,\ldots,a_n$ ($1 \leq a_i \leq 10^9$) — the initial magical power of the $n$ tokens</p>
<p>It is guaranteed that the sum of $n$ over all test cases does not exceed $2 \cdot 10^5$</p>
<h3>Output</h3>
<p>For each test case, print a single integer — the minimum number of operations Patchouli needs to make all tokens have an <strong>odd</strong> value of magical power</p>
<p>It can be shown that under such restrictions the required sequence of operations exists</p>
<h3>Example</h3>
<h4>input</h4>
<pre><code class="language-input1">4
2
1 9
3
1 1 2
3
2 4 8
3
1049600 33792 1280
</code></pre>
<h4>output</h4>
<pre><code class="language-output1">0
1
3
10
</code></pre>
<h3>Note</h3>
<p>Test case 1:</p>
<p>$a$ consists solely of odd numbers initially</p>
<p>Test case 2:</p>
<p>Choose the tokens with magical power of $1$ and $2$ and perform Fusion. Now $a=[1,3]$, both are odd numbers</p>
<p>Test case 3:</p>
<p>Choose the tokens with magical power of $2$ and $8$ and perform Fusion. Now $a=[4,10]$</p>
<p>Choose the token with magical power of $10$ and perform Reduction. Now $a=[4,5]$</p>
<p>Choose the tokens with magical power of $4$ and $5$ and perform Fusion. Now $a=[9]$, and $9$ is an odd number</p>
<p>It can be shown that you can not make all the magical powers <strong>odd</strong> numbers in less than $3$ moves, so the answer is $3$</p>
<h3>代码参考</h3>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% icodeweb cpa_cpp title:CodeForces_1688B CodeForces/1688B/0.cpp %}</p>
<p>&lt;/details&gt;</p>
<h2>C - Manipulating History</h2>
<p>&lt;div class="epigraph-text"&gt;As a human, she can erase history of its entirety. As a &lt;i&gt;Bai Ze (Hakutaku)&lt;/i&gt;, she can create history out of nothingness&lt;/div&gt;
&lt;div class="epigraph-source"&gt;— &lt;i&gt;Perfect Memento in Strict Sense&lt;/i&gt;&lt;/div&gt;</p>
<p>Keine has the ability to manipulate history</p>
<p>The history of Gensokyo is a string $s$ <strong>of length</strong> $1$ <strong>initially</strong>. To fix the chaos caused by Yukari, she needs to do the following operations $n$ times, for the $i$-th time:</p>
<ul>
<li>She chooses a <strong>non-empty substring</strong> $t_{2i-1}$ of $s$</li>
<li>She replaces $t_{2i-1}$ with a <strong>non-empty</strong> string, $t_{2i}$. Note that the lengths of strings $t_{2i-1}$ and $t_{2i}$ can be different</li>
</ul>
<p>Note that if $t_{2i-1}$ occurs more than once in $s$, <strong>exactly one</strong> of them will be replaced</p>
<p>For example, let $s=$"<code>marisa</code>", $t_{2i-1}=$"<code>a</code>", and $t_{2i}=$"<code>z</code>". After the operation, $s$ becomes "<code>mzrisa</code>" or "<code>marisz</code>"</p>
<p>After $n$ operations, Keine got the final string and an operation sequence $t$ of length $2n$. Just as Keine thinks she has finished, Yukari appears again and shuffles the order of $t$. Worse still, Keine forgets the initial history</p>
<p>Help Keine find the initial history of Gensokyo!</p>
<p>Recall that a substring is a sequence of consecutive characters of the string. For example, for string "<code>abc</code>" its substrings are: "<code>ab</code>", "<code>c</code>", "<code>bc</code>" and some others. But the following strings are not its substring: "<code>ac</code>", "<code>cba</code>", "<code>acb</code>"</p>
<h3>Hacks</h3>
<p>You cannot make hacks in this problem</p>
<h3>Input</h3>
<p>Each test contains multiple test cases. The first line contains a single integer $T$ ($1 \leq T \leq 10^3$) — the number of test cases. The description of the test cases follows</p>
<p>The first line of each test case contains a single integer $n$ ($1 \le n &lt; 10 ^ 5$) — the number of operations</p>
<p>The next $2n$ lines contains one <strong>non-empty</strong> string $t_{i}$ — the $i$-th string of the shuffled sequence $t$</p>
<p>The next line contains one <strong>non-empty</strong> string $s$ — the final string</p>
<p>It is guaranteed that the total length of given strings (including $t_i$ and $s$) over all test cases does not exceed $2 \cdot 10 ^ 5$. All given strings consist of lowercase English letters only</p>
<p>It is guaranteed that the initial string exists. It can be shown that the initial string is unique</p>
<h3>Output</h3>
<p>For each test case, print the initial string in one line</p>
<h3>Example</h3>
<h4>input</h4>
<pre><code class="language-input1">2
2
a
ab
b
cd
acd
3
z
a
a
aa
yakumo
ran
yakumoran
</code></pre>
<h4>output</h4>
<pre><code class="language-output1">a
z
</code></pre>
<h3>Note</h3>
<p>Test case 1:</p>
<p>Initially $s$ is "<code>a</code>"</p>
<ul>
<li>In the first operation, Keine chooses "<code>a</code>", and replaces it with "<code>ab</code>". $s$ becomes "<code>ab</code>"</li>
<li>In the second operation, Keine chooses "<code>b</code>", and replaces it with "<code>cd</code>". $s$ becomes "<code>acd</code>"</li>
</ul>
<p>So the final string is "<code>acd</code>", and $t=[$"<code>a</code>", "<code>ab</code>", "<code>b</code>", "<code>cd</code>"$]$ before being shuffled</p>
<p>Test case 2:</p>
<p>Initially $s$ is "<code>z</code>"</p>
<ul>
<li>In the first operation, Keine chooses "<code>z</code>", and replaces it with "<code>aa</code>". $s$ becomes "<code>aa</code>"</li>
<li>In the second operation, Keine chooses "<code>a</code>", and replaces it with "<code>ran</code>". $s$ becomes "<code>aran</code>"</li>
<li>In the third operation, Keine chooses "<code>a</code>", and replaces it with "<code>yakumo</code>". $s$ becomes "<code>yakumoran</code>"</li>
</ul>
<p>So the final string is "yakumoran", and $t=[$"<code>z</code>", "<code>aa</code>", "<code>a</code>", "<code>ran</code>", "<code>a</code>", "<code>yakumo</code>"$]$ before being shuffled</p>
<h3>代码参考</h3>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% icodeweb cpa_cpp title:CodeForces_1688C CodeForces/1688C/0.cpp %}</p>
<p>&lt;/details&gt;</p>
<h2>D - The Enchanted Forest</h2>
<p>&lt;div class="epigraph-text"&gt;The enchanted forest got its name from the magical mushrooms growing here. They may cause illusions and generally should not be approached&lt;/div&gt;
&lt;div class="epigraph-source"&gt;— &lt;i&gt;Perfect Memento in Strict Sense&lt;/i&gt;&lt;/div&gt;</p>
<p>Marisa comes to pick mushrooms in the Enchanted Forest</p>
<p>The Enchanted forest can be represented by $n$ points on the $X$-axis numbered $1$ through $n$. Before Marisa started, her friend, Patchouli, used magic to detect the initial number of mushroom on each point, represented by $a_1,a_2,\ldots,a_n$</p>
<p>Marisa can start out at <strong>any</strong> point in the forest on minute $0$. Each minute, the followings happen in order:</p>
<ul>
<li>She moves from point $x$ to $y$ ($|x-y|\le 1$, possibly $y=x$)</li>
<li>She collects all mushrooms on point $y$</li>
<li>A new mushroom appears on each point in the forest</li>
</ul>
<p>Note that she <strong>cannot</strong> collect mushrooms on minute $0$</p>
<p>Now, Marisa wants to know the maximum number of mushrooms she can pick after $k$ minutes</p>
<h3>Input</h3>
<p>Each test contains multiple test cases. The first line contains a single integer $t$ ($1 \leq t \leq 10^4$) — the number of test cases. The description of the test cases follows</p>
<p>The first line of each test case contains two integers $n$, $k$ ($1 \le n \le 2 \cdot 10 ^ 5$, $1\le k \le 10^9$) — the number of positions with mushrooms and the time Marisa has, respectively</p>
<p>The second line of each test case contains $n$ integers $a_1,a_2,\ldots,a_n$ ($1 \le a_i \le 10^9$) — the initial number of mushrooms on point $1,2,\ldots,n$</p>
<p>It is guaranteed that the sum of $n$ over all test cases does not exceed $2 \cdot 10 ^ 5$</p>
<h3>Output</h3>
<p>For each test case, print the maximum number of mushrooms Marisa can pick after $k$ minutes</p>
<h3>Example</h3>
<h4>input</h4>
<pre><code class="language-input1">4
5 2
5 6 1 2 3
5 7
5 6 1 2 3
1 2
999999
5 70000
1000000000 1000000000 1000000000 1000000000 1000000000
</code></pre>
<h4>output</h4>
<pre><code class="language-output1">12
37
1000000
5000349985
</code></pre>
<h3>Note</h3>
<p>Test case 1:</p>
<p>Marisa can start at $x=2$. In the first minute, she moves to $x=1$ and collect $5$ mushrooms. The number of mushrooms will be $[1,7,2,3,4]$. In the second minute, she moves to $x=2$ and collects $7$ mushrooms. The numbers of mushrooms will be $[2,1,3,4,5]$. After $2$ minutes, Marisa collects $12$ mushrooms</p>
<p>It can be shown that it is impossible to collect more than $12$ mushrooms</p>
<p>Test case 2:</p>
<p>This is one of her possible moving path:</p>
<p>$2 \rightarrow 3 \rightarrow 2 \rightarrow 1 \rightarrow 2 \rightarrow 3 \rightarrow 4 \rightarrow 5$</p>
<p>It can be shown that it is impossible to collect more than $37$ mushrooms</p>
<h3>代码参考</h3>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% icodeweb cpa_cpp title:CodeForces_1687A CodeForces/1687A/0.cpp %}</p>
<p>&lt;/details&gt;</p>
<h2>E - Railway System</h2>
<p>&lt;div class="epigraph-text"&gt;As for the technology in the outside world, it is really too advanced for Gensokyo to even look up to&lt;/div&gt;
&lt;div class="epigraph-source"&gt;—Yasaka Kanako, &lt;i&gt;Symposium of Post-mysticism&lt;/i&gt;&lt;/div&gt;</p>
<p>This is an interactive problem</p>
<p>Under the direct supervision of Kanako and the Moriya Shrine, the railway system of Gensokyo is finally finished. GSKR (Gensokyo Railways) consists of $n$ stations with $m$ bidirectional tracks connecting them. The $i$-th track has length $l_i$ ($1\le l_i\le 10^6$). Due to budget limits, the railway system <strong>may not be connected</strong>, though there may be more than one track between two stations</p>
<p>The value of a railway system is defined as the total length of its all tracks. The maximum (or minimum) capacity of a railway system is defined as the maximum (or minimum) value among all of the currently functional system's <a href="https://en.wikipedia.org/wiki/Spanning_tree#Spanning_forests">full spanning forest</a></p>
<p>In brief, full spanning forest of a graph is a spanning forest with the same connectivity as the given graph</p>
<p>Kanako has a simulator only able to process no more than $2m$ queries. The input of the simulator is a string $s$ of length $m$, consisting of characters 0 and/or 1. The simulator will assume the $i$-th track functional if $s_i=$ 1. The device will then tell Kanako the maximum capacity of the system in the simulated state</p>
<p>Kanako wants to know the the minimum capacity of the system with all tracks functional with the help of the simulator</p>
<p>The structure of the railway system is fixed in advance. In other words, the interactor is not adaptive</p>
<h3>Input</h3>
<p>The first and only line of input contains two integers $n,m$ ($2 \leq n \leq 200$, $1\le m \le 500$) — the number of stations and tracks</p>
<h3>Interaction</h3>
<p>Begin the interaction by reading $n,m$</p>
<p>To make a query, print "<code>?</code> $s$" (without quotes, $s$ is a string of length $m$, consisting of characters <code>0</code> and/or <code>1</code>). Then you should read our response from standard input — the maximum capacity of the system in the simulated state</p>
<p>If your program has made an invalid query or has run out of tries, the interactor will terminate immediately and your program will get a verdict <code>Wrong answer</code></p>
<p>To give the final answer, print "<code>!</code> $L$" (without the quotes, $L$ is the minimum capacity of the system with all tracks functional). Note that giving this answer is not counted towards the limit of $2m$ queries</p>
<p>After printing a query do not forget to output end of line and flush the output. Otherwise, you will get <code>Idleness limit exceeded</code>. To do this, use:</p>
<ul>
<li><code>fflush(stdout)</code> or <code>cout.flush()</code> in C++;</li>
<li><code>System.out.flush()</code> in Java;</li>
<li><code>flush(output)</code> in Pascal;</li>
<li><code>stdout.flush()</code> in Python;</li>
<li>see documentation for other languages</li>
</ul>
<h3>Hacks</h3>
<p>The first line of input must contain two integers $n,m$ ($2 \leq n \leq 200$, $1\le m \le 500$) — the number of stations and tracks</p>
<p>The next $m$ lines of input must contain exactly $3$ space-separated integers $u_i$, $v_i$, $l_i$ ($1\le u_i,v_i \le n$, $u_i\ne v_i$, $1 \leq l_i \leq 10^6$) — the endpoints and the length of the $i$-th track</p>
<h3>Example</h3>
<h4>input</h4>
<pre><code class="language-input1">5 4

0

5

9

7
</code></pre>
<h4>output</h4>
<pre><code class="language-output1">? 0000

? 1110

? 1111

? 1101

! 7
</code></pre>
<h3>Note</h3>
<p>Here is the graph of the example, satisfying $l_i=i$</p>
<p><img alt="" src="/media/wwww/share/study/聚聚/源数据/博客聚合/tifa-233.com/source/_posts/E-1.png"/></p>
<h3>代码参考</h3>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% icodeweb cpa_cpp title:CodeForces_1687B CodeForces/1687B/0.cpp %}</p>
<p>&lt;/details&gt;</p>
<h2>F - Sanae and Giant Robot</h2>
<p>&lt;div class="epigraph-text"&gt;Is it really?! The robot only existing in my imagination?! The Colossal Walking Robot?!!&lt;/div&gt;
&lt;div class="epigraph-source"&gt;— Kochiya Sanae&lt;/div&gt;</p>
<p>Sanae made a giant robot — Hisoutensoku, but something is wrong with it. To make matters worse, Sanae can not figure out how to stop it, and she is forced to fix it on-the-fly
The state of a robot can be represented by an array of integers of length $n$. Initially, the robot is at state $a$. She wishes to turn it into state $b$</p>
<p>As a great programmer, Sanae knows the art of copy-and-paste. In one operation, she can choose some segment from given segments, copy the segment from $b$ and paste it into <strong>the same place</strong> of the robot, replacing the original state there. However, she has to ensure that the sum of $a$ <strong>does not change</strong> after each copy operation in case the robot go haywire. Formally, Sanae can choose segment $[l,r]$ and assign $a_i = b_i$ ($l\le i\le r$) if $\sum\limits_{i=1}^n a_i$ does not change after the operation</p>
<p>Determine whether it is possible for Sanae to successfully turn the robot from the initial state $a$ to the desired state $b$ with any (possibly, zero) operations</p>
<h3>Input</h3>
<p>Each test contains multiple test cases. The first line contains a single integer $t$ ($1 \leq t \leq 2\cdot 10^4$) — the number of test cases. The descriptions of the test cases follow</p>
<p>The first line of each test case contains two integers $n$, $m$ ($2 \leq n\leq 2\cdot 10^5$, $1 \leq m\leq 2\cdot 10^5$) — the length of $a$, $b$ and the number of segments</p>
<p>The second line contains $n$ intergers $a_1,a_2,\ldots,a_n$ ($1 \leq a_i \leq 10^9$) — the initial state $a$</p>
<p>The third line contains $n$ intergers $b_1,b_2,\ldots,b_n$ ($1 \leq b_i \leq 10^9$) — the desired state $b$</p>
<p>Then $m$ lines follow, the $i$-th line contains two intergers $l_i,r_i$ ($1 \leq l_i &lt; r_i \leq n$) — the segments that can be copy-pasted by Sanae</p>
<p>It is guaranteed that both the sum of $n$ and the sum of $m$ over all test cases does not exceed $2 \cdot 10 ^ 5$</p>
<h3>Output</h3>
<p>For each test case, print "<code>YES</code>" (without quotes) if $a$ can be turned into $b$, or "<code>NO</code>" (without quotes) otherwise</p>
<p>You can output "<code>YES</code>" and "<code>NO</code>" in any case (for example, strings "<code>yEs</code>", "<code>yes</code>" and "<code>Yes</code>" will be recognized as a positive response)</p>
<h3>Example</h3>
<h4>input</h4>
<pre><code class="language-input1">2
5 2
1 5 4 2 3
3 2 5 4 1
1 3
2 5
5 2
1 5 4 2 3
3 2 4 5 1
1 2
2 4
</code></pre>
<h4>output</h4>
<pre><code class="language-output1">YES
NO
</code></pre>
<h3>Note</h3>
<p>Test case 1:</p>
<p>One possible way of turning $a$ to $b$:</p>
<p>First, select $[1,3]$. After the operation, $a=[3,2,5,2,3]$</p>
<p>Then, select $[2,5]$. After the operation, $a=[3,2,5,4,1]=b$</p>
<p>Test case 2:</p>
<p>It can be shown that it is impossible to turn $a$ into $b$</p>
<h3>代码参考</h3>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% icodeweb cpa_cpp title:CodeForces_1687C CodeForces/1687C/0.cpp %}</p>
<p>&lt;/details&gt;</p>
