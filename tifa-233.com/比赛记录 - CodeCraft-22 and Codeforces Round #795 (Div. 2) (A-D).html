<p>版权声明： 本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！</p>
<h2><a href="https://github.com/Tiphereth-A/Tiphereth-A.github.io/blob/master/source/_posts/cf1691.md">仓库源文</a>，<a href="https://tifa-233.com/archives/cf1691">站点原文</a></h2>
<hr/>
<p>title: "比赛记录 - CodeCraft-22 and Codeforces Round #795 (Div. 2) (A-D)"
categories:</p>
<ul>
<li>算法竞赛
tags:</li>
<li>算法竞赛</li>
<li>Codeforces</li>
<li>贪心</li>
<li>构造</li>
<li>数据结构</li>
<li>线段树</li>
<li>单调栈</li>
<li>RMQ</li>
<li>ST表</li>
<li>Cartesian树
date: 2022-06-01 00:57:52</li>
</ul>
<hr/>
<p><a href="https://codeforces.com/contest/1691">比赛链接</a></p>
&lt;!-- more --&gt;

<h2>A - Beat The Odds</h2>
<p>Given a sequence $a_1, a_2, \ldots, a_n$, find the minimum number of elements to remove from the sequence such that after the removal, the sum of every $2$ consecutive elements is even</p>
<h3>Input</h3>
<p>Each test contains multiple test cases. The first line contains a single integer $t$ ($1 \le t \le 100$) — the number of test cases. Description of the test cases follows</p>
<p>The first line of each test case contains a single integer $n$ ($3 \le n \le 10^5$)</p>
<p>The second line of each test case contains $n$ integers $a_1, a_2,\dots,a_n$ ($1\leq a_i\leq10^9$) — elements of the sequence</p>
<p>It is guaranteed that the sum of $n$ over all test cases does not exceed $10^5$</p>
<h3>Output</h3>
<p>For each test case, print a single integer — the minimum number of elements to remove from the sequence such that the sum of every $2$ consecutive elements is even</p>
<h3>Example</h3>
<h4>input</h4>
<pre><code class="lang-input1">2
5
2 4 3 6 8
6
3 5 9 7 1 3
</code></pre>
<h4>output</h4>
<pre><code class="lang-output1">1
0
</code></pre>
<h3>Note</h3>
<p>In the first test case, after removing $3$, the sequence becomes $[2,4,6,8]$. The pairs of consecutive elements are ${[2, 4], [4, 6], [6, 8]}$. Each consecutive pair has an even sum now. Hence, we only need to remove $1$ element to satisfy the condition asked</p>
<p>In the second test case, each consecutive pair already has an even sum so we need not remove any element</p>
<h3>代码参考</h3>
&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;

{% icodeweb cpa_cpp title:CodeForces_1691A CodeForces/1691A/0.cpp %}

&lt;/details&gt;<h2>B - Shoe Shuffling</h2>
<p>A class of students got bored wearing the same pair of shoes every day, so they decided to shuffle their shoes among themselves. In this problem, a pair of shoes is inseparable and is considered as a single object</p>
<p>There are $n$ students in the class, and you are given an array $s$ in non-decreasing order, where $s_i$ is the shoe size of the $i$-th student. A shuffling of shoes is valid only if no student gets their own shoes and if every student gets shoes of size greater than or equal to their size</p>
<p>You have to output a permutation $p$ of ${1,2,\ldots,n}$ denoting a valid shuffling of shoes, where the $i$-th student gets the shoes of the $p_i$-th student ($p_i \ne i$). And output $-1$ if a valid shuffling does not exist</p>
<p>A permutation is an array consisting of $n$ distinct integers from $1$ to $n$ in arbitrary order. For example, $[2,3,1,5,4]$ is a permutation, but $[1,2,2]$ is not a permutation ($2$ appears twice in the array) and $[1,3,4]$ is also not a permutation ($n=3$ but there is $4$ in the array)</p>
<h3>Input</h3>
<p>Each test contains multiple test cases. The first line contains a single integer $t$ ($1 \le t \le 1000$) — the number of test cases. Description of the test cases follows</p>
<p>The first line of each test case contains a single integer $n$ ($1\leq n\leq10^5$) — the number of students</p>
<p>The second line of each test case contains $n$ integers $s_1, s_2,\ldots,s_n$ ($1\leq s_i\leq10^9$, and for all $1\le i&lt;n$, $s<em>i\le s</em>{i+1}$) — the shoe sizes of the students</p>
<p>It is guaranteed that the sum of $n$ over all test cases does not exceed $10^5$</p>
<h3>Output</h3>
<p>For each test case, print the answer in a single line using the following format</p>
<p>If a valid shuffling does not exist, print the number $-1$ as the answer</p>
<p>If a valid shuffling exists, print $n$ space-separated integers — a permutation $p$ of $1,2,\ldots,n$ denoting a valid shuffling of shoes where the $i$-th student gets the shoes of the $p_i$-th student. If there are multiple answers, then print any of them</p>
<h3>Example</h3>
<h4>input</h4>
<pre><code class="lang-input1">2
5
1 1 1 1 1
6
3 6 8 13 15 21
</code></pre>
<h4>output</h4>
<pre><code class="lang-output1">5 1 2 3 4
-1
</code></pre>
<h3>Note</h3>
<p>In the first test case, any permutation $p$ of $1,\ldots,n$ where $p_i\ne i$ would represent a valid shuffling since all students have equal shoe sizes, and thus anyone can wear anyone's shoes</p>
<p>In the second test case, it can be shown that no valid shuffling is possible</p>
<h3>代码参考</h3>
&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;

{% icodeweb cpa_cpp title:CodeForces_1691B CodeForces/1691B/0.cpp %}

&lt;/details&gt;<h2>C - Sum of Substrings</h2>
<p>You are given a binary string $s$ of length $n$</p>
<p>Let's define $d_i$ as the number whose decimal representation is $s<em>i s</em>{i+1}$ (possibly, with a leading zero). We define $f(s)$ to be the sum of all the valid $d<em>i$. In other words, $f(s) = \sum\limits</em>{i=1}^{n-1} d_i$</p>
<p>For example, for the string $s = 1011$:</p>
<ul>
<li>$d_1 = 10$ (ten);</li>
<li>$d_2 = 01$ (one)</li>
<li>$d_3 = 11$ (eleven);</li>
<li>$f(s) = 10 + 01 + 11 = 22$</li>
</ul>
<p>In one operation you can swap any two adjacent elements of the string. Find the minimum value of $f(s)$ that can be achieved if at most $k$ operations are allowed</p>
<h3>Input</h3>
<p>Each test contains multiple test cases. The first line contains the number of test cases $t$ ($1 \le t \le 10^5$). Description of the test cases follows</p>
<p>First line of each test case contains two integers $n$ and $k$ ($2 \le n \le 10^5$, $0 \le k \le 10^9$) — the length of the string and the maximum number of operations allowed</p>
<p>The second line of each test case contains the binary string $s$ of length $n$, consisting of only zeros and ones</p>
<p>It is also given that sum of $n$ over all the test cases doesn't exceed $10^5$</p>
<h3>Output</h3>
<p>For each test case, print the minimum value of $f(s)$ you can obtain with at most $k$ operations</p>
<h3>Example</h3>
<h4>input</h4>
<pre><code class="lang-input1">3
4 0
1010
7 1
0010100
5 2
00110
</code></pre>
<h4>output</h4>
<pre><code class="lang-output1">21
22
12
</code></pre>
<h3>Note</h3>
<ul>
<li>For the first example, you can't do any operation so the optimal string is $s$ itself. $f(s) = f(1010) = 10 + 01 + 10 = 21$</li>
<li>For the second example, one of the optimal strings you can obtain is "0011000". The string has an $f$ value of $22$</li>
<li>For the third example, one of the optimal strings you can obtain is "00011". The string has an $f$ value of $12$</li>
</ul>
<h3>代码参考</h3>
&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;

{% icodeweb cpa_cpp title:CodeForces_1691C CodeForces/1691C/0.cpp %}

&lt;/details&gt;<h2>D - Max GEQ Sum</h2>
<p>You are given an array $a$ of $n$ integers. You are asked to find out if the inequality</p>
<p>$$
\max(a<em>i, a</em>{i + 1}, \ldots, a<em>{j - 1}, a</em>{j}) \geq a<em>i + a</em>{i + 1} + \dots + a<em>{j - 1} + a</em>{j}
$$</p>
<p>holds for all pairs of indices $(i, j)$, where $1 \leq i \leq j \leq n$</p>
<h3>Input</h3>
<p>Each test contains multiple test cases. The first line contains the number of test cases $t$ ($1 \le t \le 10^5$). Description of the test cases follows</p>
<p>The first line of each test case contains a single integer $n$ ($1 \leq n \leq 2 \cdot 10^5$) — the size of the array</p>
<p>The next line of each test case contains $n$ integers $a_1, a_2, \ldots, a_n$ ($-10^9 \le a_i \le 10^9$)</p>
<p>It is guaranteed that the sum of $n$ over all test cases does not exceed $2 \cdot 10^5$</p>
<h3>Output</h3>
<p>For each test case, on a new line output "YES" if the condition is satisfied for the given array, and "NO" otherwise. You can print each letter in any case (upper or lower)</p>
<h3>Example</h3>
<h4>input</h4>
<pre><code class="lang-input1">3
4
-1 1 -1 2
5
-1 2 -3 2 -1
3
2 3 -1
</code></pre>
<h4>output</h4>
<pre><code class="lang-output1">YES
YES
NO
</code></pre>
<h3>Note</h3>
<p>In test cases $1$ and $2$, the given condition is satisfied for all $(i, j)$ pairs</p>
<p>In test case $3$, the condition isn't satisfied for the pair $(1, 2)$ as $\max(2, 3) &lt; 2 + 3$</p>
<h3>代码参考</h3>
&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;

{% icodeweb cpa_cpp title:CodeForces_1691D CodeForces/1691D/0.cpp %}

&lt;/details&gt;<h2>E - Number of Groups</h2>
<p>You are given $n$ colored segments on the number line. Each segment is either colored red or blue. The $i$-th segment can be represented by a tuple $(c_i, l_i, r_i)$. The segment contains all the points in the range $[l_i, r_i]$, inclusive, and its color denoted by $c_i$:</p>
<ul>
<li>if $c_i = 0$, it is a red segment;</li>
<li>if $c_i = 1$, it is a blue segment</li>
</ul>
<p>We say that two segments of different colors are connected, if they share at least one common point. Two segments belong to the same group, if they are either connected directly, or through a sequence of directly connected segments. Find the number of groups of segments</p>
<p><img alt="" src="/Users/xuanwu/work/聚聚/中文博客集锦/源数据/博客聚合/tifa-233.com/source/_posts/E-1.webp"/></p>
<h3>Input</h3>
<p>Each test contains multiple test cases. The first line contains the number of test cases $t$ ($1 \le t \le 10^5$). Description of the test cases follows</p>
<p>The first line of each test case contains a single integer $n$ ($1 \leq n \leq 10^5$) — the number of segments</p>
<p>Each of the next $n$ lines contains three integers $c_i, l_i, r_i$ ($0 \leq c_i \leq 1, 0 \leq l_i \leq r_i \leq 10^9$), describing the $i$-th segment</p>
<p>It is guaranteed that the sum of $n$ over all test cases does not exceed $10^5$</p>
<h3>Output</h3>
<p>For each test case, print a single integer $k$, the number of groups of segments</p>
<h3>Example</h3>
<h4>input</h4>
<pre><code class="lang-input1">2
5
0 0 5
1 2 12
0 4 7
1 9 16
0 13 19
3
1 0 1
1 1 2
0 3 4
</code></pre>
<h4>output</h4>
<pre><code class="lang-output1">2
3
</code></pre>
<h3>Note</h3>
<p>In the first example there are $5$ segments. The segments $1$ and $2$ are connected, because they are of different colors and share a point. Also, the segments $2$ and $3$ are connected, and so are segments $4$ and $5$. Thus, there are two groups: one containing segments ${1, 2, 3}$, and the other one containing segments ${4, 5}$</p>
<h3>代码参考</h3>
&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;

&lt;/details&gt;<h2>F - K-Set Tree</h2>
<p>You are given a tree $G$ with $n$ vertices and an integer $k$. The vertices of the tree are numbered from $1$ to $n$</p>
<p>For a vertex $r$ and a subset $S$ of vertices of $G$, such that $|S| = k$, we define $f(r, S)$ as the size of the smallest rooted subtree containing all vertices in $S$ when the tree is rooted at $r$. A set of vertices $T$ is called a rooted subtree, if all the vertices in $T$ are connected, and for each vertex in $T$, all its descendants belong to $T$</p>
<p>You need to calculate the sum of $f(r, S)$ over all possible distinct combinations of vertices $r$ and subsets $S$, where $|S| = k$. Formally, compute the following:</p>
<p>$$
\sum<em>{r \in V} \sum</em>{S \subseteq V, |S| = k} f(r, S),
$$</p>
<p>where $V$ is the set of vertices in $G$</p>
<h3>Output the answer modulo $10^9 + 7$</h3>
<h3>Input</h3>
<p>The first line contains two integers $n$ and $k$ ($3 \le n \le 2 \cdot 10^5$, $1 \le k \le n$)</p>
<p>Each of the following $n - 1$ lines contains two integers $x$ and $y$ ($1 \le x, y \le n$), denoting an edge between vertex $x$ and $y$</p>
<p>It is guaranteed that the given edges form a tree</p>
<h3>Output</h3>
<p>Print the answer modulo $10^9 + 7$</p>
<h3>Examples</h3>
<h4>input</h4>
<pre><code class="lang-input1">3 2
1 2
1 3
</code></pre>
<h4>output</h4>
<pre><code class="lang-output1">25
</code></pre>
<h4>input</h4>
<pre><code class="lang-input2">7 2
1 2
2 3
2 4
1 5
4 6
4 7
</code></pre>
<h4>output</h4>
<pre><code class="lang-output2">849
</code></pre>
<h3>Note</h3>
<p>The tree in the second example is given below:</p>
<p><img alt="" src="/Users/xuanwu/work/聚聚/中文博客集锦/源数据/博客聚合/tifa-233.com/source/_posts/F-1.webp"/></p>
<p>We have $21$ subsets of size $2$ in the given tree. Hence,</p>
<p>$$
S \in \left{{1, 2}, {1, 3}, {1, 4}, {1, 5}, {1, 6}, {1, 7}, {2, 3}, {2, 4}, {2, 5}, {2, 6}, {2, 7}, {3, 4}, {3, 5}, {3, 6}, {3, 7}, {4, 5}, {4, 6}, {4, 7}, {5, 6}, {5, 7}, {6, 7} \right}.
$$</p>
<p>And since we have $7$ vertices, $1 \le r \le 7$. We need to find the sum of $f(r, S)$ over all possible pairs of $r$ and $S$</p>
<p>Below we have listed the value of $f(r, S)$ for some combinations of $r$ and $S$</p>
<ul>
<li>$r = 1$, $S = {3, 7}$. The value of $f(r, S)$ is $5$ and the corresponding subtree is ${2, 3, 4, 6, 7}$</li>
<li>$r = 1$, $S = {5, 4}$. The value of $f(r, S)$ is $7$ and the corresponding subtree is ${1, 2, 3, 4, 5, 6, 7}$</li>
<li>$r = 1$, $S = {4, 6}$. The value of $f(r, S)$ is $3$ and the corresponding subtree is ${4, 6, 7}$</li>
</ul>
<h3>代码参考</h3>
&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;

&lt;/details&gt;