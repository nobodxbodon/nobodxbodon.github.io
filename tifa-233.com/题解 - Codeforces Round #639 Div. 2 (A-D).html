<h2><a href="https://github.com/Tiphereth-A/Tiphereth-A.github.io/blob/master/source/_posts/cf1345.md">仓库源文</a>，<a href="https://tifa-233.com/cf1345">站点原文</a></h2>
<hr/>
<p>title: "题解 - Codeforces Round #639 Div. 2 (A-D)"
categories:</p>
<ul>
<li>算法竞赛</li>
<li>题解
tags:</li>
<li>算法竞赛</li>
<li>题解</li>
<li>Codeforces</li>
<li>DFS</li>
<li>数学</li>
<li>数论</li>
<li>同余</li>
<li>二分</li>
<li>打表</li>
<li>枚举
date: 2020-05-07 00:07:49</li>
</ul>
<hr/>
<p><a href="https://codeforces.com/contest/1345">比赛链接</a></p>
<p>打一半改成 unrated 了海星</p>
<p>惨 Monogon 惨</p>
<p>&lt;!--more--&gt;</p>
<h2>A. Puzzle Pieces</h2>
<h3>题意</h3>
<p>有 $n\times m$ 个完全相同的拼图块, 每个均一凹三凸, 如图</p>
<p><img alt="" src="/media/wwww/share/study/聚聚/源数据/博客聚合/tifa-233.com/source/_posts/A_1.bmp"/></p>
<p>问对给定的 $n$ 和 $m$, 能不能拼出 $n\times m$ 的矩形</p>
<h3>思路与做法</h3>
<p>不妨假设 $n\leqslant m$</p>
<p>首先当 $n=1$ 时和 $n=m=2$ 时显然可以</p>
<p><img alt="" src="/media/wwww/share/study/聚聚/源数据/博客聚合/tifa-233.com/source/_posts/A_2.bmp"/></p>
<p><img alt="" src="/media/wwww/share/study/聚聚/源数据/博客聚合/tifa-233.com/source/_posts/A_3.bmp"/></p>
<p>而如果想拼出 $n\times m,2&lt;n\leqslant m$ 的矩形, 必然需要先拼出 $(n-1)\times m$ 和 $n\times(m-1)$ 的矩形</p>
<p>观察发现, 如果矩形可以拼出, 则每条拼图块的公共边必然为一凹一凸, 可以发现 $m=3$ 和 $n=3$ 时的矩形一共 $7$ 条公共边, 但所有拼图块一共只有 $6$ 个凹边</p>
<p>故可能的情况只有 $n=1$ 时和 $n=m=2$ 时</p>
<h3>代码</h3>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% icodeweb cpa_cpp title:CodeForces_1345A CodeForces/1345A/0.cpp %}</p>
<p>&lt;/details&gt;</p>
<h2>B. Card Constructions</h2>
<h3>题意</h3>
<p>输入 $n$, 计算能搭出几个卡牌金字塔</p>
<p>图示即为卡牌金字塔高度 $h=1,2,3$ 时的情况</p>
<p><img alt="" src="/media/wwww/share/study/聚聚/源数据/博客聚合/tifa-233.com/source/_posts/B_1.bmp"/></p>
<h3>思路与做法</h3>
<p>易得高度为 $h$ 的卡牌金字塔所消耗的卡牌总数为 $\frac{1}{2}(3h^2+h)$</p>
<p>所以直接打个表然后二分查找就好了</p>
<p>其实不用二分也能过, 直接从高到低遍历一遍就行</p>
<h3>复杂度</h3>
<p>不需要二分就可以做到单次 $O(\sqrt n)$ (实际上我比赛时的二分做法也是 $O(\sqrt{n})$ 的, 常数反而更大些)</p>
<p>此时的总体复杂度显然是 $O(\sum_{i=1}^t\sqrt{n_i})$, 不过可以将其写成更好看的形式</p>
<p>令 $N=\displaystyle\sum_{i=1}^tn_i$, 由 Cauchy-Schwarz 不等式可知</p>
<p>$$
\sum_{i=1}^t\sqrt{n_i}\leqslant\sqrt{\sum_{i=1}^t1\cdot\sum_{i=1}^tn_i}=\sqrt{tN}
$$</p>
<p>所以可以记作 $O(\sqrt{tN})$</p>
<h3>代码</h3>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% icodeweb cpa_cpp title:CodeForces_1345B CodeForces/1345B/0.cpp %}</p>
<p>&lt;/details&gt;</p>
<h2>C. Hilbert's Hotel</h2>
<h3>题意</h3>
<p>给出 $n$ 和一组数 $a_0,a_1,...,a_{n-1}$, 问是否 $\exists x,y\in\Bbb{Z}, x\ne y\ s.t.\ x+a_{x\operatorname{mod}n}=y+a_{y\operatorname{mod}n}$</p>
<h3>思路与做法</h3>
<p>首先我们可以发现</p>
<ul>
<li>$x=y+kn,k\in\Bbb{Z}\iff x+a_{x\operatorname{mod}n}=y+a_{y\operatorname{mod}n}+kn$</li>
<li>$x+a_{x\operatorname{mod}n}=y+a_{y\operatorname{mod}n}\impliedby \begin{cases}
x+a_{x\operatorname{mod}n}\equiv y+a_{y\operatorname{mod}n}\pmod n\
x\ne y+kn,k\in\Bbb{Z}
\end{cases}$</li>
</ul>
<p>所以我们只需在 $\Bbb{Z}_n$ 下考虑即可</p>
<p>若</p>
<p>$$
\exists x,y\in\Bbb{Z}<em>n, x\ne y\ s.t.\ x+a</em>{x\operatorname{mod}n}\equiv y+a_{y\operatorname{mod}n}\pmod n
$$</p>
<p>则</p>
<p>$$
\exists x,y\in\Bbb{Z}, x\ne y\ s.t.\ x+a_{x\operatorname{mod}n}=y+a_{y\operatorname{mod}n}
$$</p>
<h3>复杂度</h3>
<p>单次 $\Theta(n)$</p>
<h3>代码</h3>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% icodeweb cpa_cpp title:CodeForces_1345C CodeForces/1345C/0.cpp %}</p>
<p>&lt;/details&gt;</p>
<h2>D. Monopole Magnets</h2>
<h3>题意</h3>
<p>有个 $n\times m$ 的地图, 每个格子都染成了黑色或白色, 每个格子还可以放单极磁铁(当然这玩意现实中不存在), 如果 N 极和 S 极同行或同列, 则 N 级可以向 S 极方向移动一格, 要求</p>
<ol>
<li>每行和每列都至少放一个 S 极</li>
<li>N 极能经过所有黑格</li>
<li>N 极不能有经过白格的可能</li>
</ol>
<p>问对给定的地图是否存在放置单极磁铁的方案, 如果有的话一共可以放几个 N 极</p>
<h3>思路与做法</h3>
<p>如果有方案的话, N 极个数显然为黑格连通块个数</p>
<p>如果在某行/列出现两个黑格中间有白格的情况, 则中间的白格有可能被经过, 否则该行/列没有 S 极</p>
<p>如果某一行/列全白, 则必有某一列/行全白, 从而 S 极可置于交点处. 否则白格有可能被经过, 或该行/列没有 S 极</p>
<p>所以只需要先遍历看看是否存在上述情况, 如果没有再求个连通块个数就行了</p>
<h3>复杂度</h3>
<p>$\Theta(nm)$</p>
<h3>代码</h3>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% icodeweb cpa_cpp title:CodeForces_1345D CodeForces/1345D/0.cpp %}</p>
<p>&lt;/details&gt;</p>
