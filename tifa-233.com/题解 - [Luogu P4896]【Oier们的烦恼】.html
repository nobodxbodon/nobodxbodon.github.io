<p>版权声明： 本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！</p>
<h2><a href="https://github.com/Tiphereth-A/Tiphereth-A.github.io/blob/master/source/_posts/luogu-p4896.md">仓库源文</a>，<a href="https://tifa-233.com/archives/luogu-p4896">站点原文</a></h2>
<p><a href="https://www.luogu.com.cn/problem/P4896">题目</a></p>
<p>这么好的题怎么能没有"位掩码"题解呢（滑稽</p>
&lt;!--more--&gt;

<p>大致思路就是<strong>用一个 char 来记录老师是否在机房和学生是否被抓到</strong>（一共需要 3+5=8 位来记录, 正好是一个 char）, 再<strong>用一个 char 记录被抓到的学生的编号</strong>, 就像这样:</p>
<pre><code class="lang-plaintext">char in_room, dead;
//in_room的1～3位记录老师, 4～8位记录学生
</code></pre>
<p>然而为了降低调试难度, 我们可以用两个 char 分别记录老师和学生的状态, 就像这样:</p>
<pre><code class="lang-plaintext">char onlineT, onlineS, deadS;
//按字面意思理解即可
</code></pre>
<p>我们还需要定义一些函数来对它们进行操作, 就像这样（这里以宏定义为例）:</p>
<pre><code class="lang-plaintext">#define _teacher_in(i) onlineT |= 1 &lt;&lt; i      //老师进机房
#define _teacher_out(i) onlineT &amp;= ~(1 &lt;&lt; i)  //老师出机房
#define _student_in(i) onlineS |= 1 &lt;&lt; i      //学生开始玩游戏
#define _student_out(i) onlineS &amp;= ~(1 &lt;&lt; i)  //学生停止玩游戏
#define _dead(i) deadS&amp;(1 &lt;&lt; i)               //查询学生是否被发现
#define _kill_student deadS |= onlineS        //学生被发现
</code></pre>
<p>其他就没什么了, 可以参照其他题解<del>没错我就是懒（理直气壮</del></p>
