<h2><a href="https://github.com/Tiphereth-A/Tiphereth-A.github.io/blob/master/source/_posts/luogu-p7075.md">仓库源文</a>，<a href="https://tifa-233.com/luogu-p7075">站点原文</a></h2>
<hr/>
<p>title: "题解 - [Luogu P7075] [CSP-S2020] 儒略日"
categories:</p>
<ul>
<li>算法竞赛</li>
<li>题解
tags:</li>
<li>算法竞赛</li>
<li>题解</li>
<li>洛谷</li>
<li>CSP</li>
<li>CSP-S</li>
<li>数学</li>
<li>日期</li>
<li>儒略日</li>
<li>儒略历</li>
<li>格里高利历
date: 2021-11-15 00:45:28</li>
</ul>
<hr/>
<p><a href="https://www.luogu.com.cn/problem/P7075">题目链接</a></p>
<p>&lt;!-- more --&gt;</p>
<h2>原始题面</h2>
<h3>题目描述</h3>
<p>为了简便计算, 天文学家们使用儒略日 (Julian day) 来表达时间. 所谓儒略日, 其定义为从<strong>公元前 4713 年 1 月 1 日正午 12 点到此后某一时刻间所经过的天数</strong>, 不满一天者用小数表达. 若利用这一天文学历法, 则每一个时刻都将被均匀的映射到数轴上, 从而得以很方便的计算它们的差值</p>
<p>现在, 给定一个不含小数部分的儒略日, 请你帮忙计算出该儒略日 (一定是某一天的中午 12 点) 所对应的公历日期</p>
<p>我们现行的公历为格里高利历 (Gregorian calendar), 它是在公元 1582 年由教皇格里高利十三世在原有的儒略历 (Julian calendar) 的基础上修改得到的 (注: 儒略历与儒略日并无直接关系). 具体而言, 现行的公历日期按照以下规则计算:</p>
<ol>
<li><p>公元 1582 年 10 月 15 日 (含) 以后: 适用格里高利历, 每年一月 $31$ 天, 二月 $28$ 天或 $29$ 天, 三月 $31$ 天, 四月 $30$ 天, 五月 $31$ 天, 六月 $30$ 天, 七月 $31$ 天, 八月 $31$ 天, 九月 $30$ 天, 十月 $31$ 天, 十一月 $30$ 天, 十二月 $31$ 天. 其中, 闰年的二月为 $29$ 天, 平年为 $28$ 天. 当年份是 $400$ 的倍数, 或日期年份是 $4$ 的倍数但不是 $100$ 的倍数时, 该年为闰年</p>
</li>
<li><p>公元 1582 年 10 月 5 日 (含) 至 10 月 14 日 (含) : 不存在, 这些日期被删除, 该年 10 月 4 日之后为 10 月 15 日</p>
</li>
<li><p>公元 1582 年 10 月 4 日 (含) 以前: 适用儒略历, 每月天数与格里高利历相同, 但只要年份是 $4$ 的倍数就是闰年</p>
</li>
<li><p>尽管儒略历于公元前 45 年才开始实行, 且初期经过若干次调整, 但今天人类习惯于按照儒略历最终的规则反推一切 1582 年 10 月 4 日之前的时间. 注意, <strong>公元零年并不存在</strong>, 即公元前 1 年的下一年是公元 1 年. 因此公元前 1 年, 前 5 年, 前 9 年, 前 13 年......以此类推的年份应视为闰年</p>
</li>
</ol>
<h3>输入输出格式</h3>
<h4>输入格式</h4>
<p>第一行一个整数 $Q$, 表示询问的组数</p>
<p>接下来 $Q$ 行, 每行一个非负整数 $r_i$, 表示一个儒略日</p>
<h4>输出格式</h4>
<p>对于每一个儒略日 $r_i$, 输出一行表示日期的字符串 $s_i$. 共计 $Q$ 行</p>
<p>$s_i$ 的格式如下:</p>
<ol>
<li><p>若年份为公元后, 输出格式为 <code>Day Month Year</code>. 其中日 (Day) , 月 (Month) , 年 (Year) 均不含前导零, 中间用一个空格隔开. 例如: 公元 2020 年 11 月 7 日正午 12 点, 输出为 <code>7 11 2020</code></p>
</li>
<li><p>若年份为公元前, 输出格式为 <code>Day Month Year BC</code>. 其中年 (Year) 输出该年份的数值, 其余与公元后相同. 例如: 公元前 841 年 2 月 1 日正午 12 点, 输出为 <code>1 2 841 BC</code></p>
</li>
</ol>
<h3>输入输出样例</h3>
<h4>输入样例 #1</h4>
<pre><code class="language-input1">3
10
100
1000
</code></pre>
<h4>输出样例 #1</h4>
<pre><code class="language-output1">11 1 4713 BC
10 4 4713 BC
27 9 4711 BC
</code></pre>
<h4>输入样例 #2</h4>
<pre><code class="language-input2">3
2000000
3000000
4000000
</code></pre>
<h4>输出样例 #2</h4>
<pre><code class="language-output2">14 9 763
15 8 3501
12 7 6239
</code></pre>
<h4>输入样例 #3</h4>
<p>见附件中的 julian/julian3.in</p>
<h4>输出样例 #3</h4>
<p>见附件中的 julian/julian3.ans</p>
<h3>说明</h3>
<blockquote>
<p><strong>【数据范围】</strong></p>
</blockquote>
<p>| 测试点编号 |  $Q =$  |       $r_i \le$       |
| :--------: | :-----: | :-------------------: |
|    $1$     | $1000$  |         $365$         |
|    $2$     | $1000$  |        $10^4$         |
|    $3$     | $1000$  |        $10^5$         |
|    $4$     | $10000$ |    $3\times 10^5$     |
|    $5$     | $10000$ |   $2.5\times 10^6$    |
|    $6$     | $10^5$  |   $2.5\times 10^6$    |
|    $7$     | $10^5$  |    $5\times 10^6$     |
|    $8$     | $10^5$  |        $10^7$         |
|    $9$     | $10^5$  |        $10^9$         |
|    $10$    | $10^5$  | 年份答案不超过 $10^9$ |</p>
<h3>附件下载</h3>
<p><a href="julian.zip">julian.zip</a> 959.73KB</p>
<h2>解题思路</h2>
<p>直接代公式即可</p>
<blockquote>
<p><img alt="" src="/media/wwww/share/study/聚聚/源数据/博客聚合/tifa-233.com/source/_posts/1.jpg"/></p>
<p>from <em>Astronomical Algorithms</em></p>
</blockquote>
<p>需要注意本题不需要对儒略日加 0.5</p>
<h2>代码参考</h2>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% icodeweb cpa_cpp title:Luogu_P7075 Luogu/P7075/1.cpp %}</p>
<p>&lt;/details&gt;</p>
