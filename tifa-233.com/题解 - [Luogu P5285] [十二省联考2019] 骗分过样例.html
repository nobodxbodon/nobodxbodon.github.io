<p>版权声明： 本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！</p>
<h2><a href="https://github.com/Tiphereth-A/Tiphereth-A.github.io/blob/master/source/_posts/luogu-p5285.md">仓库源文</a>，<a href="https://tifa-233.com/archives/luogu-p5285">站点原文</a></h2>
<p><a href="https://www.luogu.com.cn/problem/P5285">题目链接</a></p>
&lt;!-- more --&gt;

<h2>原始题面</h2>
<h3>题目背景</h3>
<p>这是一道<strong>传统题</strong></p>
<p>"我的程序需要完成什么功能呀? ......"</p>
<p>"我也不知道......"</p>
<p>"啊? 那我怎么写呀......"</p>
<p>"已经有人给你写好测试了, 只要你通过这些测试就可以了......"</p>
<p>"啊? ......"</p>
<p>"所有的测试数据都在题目目录下, 请做好备份, 避免误删!"</p>
<p>"这......"</p>
<p>"哦, 我还可以把输入格式告诉你......不过都有完整的数据了, 知道输入格式可能也没太大用处吧......"</p>
<h3>题目描述</h3>
<p>题目数据详见附加文件</p>
<h3>输入输出格式</h3>
<h4>输入格式</h4>
<p>第一行输入一个字符串, 表示需要运行的软件功能编号. 两个编号越相似, 说明对 应的两个功能的算法越接近</p>
<p>接下来根据功能的不同, 可能有任意长度的输入, 详见每个功能的文档</p>
<h4>输出格式</h4>
<p>详见每个功能的文档</p>
<h3>输入输出样例</h3>
<p>无</p>
<h3>说明</h3>
<h4>子任务</h4>
<p>" '每个功能的文档' 在哪里呀?"</p>
<p>"我也没有, 就像我没有题目描述一样......"</p>
<p>"好吧......那我是不是打表就可以了呀......"</p>
<p>"<strong>代码长度限制是 $\bold{102400}$ 字节</strong> ($100$KB), 直接打肯定是不行的! 不过, 需要的话倒是可以稍微打一些小的表......"</p>
<p>"唔......"</p>
<p>"另外, 我们会给你的程序对于每个测试点分别评分, 求和后得到总分. 按照传统 的规矩, 每个测试点正确得满分, 错误得 $0$ 分. <strong>每个测试点的分值不全相同, 测试点的分值, 顺序与难度没有必然联系</strong> ."</p>
<table>
<thead><tr>
<th style="text-align:center">测试点</th>
<th style="text-align:center">功能编号</th>
<th style="text-align:center">分值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$1$</td>
<td style="text-align:center">$\texttt{1_998244353}$</td>
<td style="text-align:center">$4$</td>
</tr>
<tr>
<td style="text-align:center">$2$</td>
<td style="text-align:center">$\texttt{1_998244353}$</td>
<td style="text-align:center">$4$</td>
</tr>
<tr>
<td style="text-align:center">$3$</td>
<td style="text-align:center">$\texttt{1_998244353}$</td>
<td style="text-align:center">$4$</td>
</tr>
<tr>
<td style="text-align:center">$4$</td>
<td style="text-align:center">$\texttt{1?}$</td>
<td style="text-align:center">$7$</td>
</tr>
<tr>
<td style="text-align:center">$5$</td>
<td style="text-align:center">$\texttt{1?+}$</td>
<td style="text-align:center">$9$</td>
</tr>
<tr>
<td style="text-align:center">$6$</td>
<td style="text-align:center">$\texttt{1wa_998244353}$</td>
<td style="text-align:center">$6$</td>
</tr>
<tr>
<td style="text-align:center">$7$</td>
<td style="text-align:center">$\texttt{1wa_998244353}$</td>
<td style="text-align:center">$7$</td>
</tr>
<tr>
<td style="text-align:center">$8$</td>
<td style="text-align:center">$\texttt{2p}$</td>
<td style="text-align:center">$4$</td>
</tr>
<tr>
<td style="text-align:center">$9$</td>
<td style="text-align:center">$\texttt{2p}$</td>
<td style="text-align:center">$6$</td>
</tr>
<tr>
<td style="text-align:center">$10$</td>
<td style="text-align:center">$\texttt{2p}$</td>
<td style="text-align:center">$8$</td>
</tr>
<tr>
<td style="text-align:center">$11$</td>
<td style="text-align:center">$\texttt{2u}$</td>
<td style="text-align:center">$5$</td>
</tr>
<tr>
<td style="text-align:center">$12$</td>
<td style="text-align:center">$\texttt{2u}$</td>
<td style="text-align:center">$6$</td>
</tr>
<tr>
<td style="text-align:center">$13$</td>
<td style="text-align:center">$\texttt{2u}$</td>
<td style="text-align:center">$9$</td>
</tr>
<tr>
<td style="text-align:center">$14$</td>
<td style="text-align:center">$\texttt{2g}$</td>
<td style="text-align:center">$5$</td>
</tr>
<tr>
<td style="text-align:center">$15$</td>
<td style="text-align:center">$\texttt{2g}$</td>
<td style="text-align:center">$7$</td>
</tr>
<tr>
<td style="text-align:center">$16$</td>
<td style="text-align:center">$\texttt{2g?}$</td>
<td style="text-align:center">$9$</td>
</tr>
</tbody>
</table>
<h4>提示</h4>
<p>在你使用 C/C++ 的 <code>int</code> 类型时, 如果发生了溢出, 比较可能的情况是按照模 $2^{32}$ 同余的前提下, 在 <code>int</code> 范围内取一个合理的值. 例如在计算 $2147483647 + 2$ 时, 较有可能会得到 -$2147483647$</p>
<p>然而, C/C++ 标准将这种情况归类为"未定义行为". 当你的程序试图计算会溢 出的 <code>int</code> 运算时, 除了上述结果外, 编译器还可能会让你的程序在此时计算出错误结果, 死循环, 运行错误等, 这也是符合 C/C++ 标准的</p>
<p>如果你的程序希望利用 <code>int</code> 的自然溢出的特性, 请转换为 <code>unsigned</code> 类型运算. 例如将 <code>a + b</code> 改写为 <code>(int) ((unsigned) a + (unsigned) b)</code>, 以避免出现不预期的错误</p>
<h3>附件</h3>
<p><a href="data.7z">data.7z</a> 4.16MB</p>
<h2>解题思路</h2>
<table>
<thead><tr>
<th>编号</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>$\texttt{1_998244353}$</td>
<td>求 $19^n\bmod p$, $p=998244353$</td>
</tr>
<tr>
<td>$\texttt{1?}$</td>
<td>求 $19^n\bmod p$, $p=1145141$</td>
</tr>
<tr>
<td>$\texttt{1?+}$</td>
<td>求 $19^n\bmod p$, $p=5211600617818708273$</td>
</tr>
<tr>
<td>$\texttt{1wa_998244353}$</td>
<td>求 $19^n\bmod p$, $p=998244353$, 但是要写成 <code>int</code> 溢出的代码</td>
</tr>
<tr>
<td>$\texttt{2p}$</td>
<td>对给定的区间求区间中所有的素数</td>
</tr>
<tr>
<td>$\texttt{2u}$</td>
<td>对给定的区间求区间中所有的 Möbius 函数值</td>
</tr>
<tr>
<td>$\texttt{2g}$</td>
<td>对给定的区间和模数求区间中所有的原根</td>
</tr>
<tr>
<td>$\texttt{2g?}$</td>
<td>对给定的区间和模数求区间中所有的原根, <code>?</code> 代表 $1515343657$</td>
</tr>
</tbody>
</table>
<p>全是板子题, 就不细讲了</p>
<h2>代码参考</h2>
<p>{% icodeweb cpa_cpp title:Luogu_P5285 Luogu/P5285/0.cpp %}</p>
