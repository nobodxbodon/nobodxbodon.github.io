<h2><a href="https://github.com/Tiphereth-A/Tiphereth-A.github.io/blob/master/source/_posts/zkw-segment-tree-test2.md">仓库源文</a>，<a href="https://tifa-233.com/zkw-segment-tree-test2">站点原文</a></h2>
<hr/>
<p>title: 「线段树的扩展之浅谈zkw线段树」一文的测试代码与结果更新
tags:</p>
<ul>
<li>算法竞赛</li>
<li>洛谷日报</li>
<li>测试
date: 2020-02-10 02:04:18
comments: false</li>
</ul>
<hr/>
<p>更新的原因主要是笔者觉得以前的码风很乱 QwQ</p>
<p>&lt;!--more--&gt;</p>
<p>测试平台:</p>
<ul>
<li><p>系统: Ubuntu 18.04 LTS 64 位</p>
</li>
<li><p>CPU: Intel(R) Core(TM) i5-9300H CPU @ 2.40GHz</p>
</li>
</ul>
<p>所有代码均使用基于<code>fread</code>和<code>fwrite</code>的快读快写模板, 并在编译时使用 C++98 标准和 O3 优化</p>
<p>结果 (单位: s):</p>
<p>|           | 递归线段树 | zkw 线段树 | 树状数组 |
| :-------: | :--------: | :--------: | :------: |
| 1e6(5 组) |  0.31803   |  0.20853   | 0.17850  |
| 5e6(5 组) |  2.04103   |  0.96225   | 1.45518  |
| 1e7(5 组) |  6.47973   |  3.73674   | 3.76717  |
| 2e7(5 组) |  14.7163   |  8.07310   | 7.91748  |</p>
<p>可以注意到, 正如 @<a href="https://www.luogu.com.cn/user/23398">frankchenfu</a> 在原文评论里所说, 开了 O3 优化后, zkw 线段树得到了更显著的优化, 速度与树状数组更加接近(毕竟依 zkw julao 所说, 二者理论上速度应该差不多)</p>
<p>而且笔者自认为 zkw 线段树更优美, 所以还是推荐各位学习 zkw 线段树 QwQ</p>
<p>测试代码:</p>
<ol>
<li><p>递归线段树:</p>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% include_code lang:cpp zkw-segment-tree-test2/seg-r.cpp %}</p>
<p>&lt;/details&gt;</p>
</li>
<li><p>zkw 线段树:</p>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% include_code lang:cpp zkw-segment-tree-test2/seg-zkw.cpp %}</p>
<p>&lt;/details&gt;</p>
</li>
<li><p>树状数组:</p>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% include_code lang:cpp zkw-segment-tree-test2/bit.cpp %}</p>
<p>&lt;/details&gt;</p>
</li>
<li><p>数据生成器:</p>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% include_code lang:cpp zkw-segment-tree-test2/data_gen.cpp %}</p>
<p>&lt;/details&gt;</p>
</li>
</ol>
<p>{% post_link zkw-segment-tree 回到原文 %}</p>
