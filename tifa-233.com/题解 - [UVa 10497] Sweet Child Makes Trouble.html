<p>版权声明： 本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！</p>
<h2><a href="https://github.com/Tiphereth-A/Tiphereth-A.github.io/blob/master/source/_posts/uva-10497.md">仓库源文</a>，<a href="https://tifa-233.com/archives/uva-10497">站点原文</a></h2>
<hr/>
<p>title: "题解 - [UVa 10497] Sweet Child Makes Trouble"
categories:</p>
<ul>
<li>算法竞赛</li>
<li>题解
tags:</li>
<li>算法竞赛</li>
<li>题解</li>
<li>UVa</li>
<li>数学</li>
<li>计数</li>
<li>错排</li>
<li>高精度
date: 2020-07-31 10:17:18</li>
</ul>
<hr/>
<p><a href="https://vjudge.net/problem/UVA-10497/origin">题目链接</a></p>
&lt;!-- more --&gt;

<h2>原始题面</h2>
<p>Children are always sweet but they can sometimes make you feel bitter. In this problem, you will see how Tintin, a five year’s old boy, creates trouble for his parents. Tintin is a joyful boy and is always busy in doing something. But what he does is not always pleasant for his parents. He likes most to play with household things like his father’s wristwatch or his mother’s comb. After his playing he places it in some other place. Tintin is very intelligent and a boy with a very sharp memory. To make things worse for his parents, he never returns the things he has taken for playing to their original places</p>
<p>Think about a morning when Tintin has managed to ‘steal’ three household objects. Now, in how many ways he can place those things such that nothing is placed in their original place. Tintin does not like to give his parents that much trouble. So, he does not leave anything in a completely new place; he merely permutes the objects</p>
<h3>Input</h3>
<p>There will be several test cases. Each will have a positive integer less than or equal to 800 indicating the number of things Tintin has taken for playing. Each integer will be in a line by itself. The input is terminated by a ‘-1’ (minus one) in a single line, which should not be processed</p>
<h3>Output</h3>
<p>For each test case print an integer indicating in how many ways Tintin can rearrange the things he has taken</p>
<h3>Sample Input</h3>
<pre><code class="lang-input1">2
3
4
-1
</code></pre>
<h3>Sample Output</h3>
<pre><code class="lang-output1">1
2
9
</code></pre>
<h2>题意简述</h2>
<p>求 $n$ 个元素的错排数</p>
<h2>解题思路</h2>
<p>板子题, 唯一要注意的就是要用高精</p>
<p>设 $D(n)$ 为 $n$ 个元素的错排数, 则</p>
<p>$$
D(n)=\begin{cases}
  0,&amp;n=1\
  1,&amp;n=2\
  (n-1)(D(n-1)+D(n-2)),&amp;n&gt;2
\end{cases}
$$</p>
<h2>代码参考</h2>
&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;

{% icodeweb cpa_cpp title:UVA_10497 UVA/10497/0.cpp %}

&lt;/details&gt;