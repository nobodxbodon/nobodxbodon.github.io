<p>版权声明： 本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！</p>
<h2><a href="https://github.com/Tiphereth-A/Tiphereth-A.github.io/blob/master/source/_posts/poj-1650.md">仓库源文</a>，<a href="https://tifa-233.com/archives/poj-1650">站点原文</a></h2>
<p><a href="https://vjudge.net/problem/POJ-1650/origin">题目链接</a></p>
&lt;!-- more --&gt;

<h2>原始题面</h2>
<h3>Description</h3>
<p>The FORTH programming language does not support floating-point arithmetic at all. Its author, Chuck Moore, maintains that floating-point calculations are too slow and most of the time can be emulated by integers with proper scaling. For example, to calculate the area of the circle with the radius $R$ he suggests to use formula like $R \times R \times 355 / 113$, which is in fact surprisingly accurate. The value of $355 / 113 ≈ 3.141593$ is approximating the value of $\pi$ with the absolute error of only about $2\times10^{-7}$. You are to find the best integer approximation of a given floating-point number $A$ within a given integer limit $L$. That is, to find such two integers $N$ and $D$ ($1 \leqslant N, D \leqslant L$) that the value of absolute error $|A - N / D|$ is minimal</p>
<h3>Input</h3>
<p>The first line of input contains a floating-point number $A$ ($0.1 \leqslant A &lt; 10$) with the precision of up to $15$ decimal digits. The second line contains the integer limit $L$. ($1 \leqslant L \leqslant 100000$)</p>
<h3>Output</h3>
<p>Output file must contain two integers, N and D, separated by space</p>
<h3>Sample Input</h3>
<pre><code class="lang-input1">3.14159265358979
10000
</code></pre>
<h3>Sample Output</h3>
<pre><code class="lang-output1">355 113
</code></pre>
<h3>Source</h3>
<p>Northeastern Europe 2001, Far-Eastern Subregion</p>
<h2>题意简述</h2>
<p>给出一个小数 $A$(精确到至多 15 位)和一个整数 $L$, 求一个分数 $\frac{N}{D}$, 其中 $1\leqslant N,D\leqslant L$ 使得 $|A-\frac{N}{D}|$ 最小</p>
<h2>解题思路</h2>
<p>直接暴力枚举就行, 比如枚举分母讨论分子</p>
<p>这里给出一种枚举方法</p>
<p>令<code>min_diff</code>记录当前绝对值的最小值, <code>ans_n, ans_d</code>分别为其对应的分子和分母</p>
<p>讨论当前的 <code>N / D</code></p>
<ul>
<li>如果 <code>N / D &gt; A</code><ul>
<li>如果 <code>N / D - A &lt; min_diff</code>, 则更新 <code>min_diff</code> 等</li>
<li>否则 <code>D</code> 加一</li>
</ul>
</li>
<li>如果 <code>N / D &lt; A</code><ul>
<li>如果 <code>A - N / D &lt; min_diff</code>, 则更新 <code>min_diff</code> 等</li>
<li>否则 <code>N</code> 加一</li>
</ul>
</li>
<li>当 <code>N, D</code> 有一个超出范围则结束</li>
</ul>
<p>另外要注意一点, 不能用<code>long double</code>, 因为数据是按<code>double</code>做的 (要求精度这么高数据还不好好做也是迷)</p>
<h2>代码参考</h2>
<p>{% icodeweb cpa_cpp title:POJ_1650 POJ/1650/0.cpp %}</p>
