<p>版权声明： 本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！</p>
<h2><a href="https://github.com/Tiphereth-A/Tiphereth-A.github.io/blob/master/source/_posts/luogu-p3183.md">仓库源文</a>，<a href="https://tifa-233.com/archives/luogu-p3183">站点原文</a></h2>
<hr/>
<p>title: "题解 - [Luogu P3183] [HAOI2016] 食物链"
categories:</p>
<ul>
<li>算法竞赛</li>
<li>题解
tags:</li>
<li>算法竞赛</li>
<li>题解</li>
<li>洛谷</li>
<li>省选</li>
<li>HAOI</li>
<li>图论</li>
<li>搜索</li>
<li>DFS</li>
<li>记忆化搜索
date: 2020-01-15 10:59:32</li>
</ul>
<hr/>
<p><a href="https://www.luogu.com.cn/problem/P3183">题目链接</a></p>
<p>&lt;!-- more --&gt;</p>
<h2>原始题面</h2>
<h3>题目描述</h3>
<p><img alt="" src="/media/wwww/share/study/聚聚/源数据/博客聚合/tifa-233.com/source/_posts/1.png"/></p>
<p>如图所示为某生态系统的食物网示意图, 据图回答第 1 小题</p>
<p>现在给你 $n$ 个物种和 $m$ 条能量流动关系, 求其中的食物链条数.</p>
<p>物种的名称为从 $1$ 到 $n$ 编号</p>
<p>$m$ 条能量流动关系形如 $a_1\to b_1, a_2\to b_2, a_3\to b_3, ..., a_{m-1}\to b_{m-1}, a_m\to b_m$ 其中 $a_i\to b_i$ 表示能量从物种 $a_i$ 流向物种 $b_i$</p>
<p>注意单独的一种孤立生物不算一条食物链</p>
<h3>输入输出格式</h3>
<h4>输入格式</h4>
<p>第一行两个整数 $n$ 和 $m$</p>
<p>接下来 $m$ 行, 每行两个整数 $a_i$, $b_i$, 描述 $m$ 条能量流动关系.</p>
<p>数据保证输入数据符号生物学特点, 且不会有重复的能量流动关系出现</p>
<p>$1\leqslant n\leqslant 100000, 0\leqslant m\leqslant 200000$</p>
<h4>输出格式</h4>
<p>一个整数, 即食物网中的食物链条数</p>
<h3>输入输出样例</h3>
<h4>输入样例 #1</h4>
<pre><code class="language-input1">10 16
1 2
1 4
1 10
2 3
2 5
4 3
4 5
4 8
6 5
7 6
7 9
8 5
9 8
10 6
10 7
10 9
</code></pre>
<h4>输出样例 #1</h4>
<pre><code class="language-output1">9
</code></pre>
<h2>解题思路</h2>
<p>很显然就是一 dfs</p>
<p>从入度为 $0$ 的点开始, 每一个点对应的食物链条数是所有出度的食物链条数之和, 出度为 $0$ 的点食物链条数为 $1$</p>
<p>注意所有点不一定连通 (当时漏看这个直接 20pts)</p>
<p>但是直接暴搜肯定不行, 需要记忆化</p>
<h2>时间复杂度</h2>
<p>$O(m+n)$</p>
<h2>代码参考</h2>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% icodeweb cpa_cpp title:Luogu_P3183 Luogu/P3183/0.cpp %}</p>
<p>&lt;/details&gt;</p>
