<p>版权声明： 本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！</p>
<h2><a href="https://github.com/Tiphereth-A/Tiphereth-A.github.io/blob/master/source/_posts/luogu-p3878.md">仓库源文</a>，<a href="https://tifa-233.com/archives/luogu-p3878">站点原文</a></h2>
<p><a href="https://www.luogu.com.cn/problem/P3878">题目链接</a></p>
&lt;!-- more --&gt;

<h2>原始题面</h2>
<h3>题目描述</h3>
<p>现在有 $n$ 枚金币, 它们可能会有不同的价值, 第 $i$ 枚金币的价值为 $v_i$</p>
<p>现在要把它们分成两部分, 要求这两部分金币数目之差不超过 $1$, 问这样分成的两部分金币的价值之差最小是多少?</p>
<h3>输入输出格式</h3>
<h4>输入格式</h4>
<blockquote><p><strong>本题单个测试点内有多组测试数据</strong></p>
</blockquote>
<p>输入的第一行是一个正整数 $T$, 表示该测试点内数据组数</p>
<p>对于每组测试数据的格式为:</p>
<p>每组测试数据占两行</p>
<p>第一行是一个整数 $n$, 表示金币的个数</p>
<p>第二行有 $n$ 个整数, 第 $i$ 个整数表示第 $i$ 个金币的价值 $v_i$</p>
<h4>输出格式</h4>
<p>对于每组数据输出一行一个整数表示答案</p>
<h3>输入输出样例</h3>
<h4>输入样例 #1</h4>
<pre><code class="lang-input1">2
3
2 2 4
4
1 2 3 6
</code></pre>
<h4>输出样例 #1</h4>
<pre><code class="lang-output1">0
2
</code></pre>
<h3>说明</h3>
<h4>数据规模与约定</h4>
<ul>
<li>对 $30\%$ 的数据, 保证 $1 \leq v_i \leq 1000$</li>
<li>对于 $100\%$ 的数据, 保证 $1 \leq T \leq 20$, $1 \leq n \leq 30$, $1 \leq v_i \leq 2^{30}$</li>
</ul>
<h2>解题思路</h2>
<p>看数据范围就知道要折半或者大力模拟退火</p>
<blockquote><p>模拟退火交了两页, 最高 10 分, 气得我直接码正解去了</p>
<p>今天的爆率那叫一个高啊.webp</p>
</blockquote>
<p>令 <code>s[][]</code> 为存所有选取情况的数组, 其中 <code>s[i]</code> 表示前一组金币个数为 $i$ 时的所有可能结果 (或者前一组金币个数比后一组多 $i$ 时个数)</p>
<p>先把前 $\lceil\frac{n}{2}\rceil$ 个金币的所有选取情况存起来, 然后对剩下的 $n-\lceil\frac{n}{2}\rceil$ 个金币的所有情况在对应数组里二分即可</p>
<p>或者我们直接把二维数组换成一维的 <code>std::set</code> 数组也行</p>
<h2>复杂度</h2>
<p>$O(n2^\frac{n}{2})$</p>
<h2>代码参考</h2>
&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;

{% icodeweb cpa_cpp title:Luogu_P3878 Luogu/P3878/0.cpp %}

&lt;/details&gt;