<h2><a href="https://github.com/Tiphereth-A/Tiphereth-A.github.io/blob/master/source/_posts/pst-seg-tree.md">仓库源文</a>，<a href="https://tifa-233.com/pst-seg-tree">站点原文</a></h2>
<hr/>
<p>title: 模板 - 可持久化线段树(主席树)
categories:</p>
<ul>
<li>算法竞赛</li>
<li>模板
tags:</li>
<li>算法竞赛</li>
<li>模板</li>
<li>C++</li>
<li>数据结构</li>
<li>线段树</li>
<li>可持久化线段树/主席树
date: 2021-11-01 15:18:10</li>
</ul>
<hr/>
<p>基于 C++14 标准, 实现了初始化, 单点修改与查询</p>
<p>{% note warning %}
仅在 GCC 下测试过
{% endnote %}</p>
<p>&lt;!-- more --&gt;</p>
<p>{% note warning %}
<a href="https://cplib.tifa-233.com/src/code/ds/persistent_segtree.hpp">https://cplib.tifa-233.com/src/code/ds/persistent_segtree.hpp</a> 存放了笔者对该算法/数据结构的最新实现, 建议前往此处查看相关代码
{% endnote %}</p>
<h2>代码</h2>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% include_code lang:cpp pst-seg-tree/Persistable_seg_tree.hpp %}</p>
<p>&lt;/details&gt;</p>
<h2>示例</h2>
<ul>
<li><p><a href="https://www.luogu.com.cn/problem/P3919">洛谷 P3919 【模板】可持久化线段树 1（可持久化数组）</a></p>
<blockquote>
<p>由于 64 位系统下的迭代器大小为 8 字节, 故该模板在部分测试点会 MLE, 解决方案就是把 <code>index_t</code> 换成 <code>uint32_t</code> 并将内部索引方式改成数组即可</p>
</blockquote>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% include_code lang:cpp pst-seg-tree/Persistable_seg_tree_exp.cpp %}</p>
<p>&lt;/details&gt;</p>
<blockquote>
<p>附大数据的生成器 (from <a href="https://www.luogu.com.cn/discuss/354067">https://www.luogu.com.cn/discuss/354067</a>)</p>
</blockquote>
<p>&lt;details open&gt;
&lt;summary&gt;&lt;font color='orange'&gt;Show code&lt;/font&gt;&lt;/summary&gt;</p>
<p>{% include_code lang:cpp pst-seg-tree/data_gen.cpp %}</p>
<p>&lt;/details&gt;</p>
</li>
</ul>
