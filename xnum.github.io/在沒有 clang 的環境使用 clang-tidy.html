<h2><a href="https://github.com/xnum/xnum.github.io/blob/master/_posts/2020-10-21-clang-tidy.md">仓库源文</a>，<a href="https://xnum.github.io/2020/10/21/clang-tidy">站点原文</a></h2>
<p>下載靜態 binary (因為我懶得裝整套clang)</p>
<p><a href="https://github.com/muttleyxd/clang-tools-static-binaries/releases">https://github.com/muttleyxd/clang-tools-static-binaries/releases</a></p>
<p>使用 cmake 參數 <code>-DCMAKE_EXPORT_COMPILE_COMMANDS=ON</code></p>
<p>產生出<code>compile_commands.json</code></p>
<p>偷窺 gcc default include path</p>
<p><code>echo | gcc -E -Wp,-v -</code></p>
<p>把參數幹過來</p>
<pre><code>clang-tidy \
    -p=/src/build \
    --extra-arg-before='-I/usr/lib/gcc/x86_64-pc-linux-gnu/9.3.0/include' \
    --extra-arg-before='-I/usr/lib/gcc/x86_64-pc-linux-gnu/9.3.0/include-fixed' \
    --extra-arg-before='-I/usr/local/include' \
    --extra-arg-before='-I/usr/include' \
    /src/*.cxx`
</code></pre>
