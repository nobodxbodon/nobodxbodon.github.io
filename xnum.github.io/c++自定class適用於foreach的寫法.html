<h2><a href="https://github.com/xnum/xnum.github.io/blob/master/_posts/2017-10-23-cpp-foreach-for-custom-class.md">仓库源文</a>，<a href="https://xnum.github.io/2017/10/23/cpp-foreach-for-custom-class">站点原文</a></h2>
<hr/>
<p>layout: post
title: c++自定class適用於foreach的寫法
categories:</p>
<h2>- C/C++</h2>
<p>只要在class提供iterator和const iterator</p>
<p>就可以用c++11支援的for loop來存取了</p>
<p>在閱讀上更為簡潔</p>
<pre><code class="lang-cpp">#include &lt;vector&gt;
#include &lt;iostream&gt;

using namespace std;

class List
{
    public:
        typedef vector&lt;int&gt;::iterator iterator;
        typedef vector&lt;int&gt;::const_iterator const_iterator;

        iterator begin() { return arr.begin(); }
        iterator end() { return arr.end(); }
        const_iterator begin() const { return arr.cbegin(); }
        const_iterator end() const { return arr.cend(); }

        void add(int n) { arr.push_back(n); }
    private:
        vector&lt;int&gt; arr;
};

int main()
{
    List m;
    m.add(1);
    m.add(2);
    m.add(3);

    for(int i : m) {
        cout &lt;&lt; i &lt;&lt; endl;
    }
    return 0;
}
</code></pre>
