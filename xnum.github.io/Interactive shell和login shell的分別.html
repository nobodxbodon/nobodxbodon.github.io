<h2><a href="https://github.com/xnum/xnum.github.io/blob/master/_posts/2018-01-30-interactive-login-shell.md">仓库源文</a>，<a href="https://xnum.github.io/2018/01/30/interactive-login-shell">站点原文</a></h2>
<h2>login shell</h2>
<p>登入系統時，獲得的shell
比如ssh登入，或是su登入拿到的shell</p>
<p>login shell會載入<code>/etc/profile</code> <code>~/.bash_profile</code> <code>~/.bash_login</code> <code>~/.profile</code> 
且登出時執行<code>~/.bash_logout</code></p>
<h2>interactive shell</h2>
<p>就是會與使用者交互，等待命令後執行的shell</p>
<p>可以從<code>$-</code>確認，會開啟interactive shell (i)標誌</p>
<p>interactive shell會載入<code>/etc/bash.bashrc</code> <code>~/.bashrc</code></p>
<p>non-login + non-interactive shell只從BASH_ENV變數載入該檔</p>
<p>不同發行版測試結果可能不同</p>
<p>在ubuntu 17.10 (gcp)上測試時，不會載入<code>~/.bashrc</code></p>
<p>但是SLES 12會載入<code>~/.bashrc</code></p>
<p>可以執行ssh指令驗證 (開啟的是non-interactive shell)</p>
<pre><code>num@instance-1:~$ ssh localhost 'env'
</code></pre>
<p>因此，最好不要在<code>~/.bashrc</code>寫一些會列印的指令，會影響到rsync、scp、git此類指令的執行</p>
