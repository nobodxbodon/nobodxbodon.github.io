<h2><a href="https://github.com/knightyun/knightyun.github.io/blob/master/_posts/2019-01-27-css-transition-animation.md">仓库源文</a>，<a href="https://knightyun.github.io/2019/01/27/css-transition-animation">站点原文</a></h2>
<p>CSS3中出现很多新的特性，下面就讲一下其中比较好玩的<strong>3D操作</strong>，<strong>过渡</strong>和<strong>动画</strong>效果；</p>
<h1>过渡(transition)</h1>
<p>过渡就是使瞬间的样式变化，按照一定方式变得缓慢平缓；</p>
<p>例如鼠标划过超链接时颜色的变化，点击按钮后的颜色变化等，默认转化都是瞬间完成，可能你已经习惯了这种变换，但有时候平缓一些看着还是比较舒适的；</p>
<p>要实现样式的过渡变化，那么首先就学要有<strong>样式变换</strong>，例如鼠标划过，单击按钮，点击图片等操作，来实现颜色，尺寸，位置等样式的变化；</p>
<p>下面是鼠标划过段落使文本变红的操作，应用所有 <code>transition</code>属性：</p>
<pre><code class="lang-css">p:hover {
    color: red;
}
p {
    transition-property: color;
    transition-duration: 2s;
    transition-timing-function: linear;
    transition-delay: 0;
}
</code></pre>
<p><img alt="image" src="https://i.loli.net/2019/01/26/5c4c3488ab322.gif"/></p>
<p>一共四个值，功能基本都是字面翻译的意思：</p>
<ul>
<li><strong>transition-property</strong></li>
</ul>
<p>执行过渡的属性，例子设置为颜色color的变化，也可以是width, font-size等，不设置的话默认是<code>all</code>，即所有属性；</p>
<ul>
<li><strong>transition-duration</strong></li>
</ul>
<p>过渡的时间，单位是秒，如1s, 2.3s，不设置的话默认 <code>0s</code>，即无过渡效果；</p>
<ul>
<li><strong>transition-timing-function</strong></li>
</ul>
<p>设置过渡时的变化方式，默认是 <code>ease</code>，即速度由慢到快再到慢，常用的还有 <code>linear</code>，线性变化速度均匀，还有其他几个方式，过渡时间短的话看不出什么区别；</p>
<ul>
<li><strong>transition-delay</strong></li>
</ul>
<p>延迟时间，即多少秒后执行过渡效果，默认 <code>0s</code>，不延迟；</p>
<p>当然这么多单词可能记不住，一般使用快捷写法：</p>
<pre><code class="lang-css">p {
    transition: color 2s linear 0;
}
/*最少要指定过渡时间*/
p {
    transition: 2s;
}
</code></pre>
<p>也可以设置每个样式分别过渡，例如：</p>
<pre><code class="lang-css">p {
    transition: color 2s linear,
                font-size .5s,
                background: 1s;
}
</code></pre>
<p>每个样式过渡之间用<strong>逗号</strong>隔开就行了；</p>
<p>最后，由于是新特性，为了兼容性需要加上浏览器厂商前缀：</p>
<pre><code class="lang-css">p {
    transition: 2s;
    -webkit-transition: 2s;
    -moz-transition: 2s;
    -ms-transition: 2s;
    -o-transition: 2s;
}
</code></pre>
<h1>动画(animation)</h1>
<p>CSS3的动画是个很不错的技术，基本能取代一些动图，javascript，flash等；</p>
<p>而动画里最重要的概念就是<strong>关键帧</strong>，也许你用PS做gif动图的时候看见过这个概念，所谓动画就是一帧一帧图片连续切换实现的效果，关键帧就是里面主要的一些帧；</p>
<p>实现CSS动画也需要设置关键帧 <code>@keyframes</code>：</p>
<pre><code class="lang-css">@keyframes my-animation {
    0% {
        color: red;
    }
    50% {
        color: green;
    }
    100% {
        color: blue;
    }
}
</code></pre>
<p>格式如上，@keyframes后面跟的是自定义的<strong>动画名称</strong>，后面会用到。里面的<strong>0%，50%，100%</strong>便是设置的三个关键帧及其对应样式，如果只需要设置首尾两个关键帧，可以这样写：</p>
<pre><code class="lang-css">@keyframes my-animation {
    from {
        color: green;
    }
    to {
        color: blue;
    }
}
</code></pre>
<p>效果：</p>
<p><img alt="image" src="https://i.loli.net/2019/01/26/5c4c4eae8329a.gif"/></p>
<p>当然样式除了color还能设置多项样式；</p>
<p>定义好关键帧后就直接在需要应用动画的元素标签内使用就行了，格式及所有属性如下：</p>
<pre><code>p {
    animation-name: my-animation;
    animation-duration: 3s;
    animation-timing-function: ease;
    animation-delay: 0;
    animation-iteration-count: 3;
    animation-direction: normal;
    animation-play-state: running;
}
</code></pre>
<p>发现了吧，很多属性和<strong>transition</strong>里面一样，简单介绍下：</p>
<ul>
<li><strong>animation-name</strong></li>
</ul>
<p>就是之前跟在@keyframea后面的自定义名称，之前设置的是 <code>my-animation</code>;</p>
<ul>
<li><strong>animation-duration</strong></li>
<li><strong>animation-timing-function</strong></li>
<li><strong>animation-delay</strong></li>
</ul>
<p>和前面一样，默认分别为 <code>0, ease, 0</code>；</p>
<ul>
<li><strong>animation-iteration-count</strong></li>
</ul>
<p>动画播放的次数，默认 <code>1</code>，但一般设置为 <code>infinite</code>，即无限循环；</p>
<ul>
<li><strong>animation-direction</strong></li>
</ul>
<p>动画播放的方向，<code>normal</code>为默认，正向播放，<code>reverse</code>为反向播放，<code>alternate</code>为正向后反向，<code>alternate-reverse</code>为反向后正向；</p>
<ul>
<li><strong>animation-play-state</strong></li>
</ul>
<p>播放状态，默认 <code>running</code>，运行，<code>paused</code>为暂停，可以在javascript中使用对动画进行控制；</p>
<p>当然，这个属性比之前的transition还多，也有简便写法：</p>
<pre><code class="lang-css">p {
    animation: my-animation 3s linear infinite alternate;
}
</code></pre>
<p>其中 <code>animation-name</code> 和 <code>animation-duration</code>为必须设置的属性；</p>
<p>同样，记得考虑浏览器兼容：</p>
<pre><code class="lang-css">@-webkit-keyframes mycanimation {
    from {
        color: green;
    }
    to {
        color: blue;
    }
}
p {
    -webkit-animation: my-animation 3s linear infinite;
}
/* -moz-, -ms-, -o- 格式类似 */
</code></pre>
