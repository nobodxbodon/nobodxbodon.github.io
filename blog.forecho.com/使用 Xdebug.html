<h2><a href="https://github.com/forecho/hugo-blog/blob/master/content/posts/use-xdebug.md">仓库源文</a>，<a href="https://blog.forecho.com/use-xdebug.html">站点原文</a></h2>
<hr/>
<p>title: "使用 Xdebug"
date: 2022-04-29T17:12:26+08:00
tags: ["PHP", '编程'] 
draft: false</p>
<h2>toc: true</h2>
<h2>引言</h2>
<p>Debug 是编程的一种能力，越早学会越好。而 Xdebug 是调试 PHP 最强的工具，本篇文章就是介绍如何使用 <a href="https://xdebug.org/">Xdebug</a>。</p>
<h2>安装</h2>
<pre><code class="lang-shell">pecl install xdebug
</code></pre>
&lt;!--more--&gt;

<h2>修改 <code>xdebug</code> 默认配置（可选）：</h2>
<p>查看 <code>php.ini</code> 的配置文件：</p>
<pre><code>php --ini
</code></pre>
<p>查看 debug 配置</p>
<pre><code class="lang-shell">php -i | grep xdebu
</code></pre>
<p>拿到 <code>php.ini</code> 的配置文件之后添加以下代码：</p>
<pre><code>[xdebug]
xdebug.max_nesting_level=512
xdebug.mode=debug
xdebug.client_host=127.0.0.1
</code></pre>
<h2>配置 Phpstorm</h2>
<p><strong>PhpStorm</strong> &gt; <strong>Preferences</strong> 配置，找到 <strong>PHP</strong> &gt; <strong>Servers</strong> ，添加一个 Server，配置如下：</p>
<ul>
<li>Name：<code>serverName</code></li>
<li>Host:  <code>127.0.0.1</code></li>
<li>Port: <code>8000</code></li>
<li>Debugger: <code>Xdebug</code></li>
</ul>
<p><img alt="" src="https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/20220429mY2VXn.png"/></p>
<p>开关 xdebug 地方在 Phpstorm 顶部的菜单，如上图所示</p>
<p><img alt="" src="https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/202204290OS0gf.png"/></p>
<p>开启 xdebug 之后，在需要打断点的地方前面标记一下就可以了。</p>
<h2>触发</h2>
<p>默认是不触发断点功能的</p>
<h3>浏览器</h3>
<p>安装 Chrome <a href="https://chrome.google.com/webstore/detail/xdebug-helper/eadndfjplgieldjbigjakmdgkmoaaaoc?hl=en">Xdebug Helper extension</a> 扩展，会自动在每个请求里添加参数。</p>
<h3>Postman</h3>
<p>在 URL 添加参数 <code>XDEBUG_SESSION_START=PHPSTORM</code></p>
<ul>
<li><a href="https://www.jetbrains.com/help/phpstorm/configuring-xdebug.html">Configure Xdebug</a></li>
<li><a href="https://devdocs.magento.com/cloud/docker/docker-development-debug.html">Configure Xdebug for Docker</a></li>
<li><a href="http://jalan.space/2019/04/10/2019/phpstorm-xdebug-postman/">PhpStorm + Xdebug + Postman 调试环境配置</a></li>
</ul>
