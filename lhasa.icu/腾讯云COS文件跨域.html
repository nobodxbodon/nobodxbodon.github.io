<h2><a href="https://github.com/achuanya/lhasa.github.io/blob/master/_posts/2024-02-05-Tencent-cloud-COS-file-cross-domain.md">仓库源文</a>，<a href="https://lhasa.icu/Tencent-cloud-COS-file-cross-domain">站点原文</a></h2>
<p>今天换博客主要文字了，"仓耳今楷",字体更美观更适合阅读。但是过程中遇到点问题</p>
<pre><code class="lang-css">@font-face {
    font-family: 仓耳今楷01-W04;
    src: url("https://api.lhasa.icu/assets/font/tsanger01W04.ttf")  format("truetype");
}
</code></pre>
<p>这段CSS写的是没有问题的，但是不生效，控制台报错跨域</p>
<ul>
<li>has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</li>
</ul>
<p>腾讯云COS跨域访问CORS配置如下：</p>
<p>![腾讯云COS跨域访问CORS设置][1]{:.small}</p>
<p>配置好后又遇到麻烦了，字体太大了，一个字体文件17.9M！网站都脱垮了</p>
<p>![网站被拖垮了][2]{:.small}</p>
<p>这里做一下处理，取子集压缩文字，需要用到 <a href="https://fontsmaller.github.io/">FontSmaller</a> 和 <a href="https://lhasa.icu/assets/%E7%8E%B0%E4%BB%A3%E6%B1%89%E8%AF%AD%E5%B8%B8%E7%94%A83500%E6%B1%89%E5%AD%97.txt">现代汉语常用3500汉字</a></p>
<p>取子集压缩之后字体文件大小为1.94M</p>
<p>![取子集压缩后的效果][5]{:.small}</p>
<p>[1]: {{ site.ARTICLEPICTURES_PATH }}/Tencent%20cloud%20cos%20cross-domain%20configuration.jpg
[2]: {{ site.ARTICLEPICTURES_PATH }}/Textloading.jpg</p>
<p>[5]: {{ site.ARTICLEPICTURES_PATH }}/Textloading2.png</p>
