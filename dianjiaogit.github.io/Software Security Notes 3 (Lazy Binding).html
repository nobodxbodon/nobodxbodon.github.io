<h2><a href="https://github.com/dianjiaogit/dianjiaogit.github.io/blob/master/_posts/2021-02-25-SS notes.md">仓库源文</a>，<a href="https://dianjiaogit.github.io/notes/software%20security/2021/02/25/SS-notes">站点原文</a></h2>
<hr/>
<p>layout: post
title:  "Software Security Notes 3 (Lazy Binding)"
date:   2021-2-25 07:00:00 +0800</p>
<h2>categories: [Notes, Software Security]</h2>
<h1>Lazy Binding</h1>
<p>Relocation when unresolved symbol is first referenced<br/>
Can be overridden<br/>
Procedure Linkage Table (.plt) and Global Offset Table (.got/.got.plt).<br/>
Faster. Load when needed.</p>
<p>One entry in .plt per library function.<br/>
Each library has their own .pltand .got (.got.plt).<br/>
Dynamic Binding. 
Initially the entry in .got.pltrefers back to the .pltfor resolution.<br/>
After resolution, the entry in .got.pltis patched with the address of the function.</p>
<h2>Relocation Sections</h2>
<p>.dynamic: Useful during loading and setting up for execution.<br/>
.init_array: array of pointers to functions to be used as constructors.<br/>
.fini_array: array of pointers to functions to be used as destructors.<br/>
.shstrtab, .symtab, .strtab, .dynsym, .dynstr</p>
<h2>Program Headers</h2>
<p>Choose what to load.</p>
<h2>List of Commands Used</h2>
<p><code>readelf -h &lt;file&gt;</code></p>
<pre><code>- Show the executable header of the file.  
</code></pre>
<p><code>readelf --wide --sections &lt;file&gt;</code></p>
<pre><code>- Show the section headers in the file.  
</code></pre>
<p><code>readelf --wide --segments &lt;file&gt;</code></p>
<pre><code>- Show the program headers in the file.  
</code></pre>
<p><code>readelf --relocs &lt;file&gt;</code></p>
<pre><code>- Show the relocation symbols in the file.  
</code></pre>
<p><code>readelf --symbols &lt;file&gt;</code></p>
<pre><code>- See the entries in the symbol table section.  
</code></pre>
<p><code>readelf --dyn-syms &lt;file&gt;</code></p>
<pre><code>- See the entries in the dynamic symbol table section.  
</code></pre>
<p><code>readelf -p &lt;section, e.g., .shstrtab, .dynstr&gt; &lt;file&gt;</code></p>
<pre><code>- Dump the content of a section in string format.  
</code></pre>
<p><code>objdump -M intel -dj. &lt;section&gt; &lt;file&gt;</code></p>
<pre><code>- Disassemble the content of a section. Usually we apply this to the .text section, and sometimes the .pltsection. 
</code></pre>
