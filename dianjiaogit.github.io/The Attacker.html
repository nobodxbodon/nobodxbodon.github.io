<h2><a href="https://github.com/dianjiaogit/dianjiaogit.github.io/blob/master/_posts/2020-01-07-The Attacker.md">仓库源文</a>，<a href="https://dianjiaogit.github.io/network%20security/2020/01/07/The-Attacker">站点原文</a></h2>
<h1>Principle of Humanity:</h1>
<p>Computer Network Exploitation(CNE) is grounded in human nature.</p>
<h2>* <strong>Life Cycle of an Operation</strong>:</h2>
<pre><code>1. Starting
2. Targeting
3. Initial Access
4. Persistence, Access Expansion, Exfiltration.
5. Detection
</code></pre>
<p>Stage 1: Targeting contains identification of the target network, the attack strategies and tactics necessary to exploit that network.</p>
<p>Stage 2: Initial Access contains of penetrating any defensive security and gaining the ability to run commands or other software on one of the target's computers or network devices.</p>
<p>Stage 3 : Persistence turns initial access into reoccurring access.</p>
<p>Stage 4: Expansion increasing access to a target network.</p>
<p>Stage 5: Exfiltration is the retrieval of wanted data from the target network.</p>
<p>Stage 6: Detection occurs when an operation is exposed to the target.</p>
<hr/>
<h1>Principle of Access:</h1>
<p>There is always someone with legitimate access and a means to use it.</p>
<ul>
<li>Four basics types of connectivity:  <ul>
<li>inbound access  </li>
<li>outbound access  </li>
<li>both  </li>
<li>neither</li>
</ul>
</li>
</ul>
<h2>Inbound Access:</h2>
<p>Someone from outside the network can connect into the network. e.g. public web, or restricted.<br/>
Access control: "know", "have" and "virtual location".</p>
<p>Attacking method:</p>
<ol>
<li>Impersonating legitimate access<br/>
"know": Guess or steal password<br/>
"have": Steal hardware tokens or cell phones. Use malware.<br/>
"virtual location": Compromise the network first.  </li>
<li>Gaining illegitimate access<br/>
Exploit an exposed software service. e.g. Morris Worm<br/>
Escalating privileges.  </li>
</ol>
<h2>Outbound Access:</h2>
<p>Someone from inside the network can connect to outside but the network is not accessible from the outside.<br/>
So attackers need an inside user to connect to the outside. e.g. e-mail.</p>
<h2>Email Attacks</h2>
<p>Three basic approach: attachments, attacking the e-mail program, and malicious links.</p>
<h3>Attachments</h3>
<p>First Generation Attachment: Executable program, install something in the background to grant access to the attacker. Simple, direct and effective.<br/>
Second Generation Attachment: Documents that contained the ability to run code. Send a copy to other e-mail addresses in the address book. Because of the "macro" feature of Microsoft Office.<br/>
Third Generation Attachment: Programs that do not seem like programs. Esoteric extensions e.g. .chm or .hta. E-mail filter updated to catch them.<br/>
Current Generation Attachment: Third-party application-specific documents, e.g. .doc, .xls, .pdf, .zip... use vulnerabilities of the application to execute the code.</p>
<h3>Attacking the e-mail program</h3>
<p>Ideal Attack. Send specially crafted e-mail, corrupt the e-mail program, execute attacker-supplied code. Only need the user to preview or view the e-mail. Does not need the user to open the attachment.</p>
<h3>Malicious links</h3>
<p>Links bring the user to specifically designed websites to leverage vulnerabilities in web browsers or plug-ins.</p>
<h2>Website Hijack Attacks</h2>
<p>Commandeer legitimate sites that the attacker knows or hopes a target user will visit. aka "Watering hole" attacks. The Attacker waits for the target to come to them. Same result as e-mail link-based attack except it does not need e-mail to direct the user.</p>
<ol>
<li>The Attacker takes over and replaces the content of a popular website with malicious code.  </li>
<li>Use a cross-site-scripting attack (XSS). The Attacker uploads code that the website then displays to other users. These sites allow users to post information or comments.  </li>
<li>Avoid commandeering the website itself, hijack the domain name. Hack the registrars, so the IP address from the DNS server will be different.  </li>
<li>Use ad network instead of commandeering a website. As advertisements can be placed by anyone, including the attacker. Put malicious code into the ads.  </li>
<li>Pornography, illegal software, or pirated movies that are tainted and posted for download. Hope users of the target network will open them.  </li>
</ol>
<h2>Other Attacks</h2>
<p>Malicious thumb drives<br/>
Attack other network that the laptops connect to<br/>
Wireless access<br/>
Attack from smartphones<br/>
Social engineering<br/>
Physical access attack<br/>
...</p>
<h2>Circumventing Outbound Restrictions</h2>
<p>How to restrict access:</p>
<ol>
<li>Software, such as parental control software, Kaspersky and McAffee<br/>
Attacker need user to "allow" or attack the software directly.</li>
<li>Software or hardware on the network, such as firewall or proxy sercer.<br/>
Must gain access to the network device itself (but difficult). Or Establish a command and control channel into the network (but need circumventing the device first). Or Establish outbound connections via allowed network protocols (Easier).  </li>
</ol>
<p>Attacker's challenge: lecerage initial execution to circumvent host-based and network-based restrictions and establish command and control.</p>
<h2>Bidirectional Access</h2>
<p>Some types of connections are allowed in and others allowed out. Each direction may have its own set of access controls, restictions and monitoring.</p>
<p>The attacker follows the path of least resistance, mixes and matches approaches for the greatest effect.</p>
<h2>No Outside Access</h2>
<p>A network with no outside connectivity is commonly called an isolated network or an "air-gapped" network. This network is physically separated from the Internet.</p>
<p>The most secure network configuration possible to protect against outsider threats and the most inconvenient for sharing information or administering.</p>
<p>Attacker must breach physical security or trick, cajole, bribe, or blakmail users into doing it for them.</p>
<p>Air gap did not prevent the Stuxnet worm.</p>
<p>Attacker must find a way to be, to corrupt, or to compromise an insider in order to reduce the problem of physical access to one of insider threat security.</p>
<h1>Principle of Economy</h1>
<p>Ambitions will always exceed available resources. All ambitions are tempered by the constraints of reality.</p>
<ul>
<li>Time<br/>
Targeting Capabilities (gathering and analyse)<br/>
Exploitation Expertise
Networking Expertise<br/>
Software Development Expertise<br/>
Operational Expertise<br/>
Operational Analysis Expertise<br/>
Technical Resources</li>
</ul>
