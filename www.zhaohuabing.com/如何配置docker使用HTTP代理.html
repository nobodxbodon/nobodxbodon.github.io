<h2><a href="https://github.com/zhaohuabing/hugo_blog/blob/master/content/post/2018-03-13-use-docker-behind-http-proxy.md">仓库源文</a>，<a href="https://www.zhaohuabing.com/post/2018-03-13-use-docker-behind-http-proxy">站点原文</a></h2>
<h2>Ubuntu</h2>
<h3>设置docker使用http proxy</h3>
<pre><code>sudo /etc/default/docker

export http_proxy="http://127.0.0.1:3128/"
export https_proxy="http://127.0.0.1:3128/"
export HTTP_PROXY="http://127.0.0.1:3128/"
export HTTPS_PROXY="http://127.0.0.1:3128/"
</code></pre>
<p>&lt;!--more--&gt;</p>
<h3>加载配置并重启docker</h3>
<pre><code>sudo service docker restart
</code></pre>
<h2>CentOS</h2>
<h3>设置docker使用http proxy</h3>
<pre><code>sudo mkdir -p /etc/systemd/system/docker.service.d

echo '
[Service]
Environment="HTTP_PROXY=http://proxy.foo.bar.com:80/"
' | sudo tee /etc/systemd/system/docker.service.d/http-proxy.conf
</code></pre>
<h3>加载配置并重启docker</h3>
<pre><code>sudo systemctl daemon-reload
sudo systemctl restart docker
</code></pre>
