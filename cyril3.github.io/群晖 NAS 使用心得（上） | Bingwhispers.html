<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>群晖 NAS 使用心得（上） | Bingwhispers</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="群晖 NAS 使用心得（上）" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="  2017 年，我购买了第一台 NAS：群晖 DS216j。当时最主要的需求就是数据存储。文档资料、影音视频、家庭照片，这些资料随着时间的推移，越积越多。单纯使用 PC 硬盘管理资料已经无法满足需求了。我曾经考虑过在线网盘，但是大部分网盘产品都需要用户在存储容量、传输带宽和订阅费用三者间取舍。况且，虽然技术上，网盘能够很好地保证数据的安全性。但是仍然有很多非技术性因素，让我对网盘上的数据安全性充满担心——NAS 几乎是必然的选择。" />
<meta property="og:description" content="  2017 年，我购买了第一台 NAS：群晖 DS216j。当时最主要的需求就是数据存储。文档资料、影音视频、家庭照片，这些资料随着时间的推移，越积越多。单纯使用 PC 硬盘管理资料已经无法满足需求了。我曾经考虑过在线网盘，但是大部分网盘产品都需要用户在存储容量、传输带宽和订阅费用三者间取舍。况且，虽然技术上，网盘能够很好地保证数据的安全性。但是仍然有很多非技术性因素，让我对网盘上的数据安全性充满担心——NAS 几乎是必然的选择。" />
<link rel="canonical" href="/2022/01/26/experiences-on-synology-nas-1" />
<meta property="og:url" content="/2022/01/26/experiences-on-synology-nas-1" />
<meta property="og:site_name" content="Bingwhispers" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-01-26T13:56:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="群晖 NAS 使用心得（上）" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"/2022/01/26/experiences-on-synology-nas-1","headline":"群晖 NAS 使用心得（上）","dateModified":"2022-01-26T13:56:00+08:00","datePublished":"2022-01-26T13:56:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2022/01/26/experiences-on-synology-nas-1"},"description":"  2017 年，我购买了第一台 NAS：群晖 DS216j。当时最主要的需求就是数据存储。文档资料、影音视频、家庭照片，这些资料随着时间的推移，越积越多。单纯使用 PC 硬盘管理资料已经无法满足需求了。我曾经考虑过在线网盘，但是大部分网盘产品都需要用户在存储容量、传输带宽和订阅费用三者间取舍。况且，虽然技术上，网盘能够很好地保证数据的安全性。但是仍然有很多非技术性因素，让我对网盘上的数据安全性充满担心——NAS 几乎是必然的选择。","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Bingwhispers" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Bingwhispers</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">群晖 NAS 使用心得（上）</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2022-01-26T13:56:00+08:00" itemprop="datePublished">2022年01月26日
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>  2017 年，我购买了第一台 NAS：群晖 DS216j。当时最主要的需求就是数据存储。文档资料、影音视频、家庭照片，这些资料随着时间的推移，越积越多。单纯使用 PC 硬盘管理资料已经无法满足需求了。我曾经考虑过在线网盘，但是大部分网盘产品都需要用户在存储容量、传输带宽和订阅费用三者间取舍。况且，虽然技术上，网盘能够很好地保证数据的安全性。但是仍然有很多非技术性因素，让我对网盘上的数据安全性充满担心——NAS 几乎是必然的选择。</p>

<p>  DS216j 是群晖的入门级产品，价格低，最大支持两块硬盘，性价比非常高。了解群晖 NAS 的读者可能会对我的说法嗤之以鼻：DS216j 如此孱弱的性能如何称得上性价比高？这里的性价比，比的可不是性能啊。群晖“买软件，送硬件”的名号由来已久，我倒认为，用 1200 多人民币的价格，就可以用上群晖提供的绝大部分软件服务，那可谓是非常赚啦。</p>

<p>  我为什么不攒一台 NAS 呢？作为一个软件工程师，我确实可以攒一台机器，网上也有很多自攒 NAS 的教程。但是我在这方面并不想花费太多时间和精力折腾。我需要一台运行稳定、功能成熟的 NAS。我可不想三天两头折腾宕机的 NAS，所以在这方面用金钱换时间和精力是很合算的，况且数据也是无价的。</p>

<p>  群晖的上手非常容易。按照说明书安装硬盘、连接电源线和网线就可以直接开机了。系统安装和软件设置也是傻瓜化操作，跟着向导一路点击下一步即可。所有关键的设置项都有详细的说明，基本不会出现配置错误的情况，非常贴心。设置好硬盘、共享文件夹和用户账户，就可以从局域网中访问 NAS 中的数据了。从拆箱到基本设置完成，大概仅用了 15 分钟左右。</p>

<p>  群晖 NAS 中运行的是 Synology DiskStation Manager (DSM) 操作系统。DSM 是群晖基于 Linux 专为其 NAS 产品开发的操作系统。DSM 中，套件(Package)的概念类似于应用程序。但是和应用程序又有一些区别。一个套件是若干应用程序、数据和配置的集合，它为用户提供了一整套完整的功能。DSM 把各种功能以套件的形式提供给用户。从套件中心下载和安装套件完全都是全自动的，即插即用，非常方便。</p>

<p>  如果说群晖 NAS 的基础功能让我非常满意的话，那么它的套件中心则让我惊喜不已。Photo Station 可以让用户浏览存储在 NAS 上的照片、备份设备上的照片至 NAS；Audio Station 和 Video Station 分别允许用户在线播放存储在 NAS 上的音乐和影片；Download Station 允许用户使用 NAS 从网络上下载文件，实现离线下载功能；Cloud Sync 用来同步其他网络存储服务上的数据，例如 Google Drive、Microsoft OneDrive 等；Synology Drive 可以同步 NAS 和用户设备上的数据。而这些只是我常用的几个套件，群晖的套现中心中还有很多套件，实现各种各样的功能。配合各种优秀的套件，这台 NAS 摇身一变，成为了一台家庭多媒体数据中心。除了官方套件，群晖还支持第三方开发的套件，甚至还有专为群晖 NAS 开发第三方套件的社区。这大大增加了 DSM 的可玩性。</p>

<p>  家庭环境中的 NAS 往往部署在局域网内，且没有固定的公网 IP。所以使用一般手段从公网访问 NAS 非常不方便。群晖为用户提供了 QuickConnect 服务。NAS 和用户通过 QuickConnect 实现内网穿透。上面提到的各种套件，都可以通过 QuickConnect 实现在公网上访问。但是由于所有的数据都依赖 QuickConnect 服务的中转。所以访问速度比较慢。</p>

<p>  最开始，我主要是在家里通过局域网连接 NAS。后来随着越来越多的数据都保存在 NAS 上，再加上使用习惯的养成，我越来越依赖 NAS 上的服务。通过公网访问 NAS 的情况增加了，QuickConnect 已经不能满足需求了。</p>

<p>  于是我向网络运营商申请了公网 IP。在这里解释一下，由于 IPv4 地址资源有限，默认情况下家用固定宽带服务不向用户提供公网 IP 地址，而是运营商的内网 IP 地址。如果设备位于运营商的内网中，则无法通过公网访问。主动申请后，运营商则会给用户提供公网 IP 地址。目前申请公网 IP 是免费的。由于需要频繁的访问 NAS 中的数据，NAS 的上行流量就变得非常重要了。我将原来的 200M 的宽带套餐升级为 500M，上行流量则由原来的 20M 提高到了 100M。对于个人使用来说，已经足够了。</p>

<p>  要想顺畅地从公网访问 NAS，只有公网 IP 还不够，因为它不是固定 IP 地址。每次 PPPoE 拨号，都会从运营商获取不通的 IP 地址。群晖提供了 DDNS 服务。DDNS 服务可以把域名解析到动态变化的 IP 地址上。这样就算每次拨号获取的地址不通，也可以通过固定的域名访问 NAS。通过这些设置，之前的“泉眼无声惜细流”变成了“不尽长江滚滚来”。</p>

<p>  DS216j 有两个盘位。最初我只购买了一块 3TB 的硬盘。随着数据增多，两年后我又买了一块 4TB 的硬盘。我并没有组 Raid，一方面是因为两块硬盘的 Raid 方案都不适合我。另一方面，我对可用性的要求并不是很高，系统出问题后，直接从备份中恢复数据即可。</p>

<p>  我将我的所有数据分为三类。第一类是重要且访问频度高的数据，例如照片和日常文档。这些数据占用空间不大（通常在 200GB 以下），但是丢失后无法恢复。对于这类数据，我每周进行一次备份，保留最近的三次备份，在硬盘和网盘中各保存一份。第二类是访问频度不高，丢失后不容易找回的数据，例如游戏、电子书和音乐。这类数据占用空间略大，通常在 500GB 至 1TB 之间。它和第一类数据采取同样的备份方法，只不过频率调整为半年至一年一次。第三类数据是访问频度低，丢失后较容易找回的数据。这类数据具有收藏属性，占用空间大，往往没有上限。我把这类数据直接存储在普通硬盘上，一旦硬盘存满，就从设备上取下来，贴上标签，断电保存。然后给设备换一块新硬盘。</p>

<p>  幸运的是，直到现在我还没有使用过这些备份，DS216j 一直在稳定运行中。不过我清楚地认识到，出问题只是时间问题，我依然要保持备份数据的习惯。</p>

  </div><a class="u-url" href="/2022/01/26/experiences-on-synology-nas-1" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Bingwhispers</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Bingwhispers</li><li><a class="u-email" href="mailto:zblinuxfun@gmail.com">zblinuxfun@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/cyril3"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">cyril3</span></a></li><li><a href="https://www.twitter.com/zblinuxfun"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">zblinuxfun</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Hi there!</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
