<h2>原文：<a href="https://jasonkayzk.github.io/%E7%AE%97%E6%B3%95-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC.html">算法:滑动窗口的最大值</a></h2>
<hr/>
<h2>title: '算法:滑动窗口的最大值'
cover: https://img.paulzzh.com/touhou/random?66
categories: 算法题目
date: 1996-07-27 08:00:00
tags: [算法题目, 堆, 滑窗]
toc: true</h2>
<p>&lt;br/&gt;</p>
<p>&lt;!--more--&gt;</p>
<h2>滑动窗口的最大值</h2>
<p><a href="https://www.nowcoder.com/practice/1624bc35a45c42c0bc17d17fa0cba788?tpId=13&amp;tqId=11217&amp;tPage=4&amp;rp=1&amp;ru=%2Fta%2Fcoding-interviews&amp;qru=%2Fta%2Fcoding-interviews%2Fquestion-ranking">滑动窗口的最大值</a></p>
<p>给定一个数组和滑动窗口的大小，找出所有滑动窗口里数值的最大值。</p>
<p>例如，如果输入数组{2,3,4,2,6,2,5,1}及滑动窗口的大小3，那么一共存在6个滑动窗口，他们的最大值分别为{4,4,6,6,6,5}；</p>
<p>针对数组{2,3,4,2,6,2,5,1}的滑动窗口有以下6个：</p>
<p>{[2,3,4],2,6,2,5,1}</p>
<p>{2,[3,4,2],6,2,5,1}，</p>
<p>{2,3,[4,2,6],2,5,1}，</p>
<p>{2,3,4,[2,6,2],5,1}，</p>
<p>{2,3,4,2,[6,2,5],1}，</p>
<p>{2,3,4,2,6,[2,5,1]}。</p>
<hr/>
<h3>分析</h3>
<p>使用最大堆存储当前窗口的数据, 则此时堆顶元素即为当前窗口最大值;</p>
<p>滑动窗口时不断的移除窗口左端的元素(保证堆中元素和窗口相同)</p>
<hr/>
<h3>代码</h3>
<pre><code class="language-java">import java.util.ArrayList;
import java.util.PriorityQueue;
import java.util.Queue;

public class Solution {
    public ArrayList&lt;Integer&gt; maxInWindows(int[] num, int size) {
        if (num == null || num.length == 0 || size &lt;= 0) return new ArrayList&lt;&gt;();
        Queue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;((x, y) -&gt; y - x);
        int len = num.length;
        ArrayList&lt;Integer&gt; res = new ArrayList&lt;&gt;(len);

        for (int i = 0; i &lt; len; ++i) {
            queue.offer(num[i]);
            if (queue.size() &lt; size) {
                continue;
            }
            res.add(queue.peek());
            queue.remove(num[i - size + 1]);
        }
        return res;
    }
}
</code></pre>
