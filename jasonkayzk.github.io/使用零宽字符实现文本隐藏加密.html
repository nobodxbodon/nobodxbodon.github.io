<h2><a href="https://github.com/jasonkayzk/jasonkayzk.github.io/blob/master/source/_posts/%E4%BD%BF%E7%94%A8%E9%9B%B6%E5%AE%BD%E5%AD%97%E7%AC%A6%E5%AE%9E%E7%8E%B0%E6%96%87%E6%9C%AC%E9%9A%90%E8%97%8F%E5%8A%A0%E5%AF%86.md">仓库源文</a>，<a href="https://jasonkayzk.github.io/2020/09/29/%E4%BD%BF%E7%94%A8%E9%9B%B6%E5%AE%BD%E5%AD%97%E7%AC%A6%E5%AE%9E%E7%8E%B0%E6%96%87%E6%9C%AC%E9%9A%90%E8%97%8F%E5%8A%A0%E5%AF%86">站点原文</a></h2>
<hr/>
<h2>title: 使用零宽字符实现文本隐藏加密
toc: true
cover: 'https://img.paulzzh.com/touhou/random?95'
date: 2020-09-29 11:12:50
categories: 技术杂谈
tags: [技术杂谈, 零宽字符, 文字隐藏]
description: 零宽字符是一种在浏览器中不打印的字符，大致相当于display-none，在许多文本应用中也不显示，比如邮箱、QQ、微信、文本编辑器等；本文讲解了如何使用零宽字符实现文本隐藏和加密；</h2>
<p>零宽字符是一种在浏览器中不打印的字符，大致相当于display-none，在许多文本应用中也不显示，比如邮箱、QQ、微信、文本编辑器等；</p>
<p>本文讲解了如何使用零宽字符实现文本隐藏和加密；</p>
<p>&lt;br/&gt;</p>
<p>&lt;!--more--&gt;</p>
<h2>使用零宽字符实现文本隐藏加密</h2>
<h3><strong>什么是零宽字体</strong></h3>
<p><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E9%9B%B6%E5%AE%BD%E7%A9%BA%E6%A0%BC">零宽字符</a>是一种在浏览器中不打印的字符，大致相当于 <code>display: none</code>，在许多文本应用中也不显示，比如邮箱、QQ、微信、文本编辑器等；</p>
<p>这里有三种零宽字符 -- 零宽空格、零宽连字、零宽不连字</p>
<pre><code>零宽字符在浏览器中对应的转义字符：

零宽空格    --- &amp;#8203;  
零宽不连字  --- &amp;#8204;
零宽连字    --- &amp;#8205;
</code></pre>
<p>&lt;BR/&gt;</p>
<h3><strong>使用零宽字体加密</strong></h3>
<p>对于零宽字体的加密可以使用摩斯密码：</p>
<p>摩斯电码采用长短两种符号进行文本加密，通过字典进行加密和解码，摩斯电码字典如下所示：</p>
<p>| 字符                                 | 代码                                                         | 字符                                 | 代码                                                         | 字符                                 | 代码                                                         | 字符                                 | 代码                                                         | 字符                                 | 代码                                                         | 字符                                 | 代码                                                         | 字符                                 | 代码                                                         |
| ------------------------------------ | ------------------------------------------------------------ | ------------------------------------ | ------------------------------------------------------------ | ------------------------------------ | ------------------------------------------------------------ | ------------------------------------ | ------------------------------------------------------------ | ------------------------------------ | ------------------------------------------------------------ | ------------------------------------ | ------------------------------------------------------------ | ------------------------------------ | ------------------------------------------------------------ |
| <a href="https://zh.wikipedia.org/wiki/A">A</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/f/f3/A_morse_code.ogg"><code>·-</code></a> | <a href="https://zh.wikipedia.org/wiki/B">B</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/b/b1/B_morse_code.ogg"><code>-···</code></a> | <a href="https://zh.wikipedia.org/wiki/C">C</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/2/25/C_morse_code.ogg"><code>-·-·</code></a> | <a href="https://zh.wikipedia.org/wiki/D">D</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/9/92/D_morse_code.ogg"><code>-··</code></a> | <a href="https://zh.wikipedia.org/wiki/E">E</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/e/e7/E_morse_code.ogg"><code>·</code></a> | <a href="https://zh.wikipedia.org/wiki/F">F</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/6/63/F_morse_code.ogg"><code>··-·</code></a> | <a href="https://zh.wikipedia.org/wiki/G">G</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/7/72/G_morse_code.ogg"><code>--·</code></a> |
| <a href="https://zh.wikipedia.org/wiki/H">H</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/9/93/H_morse_code.ogg"><code>····</code></a> | <a href="https://zh.wikipedia.org/wiki/I">I</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/d/d9/I_morse_code.ogg"><code>··</code></a> | <a href="https://zh.wikipedia.org/wiki/J">J</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/9/9e/J_morse_code.ogg"><code>·---</code></a> | <a href="https://zh.wikipedia.org/wiki/K">K</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/6/6a/K_morse_code.ogg"><code>-·-</code></a> | <a href="https://zh.wikipedia.org/wiki/L">L</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/a/a8/L_morse_code.ogg"><code>·-··</code></a> | <a href="https://zh.wikipedia.org/wiki/M">M</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/9/97/M_morse_code.ogg"><code>--</code></a> | <a href="https://zh.wikipedia.org/wiki/N">N</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/5/5a/N_morse_code.ogg"><code>-·</code></a> |
| <a href="https://zh.wikipedia.org/wiki/O">O</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/4/41/O_morse_code.ogg"><code>---</code></a> | <a href="https://zh.wikipedia.org/wiki/P">P</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/c/c6/P_morse_code.ogg"><code>·--·</code></a> | <a href="https://zh.wikipedia.org/wiki/Q">Q</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/f/f0/Q_morse_code.ogg"><code>--·-</code></a> | <a href="https://zh.wikipedia.org/wiki/R">R</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/e/ea/R_morse_code.ogg"><code>·-·</code></a> | <a href="https://zh.wikipedia.org/wiki/S">S</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/d/d8/S_morse_code.ogg"><code>···</code></a> | <a href="https://zh.wikipedia.org/wiki/T">T</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/b/ba/T_morse_code.ogg"><code>-</code></a> | <a href="https://zh.wikipedia.org/wiki/U">U</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/3/34/U_morse_code.ogg"><code>··-</code></a> |
| <a href="https://zh.wikipedia.org/wiki/V">V</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/3/37/V_morse_code.ogg"><code>···-</code></a> | <a href="https://zh.wikipedia.org/wiki/W">W</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/6/68/W_morse_code.ogg"><code>·--</code></a> | <a href="https://zh.wikipedia.org/wiki/X">X</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/b/be/X_morse_code.ogg"><code>-··-</code></a> | <a href="https://zh.wikipedia.org/wiki/Y">Y</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/5/5d/Y_morse_code.ogg"><code>-·--</code></a> | <a href="https://zh.wikipedia.org/wiki/Z">Z</a> | <a href="https://upload.wikimedia.org/wikipedia/commons/7/7a/Z_morse_code.ogg"><code>--··</code></a> |                                      |                                                              |                                      |                                                              |</p>
<p>如果我们使用<code>/</code>作为分隔符，则将 <code>morse</code> 这个单词转换为摩斯电码就是：</p>
<pre><code>morse  -&gt;   --/---/.-./.../.
</code></pre>
<p>现在我们再将 <code>/</code> 替换为零宽空格； <code>-</code> 替换问零宽连字；<code>.</code> 替换为零宽不连字</p>
<pre><code>/   --&gt;    &amp;#8203;
.   --&gt;    &amp;#8204;
-   --&gt;    &amp;#8205;
</code></pre>
<p>那么就能将morse这个单词转换为如下零宽字符</p>
<pre><code>&amp;#8205;&amp;#8205;&amp;#8203;&amp;#8205;&amp;#8205;&amp;#8205;&amp;#8203;&amp;#8204;&amp;#8205;&amp;#8204;&amp;#8203;&amp;#8204;&amp;#8204;&amp;#8204;&amp;#8203;&amp;#8204;
</code></pre>
<p>将这段零宽字符粘贴进一个HTML文件当中</p>
<pre><code class="language-html">&lt;p&gt;前&lt;/p&gt;
&lt;div&gt;&amp;#8205;&amp;#8205;&amp;#8203;&amp;#8205;&amp;#8205;&amp;#8205;&amp;#8203;&amp;#8204;&amp;#8205;&amp;#8204;&amp;#8203;&amp;#8204;&amp;#8204;&amp;#8204;&amp;#8203;&amp;#8204;&lt;/div&gt;
&lt;p&gt;后&lt;/p&gt;
</code></pre>
<p>在浏览器中打开这个HTML文件，你只能看到 <code>"前后"</code> 两个字！</p>
<p>到这，使用零宽字符实现文本隐藏加密的原理已经可见一斑了！</p>
<p>&lt;BR/&gt;</p>
<h3><strong>中文字符加密支持</strong></h3>
<blockquote>
<p>到这里我们已经实现对普通字符串的加密了，但是只支持英文和数字！</p>
<p>如果你想支持中文加密，也是有解决方案的！</p>
</blockquote>
<p>要实现中文加解密，主要思路是先对文本进行正则匹配，将其中的中文进行Unicode转码，转码后整段文本就变成了：字母、数字、<code>\</code> 的组合，我们在加解密字典中加上对 <code>\</code> 的支持，即可！</p>
<p>&lt;br/&gt;</p>
<h3><strong>加密使用方式</strong></h3>
<p>注意：</p>
<ol>
<li>pc版QQ不支持零宽字符，会显示空格，但手机版不会；</li>
<li>中文转码长度大约是相同长度英文字符的6倍；</li>
<li>零宽字符虽然看不见但是，但也是一个个字符，所以删除含有零宽字符的文本时，删到零宽字符时会删不动要把零宽字符全部删完才能接着往下删；</li>
</ol>
<p><strong>在线地址：</strong></p>
<ul>
<li>http://morse.rovelast.com</li>
<li>https://zws.im/</li>
<li>https://zero.rovelast.com/</li>
</ul>
<p>上面的网站都可以实现零宽字符加密，大家不妨可以试试！</p>
<p>&lt;br/&gt;</p>
<h3><strong>应用场景</strong></h3>
<h4><strong>① 存储隐藏信息</strong></h4>
<p>零宽字体可以用来存储隐藏信息， 比如：隐藏加密存储比特币钱包，或者在你的代码里埋下一个彩蛋：</p>
<hr/>
<h4><strong>② 秘密传达消息</strong></h4>
<p>零宽字符在大部分应用都支持，pc版QQ会显示零宽字符，但移动端不显示；</p>
<p>你可以将密文加密到普通文本中，然后邮件发送，表面上看起来是普通文本，只有对方复制明文进行解密后才能看出隐藏信息！</p>
<hr/>
<h4><strong>③ 为文章添加隐藏水印</strong></h4>
<p>你可以在你写的文章插入隐藏字符，将作者信息嵌入其中；</p>
<p>当别人复制你的文章时，并不会发现这篇文章已经被你悄悄打下水印；</p>
<p>&lt;br/&gt;</p>
<h3><strong>在写代码时的坑</strong></h3>
<p>零宽字体通常是不可见的，所以在写代码的时候，如果在代码中加入了这些零宽字符，是非常坑的！</p>
<p>所以在打印日志的时候，推荐使用：<code>fmt.Printf("%#v", info)</code>来打印日志！</p>
<p>&lt;br/&gt;</p>
<h2>附录</h2>
<p>参考文章：</p>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/75992161">隐藏字符加密（写给女孩的隐秘情书）</a></li>
<li>https://github.com/ruanyf/weekly/issues/796</li>
<li><a href="https://github.com/zws-im/zws">zws</a></li>
<li><a href="https://github.com/neatnik/steganographr">steganographr</a></li>
<li><a href="https://github.com/rover95/morse-encrypt">morse-encrypt</a></li>
</ul>
<p>&lt;br/&gt;</p>
