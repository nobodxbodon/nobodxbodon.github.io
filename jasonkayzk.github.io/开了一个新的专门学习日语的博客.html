<h2><a href="https://github.com/jasonkayzk/jasonkayzk.github.io/blob/master/source/_posts/开了一个新的专门学习日语的博客.md">仓库源文</a>，<a href="https://jasonkayzk.github.io/2025/07/30/开了一个新的专门学习日语的博客">站点原文</a></h2>
<p>之前一直都在这里发一些学习日语相关的内容。但是感觉这些可以单独开一个新的网站来总结；</p>
<p>最近比较有时间，就开了一个新的坑；</p>
<p>博客主题用的是：<a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu">hexo-theme-anzhiyu</a>，真的很酷！</p>
<p>也是花了半个小时，使用hexo，从零搭建了一个博客；</p>
<p>之前没有好好总结，这里就又简单记录了一下搭建的过程，如果你还没有博客，可以跟着我一步一步来搭建一个GithubPages博客！</p>
<p>新博客地址：</p>
<ul>
<li><a href="https://jasonkayzk.github.io/jp/">https://jasonkayzk.github.io/jp/</a></li>
</ul>
<p>源代码：</p>
<ul>
<li><a href="https://github.com/JasonkayZK/jp">https://github.com/JasonkayZK/jp</a></li>
<li><a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu">https://github.com/anzhiyu-c/hexo-theme-anzhiyu</a></li>
</ul>
<p>&lt;br/&gt;</p>
&lt;!--more--&gt;

<h1><strong>开了一个新的专门学习日语的博客</strong></h1>
<h2><strong>一、安装Node.js&amp;Hexo</strong></h2>
<p>可以在官网下载Node：</p>
<ul>
<li><a href="https://nodejs.org/zh-cn/download">https://nodejs.org/zh-cn/download</a></li>
</ul>
<blockquote><p><strong>我这里使用的是 fnm 作为版本管理工具；</strong></p>
<p><strong>配置国内源：</strong></p>
<pre><code class="lang-bash">  # 国内 淘宝 镜像源
  npm config set registry https://registry.npmmirror.com/
</code></pre>
<p><strong>参考：</strong></p>
<ul>
<li><a href="https://ksh7.com/posts/npm-registry/index.html">npm、yarn、pnpm 设置最新国内镜像源（附官方镜像源和最新阿里源），以及 nrm 的使用教程【2025】</a></li>
</ul>
</blockquote>
<p>也可以把 yarn 安装了：</p>
<pre><code class="lang-bash">npm install -g yarn

# 国内 淘宝 镜像源
yarn config set registry https://registry.npmmirror.com/
</code></pre>
<p>&lt;br/&gt;</p>
<p>随后下载 Hexo-cli 命令行工具：</p>
<pre><code class="lang-bash">npm install hexo-cli -g
</code></pre>
<blockquote><p>参考：</p>
<ul>
<li><a href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></li>
</ul>
</blockquote>
<p>&lt;br/&gt;</p>
<h2><strong>二、初始化Hexo项目</strong></h2>
<p>直接通过命令行初始化项目 jp：</p>
<pre><code class="lang-bash"># hexo init jp

INFO  Cloning hexo-starter https://github.com/hexojs/hexo-starter.git
INFO  Install dependencies
......
INFO  Start blogging with Hexo!
</code></pre>
<p>安装依赖并测试：</p>
<pre><code class="lang-bash">cd jp
npm i
hexo s # 本地调试
</code></pre>
<p>此时访问：</p>
<ul>
<li><a href="http://localhost:4000/">http://localhost:4000/</a></li>
</ul>
<p>你就能看到你的博客了！</p>
<blockquote><p><strong>参考文档：</strong></p>
<ul>
<li><a href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></li>
</ul>
</blockquote>
<p>&lt;br/&gt;</p>
<h2><strong>三、更换主题</strong></h2>
<p>默认的主题不太好看，可以在 github 上搜索 hexo 的相关主题（一般为 <code>hexo-</code> 开头）；</p>
<p>以 <a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu">hexo-theme-anzhiyu</a> 为例，文档：</p>
<ul>
<li><a href="https://docs.anheyu.com/">https://docs.anheyu.com/</a></li>
</ul>
<p>首先在你项目的根目录将主题 clone 下来：</p>
<pre><code class="lang-bash">git clone -b main https://github.com/anzhiyu-c/hexo-theme-anzhiyu.git themes/anzhiyu
</code></pre>
<p>随后打开 <strong>Hexo</strong> 根目录下的 <code>config.yml</code>, 找到以下配置项，把主题改为<code>anzhiyu</code></p>
<pre><code class="lang-yaml"># Extensions
## Plugins: https://hexo.io/plugins/
## Themes: https://hexo.io/themes/
theme: anzhiyu
</code></pre>
<p>然后安装 pug 和 stylus 渲染插件：</p>
<pre><code class="lang-bash">npm install hexo-renderer-pug hexo-renderer-stylus --save
</code></pre>
<p>再次执行：</p>
<pre><code class="lang-bash">hexo s
</code></pre>
<p>此时再次访问：</p>
<ul>
<li><a href="http://localhost:4000/">http://localhost:4000/</a></li>
</ul>
<p>你就能看到你新的主题的博客了！</p>
<p>&lt;br/&gt;</p>
<h2><strong>四、自定义配置</strong></h2>
<p>拉下来的新的主题，很多内容大概率都不符合你的预期（比如：title、分类等等）；</p>
<p>此时你可以参考文档进行个性化的配置：</p>
<ul>
<li><a href="https://docs.anheyu.com/page/front-matter.html">https://docs.anheyu.com/page/front-matter.html</a></li>
</ul>
<p>需要注意的是：</p>
<p>&lt;font color="#f00"&gt;**在根目录下存在 `_config.yml`、各自主题下也有这个文件，优先级为：根目录 &gt; 各自主题配置！**&lt;/font&gt;</p>
<p>&lt;br/&gt;</p>
<h2><strong>五、撰写新的文章</strong></h2>
<p>通过：</p>
<pre><code class="lang-bash">hexo new xxx
</code></pre>
<p>即可创建一篇新的博文！</p>
<blockquote><p>&lt;font color="#f00"&gt;**实际上就是在 `source/_posts/` 目录下创建了一个新的`*.md`文件而已！**&lt;/font&gt;</p>
</blockquote>
<p>可以增加 <code>Post Front-matter</code> 来对文章进行配置！</p>
<p>文章内容就按照 markdown 的格式去写就可以了！</p>
<p>&lt;br/&gt;</p>
<h2><strong>六、发布到Github</strong></h2>
<p>本地调试无误后，修改根目录下的 <code>_config.yml</code>：</p>
<pre><code class="lang-yaml"># Deployment
## Docs: https://hexo.io/docs/one-command-deployment
deploy:
  type: 'git'
  repo: git@github.com:jasonkayzk/jp.git  # 替换为你的仓库地址
  branch: main  # 部署分支
</code></pre>
<p>安装插件：</p>
<pre><code class="lang-bash">npm install hexo-deployer-git --save
</code></pre>
<p>随后，在发布时，通常情况下：</p>
<ul>
<li>首先，通过 <code>hexo g</code> 生成静态资源；</li>
<li>然后使用 <code>hexo d</code> 即可部署！</li>
</ul>
<blockquote><p><strong>参考：</strong></p>
<ul>
<li><a href="https://hexo.io/docs/one-command-deployment">https://hexo.io/docs/one-command-deployment</a></li>
</ul>
</blockquote>
<p><strong>但是这种方式每次都要在本地生成静态资源，效率太低！</strong></p>
<p>&lt;br/&gt;</p>
<h3><strong>1、使用GitHub Actions自动部署</strong></h3>
<p>&lt;font color="#f00"&gt;**可以通过 Github Actions，每次 push 代码之后自动提交！**&lt;/font&gt;</p>
<p>在 <code>.github/workflows/</code> 目录下创建：</p>
<p>deploy.yml</p>
<pre><code class="lang-yaml">name: Build &amp; Deploy Blog

on:
  workflow_dispatch:
  push:
    branches:
      - dev

jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node_version: [18]
    steps:
      - name: Checkout source
        uses: actions/checkout@v3
        with:
          ref: dev

      - name: Cache dependencies
        uses: actions/cache@v3
        with:
          path: |
            node_modules
            public
          key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
          restore-keys: |
            ${{ runner.os }}-node-

      - name: Use Node.js ${{ matrix.node_version }}
        uses: actions/setup-node@v3
        with:
          version: ${{ matrix.node_version }}

      - name: Add SSH key
        uses: webfactory/ssh-agent@v0.7.0
        with:
          ssh-private-key: ${{ secrets.hexo_deploy_pri }}

      - name: Setup hexo
        run: |
          git config --global user.email "jasonkayzk@gmail.com"
          git config --global user.name "jasonkayzk"
          npm install hexo-cli -g
          npm install

      - name: Hexo deploy
        env:
          GIT_SSH_COMMAND: ssh -o StrictHostKeyChecking=no
        run: |
          hexo clean
          hexo g
          hexo d
</code></pre>
<p>随后在仓库的 <code>Secrets and variables</code> 设置中，添加 <code>Repository secrets</code>：</p>
<ul>
<li><strong>key为：<code>HEXO_DEPLOY_PRI</code>；</strong></li>
<li><strong>值为：你连接 Github 的私钥！（注意是私钥！）</strong></li>
</ul>
<p><strong>提交到 dev 分支后即可自动部署！</strong></p>
<p>&lt;br/&gt;</p>
<h3><strong>2、使用新分支保存笔记</strong></h3>
<p>同时，生成的内容可能会覆盖原本的笔记<strong>（<code>hexo d</code> 会强行覆盖部署分支！）</strong>：</p>
<ul>
<li><strong>我们只需要 checkout 到另外的一个分支去编写博客，然后部署到 main 分支即可！</strong></li>
</ul>
<p>例如：</p>
<pre><code class="lang-bash">git checkout -b dev

git push
</code></pre>
<p>&lt;br/&gt;</p>
<h1><strong>附录</strong></h1>
<p>新博客地址：</p>
<ul>
<li><a href="https://jasonkayzk.github.io/jp/">https://jasonkayzk.github.io/jp/</a></li>
</ul>
<p>源代码：</p>
<ul>
<li><a href="https://github.com/JasonkayZK/jp">https://github.com/JasonkayZK/jp</a></li>
<li><a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu">https://github.com/anzhiyu-c/hexo-theme-anzhiyu</a></li>
</ul>
<p>&lt;br/&gt;</p>
