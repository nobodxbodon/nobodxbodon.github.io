<h2><a href="https://github.com/jasonkayzk/jasonkayzk.github.io/blob/master/source/_posts/%E3%80%90%E8%BD%AC%E3%80%91%E6%8C%87%E6%A0%87%E6%95%B0%E6%8D%AETP50%E3%80%81TP90%E3%80%81TP99%E3%80%81TP999.md">仓库源文</a>，<a href="https://jasonkayzk.github.io/2021/06/23/%E3%80%90%E8%BD%AC%E3%80%91%E6%8C%87%E6%A0%87%E6%95%B0%E6%8D%AETP50%E3%80%81TP90%E3%80%81TP99%E3%80%81TP999">站点原文</a></h2>
<hr/>
<h2>title: 【转】指标数据TP50、TP90、TP99、TP999
toc: true
cover: 'https://img.paulzzh.com/touhou/random?23'
date: 2021-06-23 13:22:02
categories: 技术杂谈
tags: [技术杂谈, 性能指标]
description: TP指标是软件性能的重要指标，本文讲解了指标数据TP50、TP90、TP99、TP999；</h2>
<p>TP指标是软件性能的重要指标，本文讲解了指标数据TP50、TP90、TP99、TP999；</p>
<p>&lt;br/&gt;</p>
<p>&lt;!--more--&gt;</p>
<h2><strong>【转】指标数据TP50、TP90、TP99、TP999</strong></h2>
<h3><strong>什么是TP指标</strong></h3>
<p>TP指标是指：</p>
<p>&lt;font color="#f00"&gt;<strong>在一个时间段内，统计该方法每次调用所消耗的时间，并将这些时间<code>按从小到大的顺序进行排序</code>，并取出结果为：<code>第(指标数%)所对应的时间值</code>；</strong>&lt;/font&gt;</p>
<p>例如，TP50是指：</p>
<p>在一个时间段内（如5分钟），统计该方法每次调用所消耗的时间，并将这些时间按从小到大的顺序进行排序，取第50%的那个值作为TP50 值；</p>
<blockquote>
<p><strong>TP50与告警：</strong></p>
<p><strong>当配置此监控指标对应的报警阀值后，需要保证在这个时间段内该方法所有调用的消耗时间至少有50%的值要小于此阀值，否则系统将会报警；</strong></p>
</blockquote>
<p>TP90，TP99，TP999与TP50值计算方式一致，它们分别代表着对方法的不同性能要求：</p>
<ul>
<li>TP50相对较低；</li>
<li>TP90则比较高；</li>
<li>TP99，TP999则对方法性能要求很高；</li>
</ul>
<p>&lt;br/&gt;</p>
<h3><strong>一个性能指标例子</strong></h3>
<p>举个例子：有四次请求耗时分别为：</p>
<p>10ms，1000ms，100ms，2ms</p>
<p>那么我们可以这样计算TP99：</p>
<p>4次请求中，99%的请求数为4*0.99，进位取整也就是取第4次，满足这全部4次请求的的最低耗时为1000ms，也就是TP99的答案是1000ms；</p>
<p>&lt;br/&gt;</p>
<h2><strong>附录</strong></h2>
<p>文章参考：</p>
<ul>
<li><a href="https://www.jianshu.com/p/a592eaf983db">指标数据TP50、TP90、TP99、TP999</a></li>
</ul>
<p>&lt;br/&gt;</p>
