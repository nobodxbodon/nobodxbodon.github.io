<h2><a href="https://github.com/kexizeroing/kexizeroing.github.io/blob/master/src/posts/css-effects-collection.md">仓库源文</a>，<a href="https://kexizeroing.github.io/css-effects-collection">站点原文</a></h2>
<hr/>
<h2>layout: "../layouts/BlogPost.astro"
title: "CSS effects collection"
slug: css-effects-collection
description: ""
added: "Dec 5 2022"
tags: [css]
updatedDate: "Apr 15 2024"</h2>
<blockquote>
<ul>
<li>https://css-tip.com has a wide collection of CSS tips and tricks, which is a good place to keep up to date with the new CSS features.</li>
<li>https://anthonyhobday.com/sideprojects/saferules/ includes some visual design rules you can safely follow every time.</li>
</ul>
</blockquote>
<h3>TOC</h3>
<ul>
<li><a href="#toc">TOC</a></li>
<li><a href="#rainbow-artword">Rainbow Artword</a></li>
<li><a href="#hover-text-effects">Hover Text Effects</a></li>
<li><a href="#apple-style-os-dock">Apple-style OS dock</a></li>
<li><a href="#3d-flip-hover-effects">3D Flip Hover Effects</a></li>
<li><a href="#color-palettes">Color Palettes</a></li>
<li><a href="#3d-clock">3D Clock</a></li>
<li><a href="#animation-with-view-transitions">Animation with View Transitions</a></li>
<li><a href="#filter-and-backdrop-filter">Filter and backdrop filter</a></li>
<li><a href="#scroll-driven-animations">Scroll-driven animations</a></li>
<li><a href="#reveal-hover-effect">Reveal hover effect</a></li>
</ul>
<h3>Rainbow Artword</h3>
<p>&lt;img alt="Rainbow Artword" src="https://raw.gitmirror.com/kexiZeroing/blog-images/main/008vxvgGly1h8t01qct5yj308q05ct8r.jpg" width="150"&gt;</p>
<pre><code class="language-html">&lt;style&gt;
  .wordart {
    display: inline-block;
    background: linear-gradient(
      90deg,
      #ff0000,
      #ff8800,
      #ffff00,
      #02be02,
      #0000ff,
      #4f00ff,
      #9c00ff
    );
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    font-size: 60px;
    font-weight: bold;
    transform: skewY(-8deg) scaleY(1.3) scaleX(0.8);
    filter: drop-shadow(2px 2px 0px rgba(0, 0, 0, 0.2));
  }
&lt;/style&gt;

&lt;span class="wordart"&gt;WordArt&lt;/span&gt;
</code></pre>
<ul>
<li>Using the <code>background-clip</code> property we can control where the background shows. Specifically, we can set <code>background-clip: text</code> to make the background only show wherever there's text in the element.</li>
<li><code>drop-shadow</code> is similar to the <code>box-shadow</code> property. The <code>box-shadow</code> property creates a rectangular shadow behind an element's entire box, while the <code>drop-shadow</code> creates a shadow that conforms to the shape (alpha channel) of the image itself.</li>
<li>A cool website: https://www.makewordart.com</li>
</ul>
<h3>Hover Text Effects</h3>
<p>&lt;img alt="Hover Text Effects" src="https://raw.gitmirror.com/kexiZeroing/blog-images/main/008vxvgGly1h8t04ox2d3j30e2048jrb.jpg" width="200"&gt;</p>
<p>https://codepen.io/jh3y/pen/abGPKGO</p>
<pre><code class="language-html">&lt;script src="https://unpkg.com/splitting/dist/splitting.min.js"&gt;&lt;/script&gt;
&lt;style&gt;
  .char {
    --pop: 0;
    display: inline-block;
    position: relative;
    color: transparent;
    z-index: calc(1 + (var(--pop) * 2));
  }

  .char:after {
    content: attr(data-char);
    position: absolute;
    inset: 0;
    color: hsl(45 calc(var(--pop) * 100%) calc(80% - (30% * var(--pop))));
    translate: 0 calc(var(--pop, 0) * -65%);
    scale: calc(1 + var(--pop) * 0.75);
    transition: translate 0.2s, scale 0.2s, color 0.2s;
  }

  .char:hover {
    --pop: 1;
  }

  /* elements that are immediately before and after the char being hovered */
  .char:hover + .char,
  .char:has(+ .char:hover) {
    --pop: 0.4;
  }
&lt;/style&gt;

&lt;h1 data-splitting&gt;Happy Birthday!&lt;/h1&gt;
&lt;script&gt; Splitting(); &lt;/script&gt;
</code></pre>
<ul>
<li><a href="https://splitting.js.org">Splitting.js</a> is designed to split an element in a variety of ways, such as words, characters, child nodes, and more.</li>
<li>The <code>inset</code> CSS property is a shorthand that corresponds to the <code>top</code>, <code>right</code>, <code>bottom</code> and <code>left</code> properties.</li>
<li><code>:has(+ .char:hover)</code> means target any character that is directly followed by a character that is hovered. It is available in Chrome 105.</li>
</ul>
<h3>Apple-style OS dock</h3>
<p>CSS only, no JS. This one would be pretty sweet as a nav on your portfolio.</p>
<p>&lt;img alt="apple-style-dock" src="https://raw.gitmirror.com/kexiZeroing/blog-images/main/dwucuh.png" width="450"&gt;</p>
<p>https://codepen.io/jh3y/pen/GRwwWoV</p>
<pre><code class="language-css">.b:has(+ .b:hover),
.b:hover + .b {
  flex: calc(0.2 + (sin(30deg) * 1.5));
  translate: 0 calc(sin(30deg) * -75%);
}
</code></pre>
<h3>3D Flip Hover Effects</h3>
<p>&lt;img alt="3D Flip Hover" src="https://raw.gitmirror.com/kexiZeroing/blog-images/main/Screen%20Shot%202023-02-18%20at%207.06.16%20PM.png" width="200"&gt;</p>
<p>https://codepen.io/rikanutyy/pen/PEJBxX</p>
<pre><code class="language-html">&lt;style&gt;
  .card {
    color: #013243;
    position: absolute;
    top: 50%;
    left: 50%;
    width: 300px;
    height: 400px;
    background: #e0e1dc;
    transform-style: preserve-3d;
    transform: translate(-50%,-50%) perspective(2000px);
    box-shadow: inset 300px 0 50px rgba(0,0,0,.5), 20px 0 60px rgba(0,0,0,.5);
    transition: 1s;
  }

  .card:hover {
    transform: translate(-50%,-50%) perspective(2000px) rotate(15deg) scale(1.2);
    box-shadow: inset 20px 0 50px rgba(0,0,0,.5), 0 10px 100px rgba(0,0,0,.5);
  }

  .card:before {
    content:'';
    position: absolute;
    top: -5px;
    left: 0;
    width: 100%;
    height: 5px;
    background: #BAC1BA;
    transform-origin: bottom;
    transform: skewX(-45deg);
  }

  .card:after {
    content: '';
    position: absolute;
    top: 0;
    right: -5px;
    width: 5px;
    height: 100%;
    background: #92A29C;
    transform-origin: left;
    transform: skewY(-45deg);
  }

  .card .imgBox {
    width: 100%;
    height: 100%;
    position: relative;
    transform-origin: left;
    transition: .7s;
  }

  .card .bark {
    position: absolute;
    background: #e0e1dc;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: .7s;
  }

  .card .imgBox img {
    min-width: 250px;
    max-height: 400px;
  }

  .card:hover .imgBox {
    transform: rotateY(-135deg);
  }

  .card:hover .bark {
    opacity: 1;
    transition: .6s;
    box-shadow: 300px 200px 100px rgba(0, 0, 0, .4) inset;
  }

  .card .details {
    position: absolute;
    top: 0;
    left: 0;
    box-sizing: border-box;
    padding: 0 0 0 20px;
    z-index: -1;
    margin-top: 70px;
  }
&lt;/style&gt;

&lt;div class="card"&gt;
  &lt;div class="imgBox"&gt;
    &lt;div class="bark"&gt;&lt;/div&gt;
    &lt;img src="https://placekitten.com/300/400"&gt;
  &lt;/div&gt;
  &lt;div class="details"&gt;
    &lt;h4&gt;HAPPY BIRTHDAY&lt;/h4&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<h3>Color Palettes</h3>
<p>Builds a wide gamut color palette with okLCH and inspects color with devtools. Check out https://www.youtube.com/watch?v=6aCsAMgwnjE</p>
<p>&lt;img alt="okLCH Color Palettes" src="https://raw.gitmirror.com/kexiZeroing/blog-images/main/008vOhrAly1he4xakrh5qj30tg0ka0ts.jpg" width="500"&gt;</p>
<pre><code class="language-html">&lt;style&gt;
  html {
    --hue: 140;
    
    --swatch-1: oklch(99% .05 var(--hue));
    --swatch-2: oklch(90% .1 var(--hue));
    --swatch-3: oklch(80% .2 var(--hue));
    --swatch-4: oklch(72% .25 var(--hue));
    --swatch-5: oklch(67% .31 var(--hue));
    --swatch-6: oklch(50% .27 var(--hue));
    --swatch-7: oklch(35% .25 var(--hue));
    --swatch-8: oklch(25% .2 var(--hue));
    --swatch-9: oklch(13% .2 var(--hue));
    --swatch-10: oklch(5% .1 var(--hue));
    
    --text-1: var(--swatch-10);
    --text-2: var(--swatch-9);
    --surface-1: var(--swatch-1);
    --surface-2: var(--swatch-2);
    --surface-3: var(--swatch-3);
  }

  html {
    background: var(--surface-1);
    color: var(--text-1);
  }
  body {
    display: grid;
    /* justify-content &amp;&amp; align-content */
    place-content: center;
    gap: 5vmin;
    grid-auto-flow: column;
  }
  .palette {
    display: grid;
    grid-auto-rows: 8vh;
    grid-template-columns: 20vw;
  }
  .swatch {
    box-shadow: inset 0 0 0 1px oklch(50% 0 0 / 20%);
  }
  .swatch:nth-of-type(1)  { background: var(--swatch-1) }
  .swatch:nth-of-type(2)  { background: var(--swatch-2) }
  .swatch:nth-of-type(3)  { background: var(--swatch-3) }
  .swatch:nth-of-type(4)  { background: var(--swatch-4) }
  .swatch:nth-of-type(5)  { background: var(--swatch-5) }
  .swatch:nth-of-type(6)  { background: var(--swatch-6) }
  .swatch:nth-of-type(7)  { background: var(--swatch-7) }
  .swatch:nth-of-type(8)  { background: var(--swatch-8) }
  .swatch:nth-of-type(9)  { background: var(--swatch-9) }
  .swatch:nth-of-type(10) { background: var(--swatch-10) }

  .card {
    display: grid;
    border-radius: 10px;
    background: var(--surface-2);
    border: 1px solid var(--surface-3);
    padding: 1rem;
  }
&lt;/style&gt;

&lt;body&gt;
  &lt;div class="palette"&gt;
    &lt;div class="swatch"&gt;&lt;/div&gt;
    &lt;div class="swatch"&gt;&lt;/div&gt;
    &lt;div class="swatch"&gt;&lt;/div&gt;
    &lt;div class="swatch"&gt;&lt;/div&gt;
    &lt;div class="swatch"&gt;&lt;/div&gt;
    &lt;div class="swatch"&gt;&lt;/div&gt;
    &lt;div class="swatch"&gt;&lt;/div&gt;
    &lt;div class="swatch"&gt;&lt;/div&gt;
    &lt;div class="swatch"&gt;&lt;/div&gt;
    &lt;div class="swatch"&gt;&lt;/div&gt;
  &lt;/div&gt;
  
  &lt;article&gt;
    &lt;div class="card"&gt;
      &lt;h2&gt;I'm a card&lt;/h2&gt;
      &lt;p&gt;Lorem ipsum dolor, sit amet consectetur adipisicing elit. Itaque doloremque modi veniam aspernatur voluptatum
        labore dolores perspiciatis.&lt;/p&gt;
    &lt;/div&gt;
  &lt;/article&gt;
&lt;/body&gt;
</code></pre>
<p>Another way is using CSS <code>color-mix()</code>, which is stable in Chrome 111. The trick for creating semi-opaque versions of the brand colors is mixing them with the transparent color value.</p>
<pre><code class="language-css">:root {
  --brandBlue: skyblue;
  --brandBlue-a10: color-mix(in srgb, var(--brandBlue), transparent 90%);
  --brandBlue-a20: color-mix(in srgb, var(--brandBlue), transparent 80%);
  --brandBlue-a30: color-mix(in srgb, var(--brandBlue), transparent 70%);
  --brandBlue-a40: color-mix(in srgb, var(--brandBlue), transparent 60%);
  --brandBlue-a50: color-mix(in srgb, var(--brandBlue), transparent 50%);
  --brandBlue-a60: color-mix(in srgb, var(--brandBlue), transparent 40%);
  --brandBlue-a70: color-mix(in srgb, var(--brandBlue), transparent 30%);
  --brandBlue-a80: color-mix(in srgb, var(--brandBlue), transparent 20%);
  --brandBlue-a90: color-mix(in srgb, var(--brandBlue), transparent 10%);
}
</code></pre>
<h3>3D Clock</h3>
<p>&lt;img alt="3D Clock" src="https://raw.gitmirror.com/kexiZeroing/blog-images/main/3dclock.jpg" width="300"&gt;</p>
<p>https://codepen.io/bigxixi/pen/abjEMbg</p>
<h3>Animation with View Transitions</h3>
<ul>
<li>Getting started with View Transitions on multi-page apps: https://daverupert.com/2023/05/getting-started-view-transitions</li>
<li>A collection of example view transitions for multi-page sites: https://mpa-view-transitions-sandbox.netlify.app</li>
<li>Adam Argyle at SeattleJS Conf: https://seattlejs-view-transitions.netlify.app</li>
<li>Astro View Transitions Photo Gallery: https://deathbyjavascript.com</li>
</ul>
<pre><code class="language-html">&lt;style&gt;
  body {
    display: grid;
    place-content: center;
  } 
  .box {
    /* Having a name means "hold onto this element and try to tween it" (otherwise you get the cross-fade) */
    view-transition-name: box; /* whatever a unique name */
    width: 100px;
    height: 100px;
    background: blue;
  }
&lt;/style&gt;

&lt;div class="box"&gt;&lt;/div&gt;
&lt;script&gt;
  // https://codepen.io/argyleink/pen/NWOEvro
  const positions = ['start', 'end', 'center']

  function getRandomInt(max) {
    return Math.floor(Math.random() * max);
  }

  function setRandomAlignments() {
    document.body.style.alignContent = positions[getRandomInt(3)]
    document.body.style.justifyContent = positions[getRandomInt(3)]
  }

  document.body.addEventListener('click', e =&gt; {
    if (!document.startViewTransition)
      setRandomAlignments()
    else
      document.startViewTransition(() =&gt; {
        setRandomAlignments()
      })
  })
&lt;/script&gt;
</code></pre>
<p>&lt;img alt="just the tabs" src="https://raw.gitmirror.com/kexiZeroing/blog-images/main/245b6eaa-8117-430d-a2aa-faa40e0e51a2.png" width="450"&gt;</p>
<p>https://codepen.io/argyleink/pen/GRPRJyM</p>
<pre><code class="language-html">&lt;body&gt;
  &lt;div class="just-the-tabs"&gt;
    &lt;div class="tab" style="view-transition-name: tab-1"&gt;
      &lt;span contenteditable&gt;This is a tab&lt;/span&gt;
      &lt;button&gt;×&lt;/button&gt;
    &lt;/div&gt;
    &lt;div class="tab" style="view-transition-name: tab-2"&gt;
      &lt;span contenteditable&gt;web.dev&lt;/span&gt;
      &lt;button&gt;×&lt;/button&gt; 
    &lt;/div&gt;
    &lt;div class="tab" style="view-transition-name: tab-3"&gt;
      &lt;span contenteditable&gt;candy - Google Search&lt;/span&gt;
      &lt;button&gt;×&lt;/button&gt;
    &lt;/div&gt;
    &lt;button id="newtab" style="view-transition-name: new-tab"&gt;+&lt;/button&gt;
  &lt;/div&gt;

  &lt;script&gt;
    const tabs = document.querySelector('.just-the-tabs')

    tabs.addEventListener('click', e =&gt; {
      if (e.target.nodeName !== 'BUTTON') return
      
      function mutate() {
        e.target.parentElement.remove()
      }
      
      document.startViewTransition 
        ? document.startViewTransition(mutate)
        : mutate()
    })

    let i = tabs.childElementCount
    newtab.addEventListener('click', e =&gt; {
      e.preventDefault()
      e.stopPropagation()
      
      const tab = `&lt;div class="tab" style="view-transition-name: tab-${i++}"&gt;&lt;span contenteditable&gt;New Tab&lt;/span&gt;&lt;button&gt;×&lt;/button&gt;&lt;/div&gt;`

      function mutate() {
        tabs.insertAdjacentHTML('beforeend', tab)
        tabs.appendChild(newtab)
        newtab.focus()
      }
      
      document.startViewTransition 
        ? document.startViewTransition(mutate)
        : mutate()
    })
  &lt;/script&gt;
&lt;/body&gt;
</code></pre>
<h3>Filter and backdrop filter</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter">backdrop-filter</a> has the same effect as <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter">filter</a>, with one notable difference — backdrop filters apply only to areas behind the element instead of to the element and its children. Filters, on the other hand, apply directly to the element and its children, and don’t affect anything behind the element.</p>
<p>&lt;img alt="filter" src="https://raw.gitmirror.com/kexiZeroing/blog-images/main/a9f0c5e0-6f17-4068-b481-17bfac204791.png" width="500"&gt;</p>
<p>&lt;img alt="backdrop-filter" src="https://raw.gitmirror.com/kexiZeroing/blog-images/main/t0635k.png" width="500"&gt;</p>
<pre><code class="language-html">&lt;div class="parent"&gt;
  &lt;div class="blur"&gt;Blur&lt;/div&gt;
  &lt;div class="invert"&gt;Invert&lt;/div&gt;
  &lt;div class="hue"&gt;Hue&lt;/div&gt;
  &lt;div class="grayscale"&gt;Grayscale&lt;/div&gt;
&lt;/div&gt;
&lt;style&gt;
.parent {
  background-image: url("/images/neue-donau.webp");
}
.blur {
  backdrop-filter: blur(5px);
}
.invert {
  backdrop-filter: invert(1);
}
.hue {
  backdrop-filter: hue-rotate(260deg);
}
.grayscale {
  backdrop-filter: grayscale(100%);
}
&lt;/style&gt;
</code></pre>
<h3>Scroll-driven animations</h3>
<p>At its simplest, the <code>animation-timeline</code> property lets us link any keyframe animation to the progress of scroll. They still run from 0-100%. But now, 0% is the scroll start position and 100% is the scroll end position.</p>
<pre><code class="language-css">@keyframes spin {
  to {
    transform: rotateY(5turn);
  }
}

@media (prefers-reduced-motion: no-preference) {
  @supports (animation-timeline: scroll()) {
    div {
      animation: spin linear both;
      animation-timeline: scroll();
    } 
  }
}
</code></pre>
<p>Next, change <code>scroll()</code> to <code>view()</code>, which means we can trigger animations when elements enter and exit the viewport. This time 0% is when the element is entering the scroll area and 100% is when it’s about to go out of that scroll area.</p>
<pre><code class="language-css">/* Animate images: https://codepen.io/una/pen/KKYZzJM */
@keyframes appear {
  from { opacity: 0; scale: 0.8; }
  to { opacity: 1; scale: 1; }
}

img {
  animation: appear linear both;
  animation-timeline: view();
  animation-range: entry 25% cover 50%;
}
</code></pre>
<p>Because Scroll-Driven Animations are only active when there is scrollable overflow, it is possible to use them as a mechanism to detect if an element can scroll or not.</p>
<pre><code class="language-css">.container {
  height: 250px;
  width: 250px;
  overflow-y: auto;

  --can-scroll: 0;
  animation: detect-scroll;
  animation-timeline: scroll(self);
}

@keyframes detect-scroll {
  from, to  {
    --can-scroll: 1;
  }
}
</code></pre>
<h3>Reveal hover effect</h3>
<p>https://codepen.io/t_afif/pen/GRYEZrr</p>
<pre><code class="language-html">&lt;img src="https://picsum.photos/seed/picsum/200/200" class="left"&gt;
&lt;img src="https://picsum.photos/seed/picsum/200/200" class="right"&gt;

&lt;style&gt;
img {
  --s: 200px; /* the image size */
  
  width: var(--s);
  height: var(--s);
  object-fit: cover;
  transition: .5s;
}
img.left {
  object-position: right;
  padding-left: var(--s);
  background: #542437;
}
img.right {
  object-position: left;
  padding-right: var(--s);
  background: #8A9B0F;
}

img:hover {
  padding: 0;
}
&lt;/style&gt;
</code></pre>
<ul>
<li><code>object-position</code> specifies the alignment of the selected replaced element's contents within the element's box. Areas of the box which aren't covered by the replaced element's object will show the element's background.</li>
<li><code>box-sizing: border-box</code> will make the size of the content box equal to 0. In other words, we don’t see the image, but we see the background color since it covers the padding area.</li>
</ul>
