<h2><a href="https://github.com/caol64/caol64.github.io/blob/master/content/posts/2024/2024-11-06-wenyan-supports-customized-themes.md">仓库源文</a>，<a href="https://babyno.top/posts/2024/11/06/wenyan-supports-customized-themes">站点原文</a></h2>
<hr/>
<p>author: "路边的阿不"
title: 文颜支持自定义主题
slug: wenyan-supports-customized-themes
description: ""
date: 2024-11-06 16:11:11
draft: false
ShowToc: true
TocOpen: true
tags:</p>
<ul>
<li>OpenSource
categories:</li>
<li>文颜</li>
</ul>
<hr/>
<p>到目前为止，<a href="https://yuzhi.tech/wenyan">「文颜」</a>内置了7套主题，除了一套“默认”主题外，其它主题都来源于众多作者的开源主题，在这里向各位作者表示感谢🙏：</p>
<ul>
<li><a href="https://github.com/evgo2017/typora-theme-orange-heart">Orange Heart - evgo2017</a></li>
<li><a href="https://github.com/thezbm/typora-theme-rainbow">Rainbow - thezbm</a></li>
<li><a href="https://github.com/YiNNx/typora-theme-lapis">Lapis - YiNN</a></li>
<li><a href="https://github.com/kevinzhao2233/typora-theme-pie">Pie - kevinzhao2233</a></li>
<li><a href="https://github.com/BEATREE/typora-maize-theme">Maize - BEATREE</a></li>
<li><a href="https://github.com/hliu202/typora-purple-theme">Purple - hliu202</a></li>
</ul>
<p>但是这7套主题远远不能满足广大用户的需求，因此文颜已经上线了“自定义主题”功能。</p>
<h2>什么是自定义主题</h2>
<p>“自定义主题”可以使你的公众号文章别具一格，具备自己独特的外观，从而创造出独特的视觉体验。其原理是通过开放对主题的<code>CSS</code>（层叠样式表）的修改功能，来对页面进行定制。</p>
<p>用户可以创建3套个性化的“自定义主题”，以创造3种不同的视觉体验。</p>
<h2>创建主题</h2>
<p>在主题选择菜单点击“创建新主题”按钮。</p>
<p>&lt;img src="/imgs/posts/2024-11-06-wenyan-supports-customized-themes/1.webp" width="50%"&gt;</p>
<p>此时会弹出一个“主题编辑和预览”页面，你可以在左侧编辑器中自定义<code>CSS</code>，右侧预览页面可以实时进行效果预览。</p>
<p><img alt="alt text" src="/Users/xuanwu/work/聚聚/中文博客集锦/源数据/博客聚合/babyno.top/content/imgs/posts/2024-11-06-wenyan-supports-customized-themes/2.webp"/></p>
<p>最后保存即可。</p>
<h2>使用主题</h2>
<p>保存的自定义主题可以在主题菜单直接选择使用。</p>
<p>&lt;img src="/imgs/posts/2024-11-06-wenyan-supports-customized-themes/3.webp" width="50%"&gt;</p>
<h2>修改和删除主题</h2>
<p>点击“自定义主题”边上的编辑按钮，会弹出“主题编辑和预览”页面，和创建主题一样。</p>
<p>&lt;img src="/imgs/posts/2024-11-06-wenyan-supports-customized-themes/4.webp" width="50%"&gt;</p>
<p>如果要删除主题，点击“删除”按钮。</p>
<p><img alt="alt text" src="/Users/xuanwu/work/聚聚/中文博客集锦/源数据/博客聚合/babyno.top/content/imgs/posts/2024-11-06-wenyan-supports-customized-themes/5.webp"/></p>
<h2>小贴士</h2>
<h3>标题及块元素的前缀和后缀</h3>
<p><code>h1, h2, h3, h4, h5, h6, blockquote</code>这几个标签可以与<code>::before</code>和<code>::after</code>伪元素配合<code>content</code>属性实现标签的前、后缀效果。让我们看个例子，给所有<code>blockquote</code>添加一个彩虹图标前缀：</p>
<pre><code class="lang-css">#wenyan blockquote::before {
    display: block;
    height: 2em;
    width: 1.5em;
    content: "🌈";
    font-size: 1.2em;
}
</code></pre>
<p>效果：</p>
<p><img alt="alt text" src="/Users/xuanwu/work/聚聚/中文博客集锦/源数据/博客聚合/babyno.top/content/imgs/posts/2024-11-06-wenyan-supports-customized-themes/6.webp"/></p>
<p>此外，你也可以使用一些<code>css</code>的其它技巧来绘制简单的几何图形，比如在<code>h2</code>标签前面添加一个<code>gradient</code>渐变图形，后面添加一个三角形图标：</p>
<pre><code class="lang-css">#wenyan h2:before {
    display: inline-block;
    content: "";
    background: radial-gradient(#f69d3c, #3f87a6);
    height: 2em;
    width: 2em;
    vertical-align: bottom;
}
#wenyan h2:after {
    display: inline-block;
    content: "";
    vertical-align: bottom;
    border-bottom: 36px solid #efebe9;
    border-right: 20px solid transparent;
}
</code></pre>
<p>效果：</p>
<p><img alt="alt text" src="/Users/xuanwu/work/聚聚/中文博客集锦/源数据/博客聚合/babyno.top/content/imgs/posts/2024-11-06-wenyan-supports-customized-themes/8.webp"/></p>
<p><strong><em>注意：虽然在预览页面中，所有标签的伪元素看上去都是正常的，但是粘贴到公众号后，只有上面列举的这些标签和伪元素才会起作用。</em></strong></p>
<p><strong><em>注意：目前<code>background-image</code>还不支持图片格式的背景图案（包括url引入或者base64引入），或许以后的版本会支持。</em></strong></p>
<h3>修改字体</h3>
<p>文颜默认使用用户系统的默认字体，如果你想使你的文章看起来更独特，可以考虑修改默认字体。比如：将字体修改为系统自带的“华文仿宋”：</p>
<pre><code class="lang-css">/* 全局变量 */
:root {
    --sans-serif-font: "华文仿宋";
    --monospace-font: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "liberation mono", "courier new", monospace;
}
</code></pre>
<p>效果：</p>
<p><img alt="alt text" src="/Users/xuanwu/work/聚聚/中文博客集锦/源数据/博客聚合/babyno.top/content/imgs/posts/2024-11-06-wenyan-supports-customized-themes/7.webp"/></p>
<p><strong><em>注意：修改字体会影响未安装该字体的用户的阅读体验，因此请确保你有一定该方面的经验，保留保底字体。</em></strong></p>
<p><strong><em>注意：目前不支持<code>web字体</code>，即url引入的字体。</em></strong></p>
<h3>背景图案</h3>
<p>如果你想修改公众号平平无奇的白色背景，可以使用<code>gradient</code>添加一些背景图案。下面这个例子将为你的文章背景添加淡淡的网格：</p>
<pre><code class="lang-css">#wenyan {
    font-family: var(--sans-serif-font);
    line-height: 1.75;
    background-image: linear-gradient(90deg, rgba(50, 0, 0, 0.04) 3%, rgba(0, 0, 0, 0) 3%), linear-gradient(360deg, rgba(50, 0, 0, 0.04) 3%, rgba(0, 0, 0, 0) 3%);
    background-size: 20px 20px;
    background-position: center center;
}
</code></pre>
<p>效果：</p>
<p><img alt="alt text" src="/Users/xuanwu/work/聚聚/中文博客集锦/源数据/博客聚合/babyno.top/content/imgs/posts/2024-11-06-wenyan-supports-customized-themes/9.webp"/></p>
<p><strong><em>注意：目前<code>background-image</code>还不支持图片格式的背景图案（包括url引入或者base64引入），或许以后的版本会支持。</em></strong></p>
<h3>表格样式</h3>
<p>以下几个属性可以修改表格样式：</p>
<pre><code class="lang-css">#wenyan table {
    border-collapse: collapse;
    border: 0.25em solid var(--table-border-color);
    margin: 1.4em auto;
    max-width: 100%;
    table-layout: fixed;
    text-align: left;
    overflow: auto;
    display: inline-block;
    word-wrap: break-word;
    word-break: break-all;
}
#wenyan table th {
    background-color: var(--th-bg-color);
}
#wenyan table th, td {
    font-size: .75em;
    text-align: center;
    border: 0.13em dashed var(--table-border-color);
    padding: 0.5em;
    height: 40px;
    padding: 9px 12px;
    line-height: 22px;
    min-width: 60px;
    vertical-align: top;
}
#wenyan table tr:nth-child(even) {
    background-color: var(--tr-bg-color);
}
</code></pre>
<h3>脚注样式</h3>
<p>如果使用了脚注功能，请注意以下几个属性：</p>
<pre><code class="lang-css">/* 添加在原始链接旁的脚注上标 1️⃣ */
#wenyan .footnote {
    color: rgb(31, 117, 255);
}
/* 脚注行，每行包括编号和文字 2️⃣ */
#wenyan #footnotes p {
    display: flex;
    margin: 0;
    font-size: 0.9em;
}
/* 脚注行内编号 3️⃣ */
#wenyan .footnote-num {
    display: inline;
    width: 10%;
}
/* 脚注行内文字 4️⃣ */
#wenyan .footnote-txt {
    display: inline;
    width: 90%;
    word-wrap: break-word;
    word-break: break-all;
}
</code></pre>
<p>添加在原始链接旁的脚注上标：</p>
<p><img alt="alt text" src="/Users/xuanwu/work/聚聚/中文博客集锦/源数据/博客聚合/babyno.top/content/imgs/posts/2024-11-06-wenyan-supports-customized-themes/10.webp"/></p>
<p>脚注行：</p>
<p><img alt="alt text" src="/Users/xuanwu/work/聚聚/中文博客集锦/源数据/博客聚合/babyno.top/content/imgs/posts/2024-11-06-wenyan-supports-customized-themes/11.webp"/></p>
<h3>行内代码</h3>
<pre><code class="lang-css">#wenyan p code {
    font-family: var(--monospace-font);
    color: #ff502c;
    padding: 4px 6px;
    font-size: .78em;
}
</code></pre>
<h3>代码块</h3>
<pre><code class="lang-css">/* 代码块外围 */
#wenyan pre {
    border-radius: 5px;
    font-size: .8em;
    line-height: 2;
    margin: 1em 0.5em;
    padding: 1em;
    background-color: #afb8c133;
}
/* 代码块 */
#wenyan pre code {
    font-family: var(--monospace-font);
    display: block;
    overflow-x: auto;
    margin: 0;
    padding: 0;
}
</code></pre>
<h2>属性速查</h2>
<p>所有属性可以在下面的网页查询到：<a href="https://yuzhi.tech/docs/wenyan/themes">属性速查表</a>。</p>
<h2>最后</h2>
<p>问题讨论请移步<a href="https://github.com/caol64/wenyan/discussions/9">github discussions</a>。</p>
<p>主题分享请移步<a href="https://github.com/caol64/wenyan/discussions/13">这里</a>。</p>
