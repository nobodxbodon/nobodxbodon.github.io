<h2>原文：<a href="https://f2h2h1.github.io/article/%E4%B8%80%E4%BA%9B%E5%85%B3%E4%BA%8ELinux%E7%9A%84%E7%AC%94%E8%AE%B0">一些关于Linux的笔记</a></h2>
<h1>一些关于 Linux 的笔记</h1>
<ul>
<li>查看守护进程</li>
</ul>
<pre><code class="language-shell">ps -x
</code></pre>
<ul>
<li>查看linux的80端口是否关闭</li>
</ul>
<pre><code class="language-shell">netstat -an | grep :80
</code></pre>
<ul>
<li>将文件mirror重命名为php-7.1.0.tar.gz</li>
</ul>
<pre><code class="language-shell">mv mirror php-7.1.0.tar.gz
</code></pre>
<ul>
<li>linux下查找nginx里的nginx.conf文件地址方法</li>
</ul>
<pre><code class="language-shell">nginx -t
</code></pre>
<ul>
<li>下载文件</li>
</ul>
<pre><code class="language-shell">wget http://cn2.php.net/get/php-7.1.0.tar.gz/from/this/mirror
</code></pre>
<ul>
<li>显示当前路径</li>
</ul>
<pre><code class="language-shell">pwd
</code></pre>
<ul>
<li>查看 ip</li>
</ul>
<pre><code class="language-shell">ip addr
ifconfig
</code></pre>
<ul>
<li>查看系统负载</li>
</ul>
<pre><code class="language-shell">top
vmstat
w
uptime
</code></pre>
<ul>
<li>查看磁盘负载</li>
</ul>
<pre><code class="language-shell">iostat
</code></pre>
<ul>
<li>查看 linux 版本</li>
</ul>
<pre><code class="language-shell">uname -a
</code></pre>
<ul>
<li>查看 centos 版本</li>
</ul>
<pre><code class="language-shell">cat /etc/redhat-release
</code></pre>
<ul>
<li>把 mynginx 目录下的文件打包</li>
</ul>
<pre><code class="language-shell">tar -cf mynginx4.tar mynginx/*
</code></pre>
<ul>
<li>将多个文件打包成一个tar</li>
</ul>
<pre><code class="language-shell">tar -cf d.tar a b c
</code></pre>
<ul>
<li>解压tar文件</li>
</ul>
<pre><code class="language-shell">tar -xf all.tar
</code></pre>
<ul>
<li>解压tar文件到指定目录</li>
</ul>
<pre><code class="language-shell">tar -xf bbs.tar -C /zzz/bbs
</code></pre>
<ul>
<li>通过文件名查找文件</li>
</ul>
<pre><code class="language-shell">find / -name httpd.conf
</code></pre>
<ul>
<li>查找某个文件</li>
</ul>
<pre><code class="language-shell">find –name nginx.conf
</code></pre>
<ul>
<li>查找某个文件夹</li>
</ul>
<pre><code class="language-shell">find / -name mysql -type d
</code></pre>
<ul>
<li>创建test.c这个文件</li>
</ul>
<pre><code class="language-shell">touch test.c
</code></pre>
<ul>
<li>新建一个文件夹</li>
</ul>
<pre><code class="language-shell">mkdir 文件夹名
</code></pre>
<ul>
<li>更新yum仓库</li>
</ul>
<pre><code class="language-shell">yum -y update
</code></pre>
<ul>
<li>linux下重命名文件或文件夹的命令mv既可以重命名，又可以移动文件或文件夹.</li>
</ul>
<pre><code class="language-shell">例子：将目录A重命名为B
mv A B
例子：将/a目录移动到/b下，并重命名为c
mv /a /b/c
</code></pre>
<ul>
<li>查找当前系统是否已经安装sshd</li>
</ul>
<pre><code class="language-shell">rpm -qa |grep ssh 
</code></pre>
<ul>
<li>linux 查看已安装软件</li>
</ul>
<pre><code class="language-shell">rpm -qa
</code></pre>
<ul>
<li>处理木马程序可能要用到的命令</li>
</ul>
<pre><code class="language-shell">top
ps
lsof
</code></pre>
<ul>
<li>查看由网络连接的进程</li>
</ul>
<pre><code class="language-shell">lsof -i
</code></pre>
<ul>
<li>查看所有进程</li>
</ul>
<pre><code class="language-shell">ps -ef
</code></pre>
<ul>
<li>使用-p查看指定进程ID已打开的内容</li>
</ul>
<pre><code class="language-shell">lsof -p 10075
</code></pre>
<ul>
<li>安装某个 包/库/软件</li>
</ul>
<pre><code class="language-shell">yum –y httpd-devel
</code></pre>
<ul>
<li>返回上一级目录</li>
</ul>
<pre><code class="language-shell">cd ..
</code></pre>
<ul>
<li>将 /home/user1目录下的所有东西拷到/root/temp/下而不拷贝user1目录本身。
即格式为：cp -Rf 原路径/ 目的路径/</li>
</ul>
<pre><code class="language-shell">cp -Rf /home/user1/* /root/temp/
</code></pre>
<ul>
<li>复制文件夹</li>
</ul>
<pre><code class="language-shell">cp -R data /root
</code></pre>
<ul>
<li>立刻重启(root用户使用)</li>
</ul>
<pre><code class="language-shell">shutdown -r now
</code></pre>
<ul>
<li>普通 curl</li>
</ul>
<pre><code class="language-shell">curl -i http://localhost
</code></pre>
<ul>
<li>post数据的 curl</li>
</ul>
<pre><code class="language-shell">curl -i -d a=asd 127.0.0.1
</code></pre>
<ul>
<li>列出文件夹里的文件</li>
</ul>
<pre><code class="language-shell">ls
ll
</code></pre>
<ul>
<li>关闭端口</li>
</ul>
<pre><code class="language-shell">iptables -A INPUT -p tcp --dport 111 -j DROP
</code></pre>
<ul>
<li>打开端口</li>
</ul>
<pre><code class="language-shell">iptables -A INPUT -p tcp --dport 111 -j ACCEPT
</code></pre>
<ul>
<li>删除文件</li>
</ul>
<pre><code class="language-shell">rm 文件名
</code></pre>
<ul>
<li>删除文件夹，只能删除空文件夹</li>
</ul>
<pre><code class="language-shell">rm -d 文件夹名
</code></pre>
<ul>
<li>删除文件夹下的全部内容，文件夹里每个文件都需要确认一次</li>
</ul>
<pre><code class="language-shell">rm -r 文件夹名
</code></pre>
<ul>
<li>删除文件夹，不需要确认</li>
</ul>
<pre><code class="language-shell">rm –rf 文件夹名
</code></pre>
<ul>
<li>安装openssh-sever服务器</li>
</ul>
<pre><code class="language-shell">yum install openssh-server
</code></pre>
<ul>
<li>查看正在开放的端口</li>
</ul>
<pre><code class="language-shell">netstat -tanp
</code></pre>
<ul>
<li>处理木马程序可能要用到的命令</li>
</ul>
<pre><code class="language-shell">top
ps
lsof
</code></pre>
<ul>
<li>查看由网络连接的进程</li>
</ul>
<pre><code class="language-shell">lsof -i
</code></pre>
<ul>
<li>使用-p查看指定进程ID已打开的内容</li>
</ul>
<pre><code class="language-shell">lsof -p 10075
</code></pre>
<ul>
<li>解压tar.xz文件，先 xz -d xxx.tar.xz 将 xxx.tar.xz解压成 xxx.tar 然后，再用 tar xvf xxx.tar来解包</li>
</ul>
<pre><code class="language-shell">xz -d xxx.tar.xz
tar xvf xxx.tar
</code></pre>
<ul>
<li>创建tar.xz文件，要先 tar cvf xxx.tar xxx/ 这样创建xxx.tar文件先，然后使用 xz -z xxx.tar 来将 xxx.tar压缩成为 xxx.tar.xz</li>
</ul>
<pre><code class="language-shell">tar cvf xxx.tar xxx/
xz -z xxx.tar
</code></pre>
<ul>
<li>linux查看权限</li>
</ul>
<pre><code class="language-shell">ls -l 文件名或目录名
</code></pre>
<ul>
<li>如何理解 ls -l 的输出</li>
</ul>
<pre><code class="language-shell"> -rwxrwxrwx
第一位是 d 或 -
代表目录或文件
接着三位是所有者的权限
接着三位是同组用户的权限
接着三位是其它用户的权限
r 读 4
w 写 2
x 执行 1
- 无权限 0
</code></pre>
<ul>
<li>linux修改文件权限</li>
</ul>
<pre><code class="language-shell">chmod 数字 文件名
</code></pre>
<ul>
<li>给修改目录下所有文件和子目录的权限</li>
</ul>
<pre><code class="language-shell">chmod -R 数字 目录名
例子
chmod -R 777 ci3
</code></pre>
<ul>
<li>linux 后台运行</li>
</ul>
<pre><code class="language-shell">nohup 命令 &amp;
</code></pre>
<ul>
<li>查看命令是否在运行</li>
</ul>
<pre><code class="language-shell">ps -ef | gerp 命令
</code></pre>
<ul>
<li>停止进程， pid 通过 查看命令是否在运行 获取</li>
</ul>
<pre><code class="language-shell">kill pid
</code></pre>
<ul>
<li>linux 查看用户</li>
</ul>
<pre><code class="language-shell">cat /etc/passwd
用户名:密码:UID:GID:用户信息:HOME目录路径:用户shell
</code></pre>
<ul>
<li>linux 查看用户组</li>
</ul>
<pre><code class="language-shell">cat /etc/group
用户组名:组密码:GID:组内帐号（多个帐号用逗号分隔）
</code></pre>
<ul>
<li>mobaxterm ssh连接设置不超时</li>
</ul>
<pre><code>原因：服务器为了节省资源采取了一些措施，其中一条就是如果检测一个会话(session)几分钟或者几小时没有数据流入或者流出就会断开这个链接；
解决方案：设置SSH keepalive，settings-&gt;configuration-&gt;SSH-&gt;Sessions Settings-&gt;勾选SSH keepalive；
</code></pre>
<h2>php 相关</h2>
<ul>
<li>安装php-fpm</li>
</ul>
<pre><code class="language-shell">yum –y install php-fpm
</code></pre>
<ul>
<li>测试 php-fpm 是否安装成功</li>
</ul>
<pre><code class="language-shell">php-fpm -t
</code></pre>
<ul>
<li>查看 php 配置文件的目录</li>
</ul>
<pre><code class="language-shell">php -ini
</code></pre>
<ul>
<li>启动 php 进程服务</li>
</ul>
<pre><code class="language-shell">service php-fpm start
</code></pre>
<ul>
<li>查看 php 进程服务是否启动成功</li>
</ul>
<pre><code class="language-shell">ps -aux|grep php
</code></pre>
<ul>
<li>查看 php 安装路径</li>
</ul>
<pre><code class="language-shell">whereis php
</code></pre>
<ul>
<li>当php的curl遇到这种问题时
curl: (60) SSL certificate problem: unable to get local issuer certificate</li>
</ul>
<ol>
<li><p>下载一个证书
php -r "readfile('https://raw.githubusercontent.com/bagder/ca-bundle/e9175fec5d0c4d42de24ed6d84a06d504d5e5a09/ca-bundle.crt');" &gt; ca-bundle.crt</p>
</li>
<li><p>把下载的证书复制到 php目录/extras/ssl 下</p>
</li>
<li><p>修改 php.ini
curl.cainfo="php目录/extras/ssl/ca-bundle.crt"</p>
</li>
</ol>
<ul>
<li>如何替换 symfony 4.2 以下版本的 create_function</li>
</ul>
<ol>
<li>全局搜索 create_function</li>
<li>把 create_function 替换为匿名函数</li>
</ol>
<pre><code>例子

 // create_function('$cfgValue', 'return (int) $cfgValue === 0;'),
function ($cfgValue) {return (int) $cfgValue === 0;},
</code></pre>
<ul>
<li>使用 composer 自动加载</li>
</ul>
<ol>
<li>在 composer.json 里添加一项， Acme 是名命空间， src/ 是路径</li>
</ol>
<pre><code class="language-json">    "autoload": {
        "psr-4": {"Acme\\": "src/"}
    }
</code></pre>
<ol start="2">
<li>在命令行里运行</li>
</ol>
<pre><code class="language-shell">composer dump-autoload
</code></pre>
<ol start="3">
<li>也可在代码里添加名命空间，像这样</li>
</ol>
<pre><code class="language-php">$loader = require 'vendor/autoload.php';
$loader-&gt;add('Acme\\Test\\', __DIR__);
</code></pre>
<p>&lt;!--

系统安装和系统启动过程
文件系统
    文件和目录
    打包和压缩
    高级文件系统
文本处理
进程管理
权限管理
    用户 和 用户组
    读 写 执行 权限
终端和bash
软件安装和管理
    编译安装
    包管理器
    docker
网络相关
    网卡
    防火墙
系统的运行状态
常见的系统服务
    sshd
    crond
    systemd
    lamp/lnmp
gui
日志管理
备份与恢复
selinux

https://linux.vbird.org/linux_basic/centos7/
http://c.biancheng.net/linux_tutorial/
http://c.biancheng.net/shell/

--&gt;</p>
