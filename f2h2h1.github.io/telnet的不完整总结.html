<h2><a href="https://github.com/f2h2h1/f2h2h1.github.io/blob/master/article/telnet的不完整总结.md">仓库源文</a>，<a href="https://f2h2h1.github.io/article/telnet的不完整总结">站点原文</a></h2>
<h1>telnet的不完整总结</h1>
<h2>telnet 的简介</h2>
<p>Telnet
(Telecommunication Network)
电信网络</p>
<p>telnet 是最早的互联网协议之一，
telnet ftp 的出现甚至早于 tcp/ip 。
telnet ftp email 最早都出现在 ARPANET ，
telnet ftp 差不多同时出现，
从维基百科的词条来看 telnet 比 ftp 稍微早一点出现</p>
<p>ARPANET</p>
<ul>
<li>Advanced Research Projects Agency Network</li>
<li>高级 研究 计划 局 网络</li>
<li>高级研究计划局网络</li>
<li>阿帕网</li>
<li>ARPANET 就是现在互联网的雏形</li>
</ul>
<p>主要互联网协议和应用出现的时间顺序</p>
<ul>
<li>ARPANET 1969</li>
<li>telnet 1969</li>
<li>ftp 1971</li>
<li>email 1971</li>
<li>mailing list 1975</li>
<li>usenet（新闻组） 1980</li>
<li>telnet bbs 1990</li>
<li>www 1990</li>
<li>ssh</li>
<li>tls</li>
<li>socket5</li>
</ul>
<p>telnet 主要用于管理远程服务器和bbs。
通常 telnet 连接成功后启动的是 login 程序。
bbs很早就出现了，但早期的bbs并不使用 internet ，使用 telnet 的 bbs 要到 1990 才出现。
早期的bbs一般叫做 拨号式bbs，拨号式bbs 使用的是 FidoNet。</p>
<h3>telnet 相关的 rfc</h3>
<table>
<thead><tr>
<th>RFC 编号</th>
<th>标题</th>
<th>内容摘要</th>
</tr>
</thead>
<tbody>
<tr>
<td>RFC 97</td>
<td>First Cut at a Proposed Telnet Protocol</td>
<td>提出了一个初步的 Telnet 协议草案，旨在通过网络虚拟终端（NVT）实现远程终端访问。</td>
</tr>
<tr>
<td>RFC 137</td>
<td>Telnet Protocol - a proposed document</td>
<td>提出了 Telnet 协议的详细规范，定义了用户站点和服务站点之间的交互方式。</td>
</tr>
<tr>
<td>RFC 153</td>
<td>SRI ARC-NIC status</td>
<td>描述了 SRI ARC-NIC 的状态和功能，主要涉及网络信息中心的操作。</td>
</tr>
<tr>
<td>RFC 318</td>
<td>Telnet Protocols</td>
<td>详细说明了 Telnet 协议，包括网络虚拟终端和控制信号的定义。</td>
</tr>
<tr>
<td>RFC 854</td>
<td>Telnet Protocol Specification</td>
<td>规范了 Telnet 协议，提供了双向、八位字节的通信设施，主要用于终端设备和进程之间的接口。</td>
</tr>
<tr>
<td>RFC 855</td>
<td>Telnet Option Specifications</td>
<td>详细说明了 Telnet 协议中的选项机制，允许主机之间进行更复杂的通信。</td>
</tr>
<tr>
<td>RFC 856</td>
<td>Telnet Binary Transmission</td>
<td>定义了 Telnet 二进制传输选项，允许在 Telnet 模块之间进行二进制数据传输。</td>
</tr>
<tr>
<td>RFC 857</td>
<td>Telnet Echo Option</td>
<td>定义了 Telnet 回显选项，允许远程回显由另一个 Telnet 模块处理。</td>
</tr>
<tr>
<td>RFC 859</td>
<td>Telnet Status Option</td>
<td>定义了 Telnet 状态选项，允许用户或进程验证 Telnet 选项的当前状态。</td>
</tr>
<tr>
<td>RFC 860</td>
<td>Telnet Timing Mark Option</td>
<td>提供了一种检查两个 Telnet 模块之间往返路径的方法。</td>
</tr>
<tr>
<td>RFC 861</td>
<td>Telnet Extended Options - List Option</td>
<td>介绍了 Telnet 扩展选项列表，允许查询和设置多个选项。</td>
</tr>
<tr>
<td>RFC 2217</td>
<td>Telnet Com Port Control Option</td>
<td>定义了通过 Telnet 控制串行端口的选项，允许远程管理串行设备。</td>
</tr>
</tbody>
</table>
<h2>telnet 的使用</h2>
<h3>客户端</h3>
<p>安装</p>
<ul>
<li>windows 可以通过控制面板里的 程序和功能 来启用 telnet</li>
<li>linux 可以直接安装<pre><code>  apt install -y telnet
  或者
  apt install -y inetutils
</code></pre>
</li>
<li>在 python 3.11 及之前的版本也包含一个 telnet 的实现<pre><code>  python -m telnetlib 地址 端口
</code></pre>
</li>
<li>在 busybox 里也有有一个 telnet</li>
<li>直接用 nc 也可以，但一些 IAC 会无效</li>
</ul>
<p>客户端的连接命令</p>
<pre><code>telnet 地址
telnet 地址 端口
telnets 地址
telnets 地址 端口
</code></pre>
<p>默认端口</p>
<ul>
<li>telnet 23</li>
<li>telnets 992</li>
</ul>
<p>现在还活跃的 telnet 服务
<a href="https://www.telnet.org/htm/places.htm">https://www.telnet.org/htm/places.htm</a></p>
<p>这个网址里有对 telnet 详细的描述 <a href="https://www.telnet.org/">https://www.telnet.org/</a></p>
<p>既可以用 telnet 打开，也可以用 web 打开的 telnet 服务 telehack.com</p>
<h3>服务端</h3>
<h4>使用 inetd</h4>
<h4>使用单独的进程</h4>
&lt;!--


这是安装服务端
apt install -y telnetd
安装完后
通过 find 找到
find / -name telnetd
通过 man 查看文档
man telnetd

这是安装客户端
apt install -y telnet

还有一个这样的程序？这个才是 telnetd 的主程序？
/usr/sbin/in.telnetd

还有一个这样的程序？这个程序是跟随 inetd 安装的
/usr/sbin/tcpd
在 inetd 默认的配置中 telnetd 是通过这个程序启动的

还有一个这样的程序？这个就是默认情况下，在telnetd里连接成功后的登录程序，这个程序是跟随 telnetd 安装的
/usr/lib/telnetlogin

从文档来看
安装完 telnetd 和 inetd 后
只要改好配置文件 /etc/inetd.conf
    大概就是把配置写成这个样子
    telnet          stream  tcp     nowait  telnetd /usr/sbin/tcpd  /usr/sbin/in.telnetd
重启 inetd 
就可以成功开启 telnetd 服务了

--&gt;

<h2>telnet 的原理</h2>
&lt;!--

https://github.com/mirror/busybox/blob/master/networking/telnet.c
https://github.com/mirror/busybox/blob/master/networking/telnetd.c

https://docs.python.org/zh-cn/3/library/telnetlib.html
https://github.com/python/cpython/tree/3.12/Lib/telnetlib.py
    这个文件似乎能直接左右 telnet 客户端使用
    python telnetlib.py [-d] ... [host [port]]
https://www.cnblogs.com/mrlayfolk/p/15154813.html

https://github.com/search?q=telnet+language%3AC&amp;type=repositories&amp;l=PHP&amp;s=stars&amp;o=desc
https://github.com/fijiwebdesign/php-telnet
https://github.com/diotteo/TelnetClient.php

python已经放弃了 telnet
https://peps.python.org/pep-0594/#telnetlib
cgi smtpd 也都被抛弃了。。。

https://packages.debian.org/search?keywords=telnet
https://www.gnu.org/software/inetutils

--&gt;

<h2>其他远程管理工具</h2>
<p>telnet 是最古老的，然后是 rlogin ， 然后是 ssh</p>
<h3>rlogin</h3>
<p>rexec/rlogin/rsh 都属于 rsh-server 包，又或者叫做 Berkeley r-commands</p>
<p>包含了这几个命令</p>
<ul>
<li>rlogin<ul>
<li>rlogin 类似于 telnet ，但因为是专用于远程shell的协议，所以实现起来比 telnet 更简单，连接速度也会稍微快一点，但也是只支持交互式的shell</li>
</ul>
</li>
<li>rexec<ul>
<li>rexec 和 rlogin 差不多但只支持非交互式shell，就是一次只能执行一行命令</li>
</ul>
</li>
<li>rsh<ul>
<li>既支持交互式 shell 也支持非交互式 shell ，可以简单地看作 rlogin + rexec</li>
<li>rsh 和现代的 ssh 很类似了，只是少了加密的功能</li>
</ul>
</li>
<li>rcp</li>
<li>rstat 从内核返回性能统计信息。</li>
<li>ruptime 显示自上次重新启动以来 Unix 系统运行了多长时间</li>
<li>rwho 列出登录到本地网络上所有多用户 Unix 系统的用户</li>
</ul>
<p>在 gnu 的 inetutils 包里也有包含 rlogin 命令</p>
<h3>ssh</h3>
<h3>其它</h3>
<ul>
<li>r rcmd rscript rtrem<ul>
<li>这几个是 dos 或 windows 的</li>
</ul>
</li>
<li>RFB 和 RDP 都是用于图形界面的<ul>
<li>RFB 就是 vnc 使用的协议</li>
<li>RDP 就是 windows 远程桌面使用的协议</li>
</ul>
</li>
<li>无论是哪一种，本质上都是建立连接然后传输数据，传输控制数据和图像数据</li>
</ul>
<h2>如何实现一个 telnet</h2>
<h3>服务端</h3>
<h3>客户端</h3>
&lt;!--

c 如何实现一个交互式的命令行？
php 如何实现一个交互式的命令行？
python 如何实现一个交互式的命令行？

个人感觉 python 的 api 不稳定，总是有变动，
c 不能方便地跨平台编译而且处理字符串也很麻烦，
php 的多进程不好用，


没想到在 busybox 里也有有一个 telnet 和 telnetd
虽然windows版里没有，
但登录后只能启动shell，目测 telnetd 默认启动的是 /bin/login
指定了 -l 参数，就可以启动其它程序，但似乎这个又不需要登录了
如果 -l 的程序退出了，连接也会跟着关闭

所以这两条命令效果是一样的
telnetd
telnetd -l /bin/login


猜测 ssh telnet 等登录方式都是调用 /bin/login



telnet telehack.com
直接用浏览器打开也可以


telnet 似乎也可以作为 ftp 的客户端？
https://blog.csdn.net/nowhere_/article/details/44877439




--&gt;