<h2><a href="https://github.com/barretlee/blog/blob/master/blog/src/_posts/2016-04-28-javascript-performance-tester.md">仓库源文</a>，<a href="https://www.barretlee.com/blog/2016/04/28/javascript-performance-tester">站点原文</a></h2>
<p>平时写些小页面小程序，一般不会出现性能问题，但是在大的工程，或者在写一个框架、类库的时候，代码的性能就需要提高一个优先级了。测试代码的性能有多种方案：</p>
<ul>
<li>在 <a href="http://jsperf.com">http://jsperf.com</a> 上测试</li>
<li>使用 <code>console.time</code> 来收集代码执行的时间<pre><code class="lang-javascript">console.time('Name');
// code here...
console.timeEnd('Name');
</code></pre>
</li>
<li>自己写一个时间控制器</li>
</ul>
&lt;!--more--&gt;

<p>本文自然就是自己撸一个简单易用的测试工具，效果如下图：</p>
<p><img alt="JavaScript 代码执行效率对比工具" src="/Users/xuanwu/work/聚聚/中文博客集锦/源数据/博客聚合/www.barretlee.com/blog/src/_posts/../blogimgs/2016/04/28/TB1d238JpXXXXcoXFXXXXXXXXXX-446-570.gif"/>&lt;!--&lt;source src="https://img.alicdn.com/tps/TB1d238JpXXXXcoXFXXXXXXXXXX-446-570.gif"&gt;--&gt;</p>
<h3>设计分析</h3>
<p>可以先把代码下载下来，跑起来：</p>
<pre><code class="lang-bash">git clone //github.com/barretlee/performance.git
cd performance/test;
open index.html;
</code></pre>
<p>或者直接打开测试页面：<a href="http://barretlee.github.io/performance/test/">http://barretlee.github.io/performance/test/</a>。</p>
<p>点击代码按钮，Performance 会循环执行 button 中的代码，持续时间是设定的 1000ms，每次执行完，都会计算出相对效率，100% 是效率最高的，剩下的自然就是效率比较低的，从而可以比较清晰地看出程序之间性能差异。</p>
<h3>相关阅读</h3>
<ul>
<li><a href="http://share.web-tinker.com/performance.js">http://share.web-tinker.com/performance.js</a></li>
</ul>
