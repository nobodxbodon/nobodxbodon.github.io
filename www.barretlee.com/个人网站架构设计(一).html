<h2><a href="https://github.com/barretlee/blog/blob/master/blog/src/_posts/2014-05-13-cb-personal-website-design-part-1.md">仓库源文</a>，<a href="https://www.barretlee.com/blog/2014/05/13/cb-personal-website-design-part-1">站点原文</a></h2>
<hr/>
<p>title: 个人网站架构设计(一)
categories:</p>
<ul>
<li>前端杂烩
tags:</li>
<li>tech</li>
<li>cnblogs
date: 2014-05-13 11:13:00
fromUrl: <a href="http://www.cnblogs.com/hustskyking/archive/2014/05/13/personal-website-design-part-1.html">http://www.cnblogs.com/hustskyking/archive/2014/05/13/personal-website-design-part-1.html</a>
from: 博客园</li>
</ul>
<hr/>
&lt;p&gt;网站地址：&lt;a href="http://barretlee.com"&gt;http://barretlee.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;从大二开始，坚持每月3到8篇的技术分享，到现在差不多两年了。一直在分享之中跟着大家一起进步，从最开始的&lt;a href="http://qianduan-notes.diandian.com/" target="_blank"&gt;点点网&lt;/a&gt;，到&lt;a href="//github.com/barretlee/" target="_blank"&gt;github&lt;/a&gt;，再到现在的博客园。分享是一件有趣的事情，能够收到很多的反馈，渐渐地，已经把写博当成一种习惯。&lt;/p&gt;
&lt;p&gt;在不同的平台上写博客会有不同的感受，但是几乎没有哪个平台可以满足自己的所有需求，比如，期望没有广告、希望速度可以更快、自己可以更多的操作后端、找个地方放DEMO、有个NodeJS测试的环境、自定义样式和主题等等，对我这个喜欢折腾的人来说，这些需求真是太普通了，可惜，没有哪个平台可以提供这么多的服务。再如，我希望把更多的生活中元素或者情感的东西带到博客中来，这些平台貌似不太适合做这些事情。&lt;/p&gt;
&lt;p&gt;无奈之下只好自己花点钱买个主机安置个人网站。搭建一个网站是一个系统学习前后端的最佳机会，之前考虑过使用别人的框架，快捷搞定一个博客平台，但是我希望这次的网站架设能够承受几十万甚至上百万的PV（哈哈，这个可能性几乎为零，主要为了提高标准），同时也支持一些诸如陌生人交流，网站爬虫归类等等附加的功能。用商业性网站的建站标准来规范化网站，也给自己一个实践的机会~&lt;/p&gt;
&lt;p&gt;花了四五个小时整理了思路，考虑的东西有点多，所以通过文字将建站的整个过程记录下来。&lt;/p&gt;
&lt;h3&gt;1、网站定位&lt;/h3&gt;
&lt;p&gt;记录生活，分享交流。凸显交流。&lt;/p&gt;
&lt;h3&gt;2、设计理念&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;重视体验&lt;/li&gt;
&lt;li&gt;数据在前端&lt;/li&gt;
&lt;li&gt;实时更新&lt;/li&gt;
&lt;li&gt;快、稳定、安全&lt;/li&gt;
&lt;li&gt;自动化&lt;/li&gt;
&lt;li&gt;低消耗、低流量&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;3、基本架构&lt;/h3&gt;

```
+------------------+     +------------------+
| Front-End        |     | Browser          |
|                  |     |                  |
|     前端处理      |     +--------------+   |
|                  |←---→| LocalStorage |   |
+--↑-----↑-----↑---+     +--------------+---+
   |     |     |
+--↓-----↓-----↓---+
| NodeJS           |     +-------------+
|     处理I/O      |     | Database    |
|                  |←-+-→|             |
+-----|-----↑------+  |  |             |
      |     |         |  |             |
+-----↓-----|------+  |  +----------+  |
| PHP              |  |  |          |  |
|     处理数据      |←-+-→|   cache  |  |
|                  |     |          |  |
+------------------+     +----------+--+  

```



&lt;p&gt;三个重点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;前端数据缓存。数据放在本地LocalStorage中，用户每次访问网站，都会从数据库拉去数据，同步到本地。低版本IE基本快死绝了，这个降级处理。&lt;/li&gt;
&lt;li&gt;NodeJS 处理I/O，如果某个页面的单日访问量太大，不至于服务器扛不住。由于全站使用socket连接，利用NodeJS也便于后端编程。&lt;/li&gt;
&lt;li&gt;数据库对针对访问频率进行cache。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;4、基本模块&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;留言，多个位置使用，组件化处理&lt;/li&gt;
&lt;li&gt;自动化分享，发布文章自动分享到 SNS 上&lt;/li&gt;
&lt;li&gt;防盗链/盗链&lt;/li&gt;
&lt;li&gt;数据自动备份&lt;/li&gt;
&lt;li&gt;后台发文系统&lt;/li&gt;
&lt;li&gt;提问交流平台&lt;/li&gt;
&lt;li&gt;陌生人交流模块&lt;/li&gt;
&lt;li&gt;最新资讯的爬虫&lt;/li&gt;
&lt;li&gt;RSS聚合&lt;/li&gt;
&lt;li&gt;QQ回复/邮件自动回复功能&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;后续会针对每个功能模块，进行详细的记录。&lt;/p&gt;