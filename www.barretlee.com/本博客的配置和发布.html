<h2>原文：<a href="https://www.barretlee.com/2019-10-27-blog-config.html">本博客的配置和发布</a></h2>
<hr/>
<p>title: 本博客的配置和发布
description: 小胡子哥的个人网站
author: 小胡子哥
tags:</p>
<ul>
<li>'Blog'
categories:</li>
<li>随笔
date: 2019-10-27 23:54:00</li>
</ul>
<hr/>
<p>分享下我个人博客（<a href="https://www.barretlee.com">https://www.barretlee.com</a>）的配置和发布：</p>
<h3>1. 域名</h3>
<p>在 DNSPod 上配置的域名，默认解析到 coding pages，国外解析到 github pages，DNSPod 支持 D 监控，当域名不可用时会邮件警报。</p>
<p>coding 支持绑定多个域名，也支持给所有绑定的域名自动配置证书，github 只能绑定一个域名，这就会导致 www.barretlee.com 和 barretlee.com 只能有一个是 https，比较坑，貌似 Google 的 DNS 解析服务能够解决这个问题，国内的似乎都不行。</p>
<h3>2. 开发</h3>
<p>使用 hexo 构建，由于文章比较多，超过 300 篇，构建时长约 6min，很慢；hexo 支持多 git 仓库部署，我配置了 coding 和 github 两个。</p>
<p>使用了不少 hexo 的插件，但是很多都不满足需求，不满足需求的插件都重新改写了。平时使用改写的 hexo-admin 在本地编辑内容。</p>
<p><img alt="blog config admin" src="/media/wwww/share/study/聚聚/源数据/博客聚合/www.barretlee.com../blogimgs/2019/10/27/blog-config-admin.png"/></p>
<h3>3. 部署</h3>
<p>以前每次都是本地编辑文章，然后构建发布，发现错别字，又回到本地编辑、构建、发布，体验十分差，所以近两年都懒得写文章了，宁愿发长微博。</p>
<p>本周末折腾了一番，接入了 travis-ci，发现还挺好用，只是配置的时候需要注意点 git 仓库权限问题，可以参考 <a href="https://github.com/barretlee/blog/blob/master/.travis.yml">https://github.com/barretlee/blog/blob/master/.travis.yml</a> 解决问题，后续写文章应该会直接走 github 网页新建文件。</p>
<p><img alt="blog config travis" src="/media/wwww/share/study/聚聚/源数据/博客聚合/www.barretlee.com../blogimgs/2019/10/27/blog-config-travis.png"/></p>
<h3>4. 评论</h3>
<p>从多说到畅言到 github issue，估计不会再继续折腾了，看了两个开源的 github issue 评论组件，gitment 和 gitalk ，这两个工具都有点像半成品，感觉还有很大的优化空间，由于 gitalk UI 稍微看得舒服点，将就着用了，效果如图四。历史评论就懒得迁移了。</p>
<p><img alt="blog config comment" src="/media/wwww/share/study/聚聚/源数据/博客聚合/www.barretlee.com../blogimgs/2019/10/27/blog-config-comment.png"/></p>
<p>周末把博客 UI 的部分细节做了调整，估计后续三五年都不会再折腾博客设计了。</p>
