<h2><a href="https://github.com/sakurawald/sakurawald.github.io/blob/master/source/_posts/make-persistent-windows-11-usb-sticker.md">仓库源文</a>，<a href="https://sakurawald.github.io/posts/make-persistent-windows-11-usb-sticker">站点原文</a></h2>
<h1>Make persistent windows 11 usb sticker</h1>
<h2>Background</h2>
<p>Sometimes, you just don't want to run windows as a <code>guest os</code> in your linux <code>host os</code>.
And you don't want to install windows inside your <code>internal disk</code>.
You may want to install the windows os inside your <code>usb sticker</code>, and boot it in any other hardware to use the hardware. (mostly the gpu hardware)</p>
<h2>Steps</h2>
<h3>Download rufus</h3>
<p>Download <code>rufus (4.4.2103)</code> and run it.</p>
<h3>Enable hdd support</h3>
<p>In <code>rufus</code>, press <code>alt + f</code> to enable <code>hdd list</code></p>
<h3>Burn windows installer into your sticker</h3>
<p>For <code>UEFI</code> bios, you need to select <code>partition scheme</code> as <code>gpt</code>
<strong>and select <code>image option</code> as <code>windows to go</code></strong></p>
<blockquote><p>If you just use <code>dd</code> command, then you are making a sticker for <code>windows installer sticker</code> purpose.
You need to select <code>windows to go</code> so that <code>refus</code> will create the <code>gpt partition</code> and <code>extract all windows files from windows iso</code>, then you just made a sticker for <code>windows to go (a persistent windows inside your sticker</code>
In other words, <code>rufus</code> will detect the <code>iso file</code> as <code>windows installer iso</code> and then emulates the <code>windows install process</code> in your host os</p>
</blockquote>
