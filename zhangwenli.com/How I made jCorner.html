<h2>原文：<a href="http://zhangwenli.com/blog/2014/02/09/how-i-made-jcorner">How I made jCorner</a></h2>
<hr/>
<p>title: How I made jCorner
time: 2014.02.09 22:08:18
layout: post
tags:</p>
<ul>
<li>CSS</li>
<li>jQuery</li>
<li>JavaScript</li>
<li>Project
excerpt: In this post, I'm going to explain how to make &lt;a href="http://zhangwenli.com/jCorner" target="_blank"&gt;jCorner&lt;/a&gt;, a jQuery plugin to create paper folding effect at the bottom-right corner.
series: How I made ...</li>
</ul>
<hr/>
<blockquote>
<h4>What You Will Learn In This Post</h4>
</blockquote>
<blockquote>
<p>In this post, I'm going to explain how to make &lt;a href="http://zhangwenli.com/jCorner" target="_blank"&gt;jCorner&lt;/a&gt;, a jQuery plugin to create paper folding effect at the bottom-right corner.</p>
</blockquote>
<p>&lt;img src="{{ site.loadingImg }}" data-src="{{ site.url }}/img/post/2014-02-09-how-i-made-jcorner-1.png" /&gt;</p>
<p>&lt;a href="http://zhangwenli.com/jCorner" target="_blank"&gt;jCorner&lt;/a&gt; is a jQuery plugin to create paper folding effect at the bottom-right corner, as shown above.</p>
<p>I used <em>CSS Border tricks</em> to make this, without using any image. So, we can use this plugin to create foldered corner of any size.</p>
<p>#CSS Border</p>
<p>CSS Border is an attribute that even beginners of Web programmers are familiar with. We use styles like <code>border: 1px solid #f00;</code> to create borders everywhere.</p>
<p>Now, CSS Border has a new use to us.</p>
<p>&lt;a href="http://jonrohan.me/guide/css/creating-triangles-in-css/" target="_blank"&gt;Jonrohan&lt;/a&gt; explained in detail how to use this trick to create triangles. The main idea is to create an element of <code>width: 0; height: 0;</code> and set the width of four borders respectively and thus creating four triangles.</p>
<p>&lt;div style="border-color: red green blue orange; border-style:solid; border-width:25px 10px 15px 30px; width:0; height:0;"&gt;&lt;/div&gt;</p>
<p>{% highlight css %}
.css-arrow-acute {
border-color: red green blue orange;
border-style: solid;
border-width: 25px 10px 15px 30px;
width: 0;
height: 0;
}
{% endhighlight %}</p>
<p>#Divide-and-Conquer</p>
<p>&lt;div style="width: 200px; height: 100px; background-color: #11A7FC; position: relative;"&gt;
    &lt;div class="jCorner" style="position: absolute; bottom: 0; right: 0; width: 50px; height: 25px;"&gt;
        &lt;div class="jCorner_left" style="width: 0; height: 0; border-color: transparent transparent #999 transparent; border-width: 0 0 25px 25px; border-style: solid; float: left; z-index: 10; opacity: 0.6;"&gt;&lt;/div&gt;
        &lt;div class="jCorner_right" style="width: 0; height: 0; border-width: 0 0 25px 25px; border-color: transparent transparent #eee transparent; border-style: solid; float: left;"&gt;&lt;/div&gt;
        &lt;div class="jCorner_center" style="border-width: 25px 25px 0 0; left: 25px; top: -25px; border-color: #fff transparent transparent transparent; width: 0; height: 0; position: relative; float: left; z-index: 10; opacity: 0.6; border-style: solid;"&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</p>
<p>In order to generate paper folding effect as shown above, we need to divide them into three triangles and then use CSS Border to create them all.</p>
<p>##<code>.jCorner</code></p>
<p>First, we create a div <code>&lt;div class="jCorner"&gt;&lt;/div&gt;</code> to be positioned at the bottom-right coner, which will later be the root of our foldering corner elements.</p>
<p>Suppose each triangle's right-angle sides are of <code>25px</code>, then, width and height of <code>.jCorner</code> should be set to <code>width: 50px; height: 25px;</code>.</p>
<p>In order to make it at the bottom-right part of its parent, we had to set <code>position</code> of its parent (the one with blue blackground) to be <code>relative</code>. And then set <code>position</code> of <code>.jCorner</code> to be <code>absolute</code>, and <code>bottom: 0; right: 0;</code>.</p>
<p>{% highlight css %}
.jCorner {
position: absolute;
bottom: 0;
right: 0;
width: 50px;
height: 25px;
}
{% endhighlight %}</p>
<p><code>.jCorner</code> has three children representing three triangles.</p>
<p>{% highlight html %}</p>
<p>&lt;div class="jCorner"&gt;
    &lt;div class="jCorner_left"&gt;&lt;/div&gt;
    &lt;div class="jCorner_right"&gt;&lt;/div&gt;
    &lt;div class="jCorner_center"&gt;&lt;/div&gt;
&lt;/div&gt;
{% endhighlight %}</p>
<p>That's all we need to do with <code>.jCorner</code>.</p>
<p>##<code>.jCorner_left</code></p>
<p>We use the CSS Border tricks to create triangls, as talked before.</p>
<p>{% highlight css %}
.jCorner_left {
width: 0;
height: 0;
border-color: transparent transparent #999 transparent;
border-width: 0 0 25px 25px;
border-style: solid;
float: left;
z-index: 10;
opacity: 0.6;
}
{% endhighlight %}</p>
<p>##<code>.jCorner_right</code></p>
<p>Watch carefully and you may find that <code>.jCorner_left</code> and <code>.jCorner_right</code> are of the same direction and only differ in color.</p>
<p>{% highlight css %}
.jCorner_right {
width: 0;
height: 0;
border-color: transparent transparent #eee transparent;
border-width: 0 0 25px 25px;
border-style: solid;
float: left;
}
{% endhighlight %}</p>
<p>##<code>.jCorner_center</code></p>
<p><code>.jCorner_center</code> is a little bit different from the former two. Pay attention to the difference with border attributes.</p>
<p>{% highlight css %}
.jCorner_center {
border-width: 25px 25px 0 0;
left: 25px;
top: -25px;
border-color: #fff transparent transparent transparent;
width: 0;
height: 0;
position: relative;
float: left;
z-index: 10;
opacity: 0.6;
border-style: solid;
}
{% endhighlight %}</p>
<p>By now, we can create folding effect completely. Next, we need to make a jQuery plugin, which can set the size and more.</p>
<p>#jQuery Plugin</p>
<p>This is the second jQuery plugin I wrote. Last year, I wrote &lt;a href="http://01org.github.com/jWebAudio/" target="_blank"&gt;a jQuery plugin for Web Audio&lt;/a&gt;, so it's easy for me to pick it up a year later.</p>
<p>jQuery official site provides &lt;a href="http://learn.jquery.com/plugins/basic-plugin-creation/" target="_blank"&gt;a good example&lt;/a&gt; to start.</p>
<p>For jCorner, it's quite simple to implement. The idea is to generate a string to append to the parent element. Don't forget to set <code>position</code> of the parent to be <code>relative</code>.</p>
<p>{% highlight js %}
(function($) {
$.fn.jCorner = function(options) {
return this.each(function() {
var settings = $.extend({
size: 40,
id: undefined,
link: undefined,
background: '#fff'
}, options);</p>
<pre><code>        var id = settings.id === undefined ? '' : ' id="' 
                + settings.id + '"';
        var a_start = settings.link === undefined ? '' : '&lt;a href="'
                + settings.link + '" target="_blank"&gt;';
        var a_end = settings.link === undefined ? '' : '&lt;/a&gt;';
        var element = '&lt;div' + id + ' class="jCorner" style="width: '
                + settings.size * 2 + 'px; height: ' + settings.size
                + 'px;"&gt;' + a_start
                + '&lt;div class="jCorner_left" style="border-width: 0 0 '
                + settings.size + 'px ' + settings.size 
                + 'px;"&gt;&lt;/div&gt;&lt;div class="jCorner_square" '
                + 'style="border-width: 0 0 ' + settings.size + 'px '
                + settings.size 
                + 'px; border-color: transparent transparent ' 
                + settings.background 
                + ' transparent;"&gt;&lt;/div&gt;&lt;div class="jCorner_right" '
                + 'style="border-width: ' + settings.size + 'px ' 
                + settings.size + 'px 0 0; left: ' + settings.size 
                + 'px; top: -' + settings.size + 'px;"&gt;&lt;/div&gt;' 
                + a_end;

        return $(this).append(element).css('position', 'relative');
    });
}</code></pre>
<p>}(jQuery));</p>
<p>{% endhighlight %}</p>
<p>&lt;a href="https://github.com/Ovilia/jCorner" target="_blank"&gt;View on GitHub&lt;/a&gt;</p>
