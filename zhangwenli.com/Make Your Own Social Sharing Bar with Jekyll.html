<h2><a href="https://github.com/Ovilia/blog/blob/gh-pages/_posts/2014-08-03-make-your-own-social-sharing-bar-with-jekyll.md">仓库源文</a>，<a href="http://zhangwenli.com/blog/2014/08/03/make-your-own-social-sharing-bar-with-jekyll">站点原文</a></h2>
<blockquote><h4>What will you learn in this post?</h4>
<p>From time to time do we need a customerized social sharing bar for our blog, for reasons like to harmonize the appearance of the share link with blog. This post talks about how to use Jekyll to generate static links for blog posts, with no JavaScript or anything difficult involved.</p>
</blockquote>
<h1>Sharing Service</h1>
<p>SNS usually provides sharing service that takes parameters in URL and then generates a sharing post. Take &lt;a href="https://twitter.com" target="_blank"&gt;Twitter&lt;/a&gt; for example, we can enter the following address in the address bar, &lt;a href="https://twitter.com/intent/tweet?text=hello+world&amp;url=http://google.com" target="_blank"&gt;https://twitter.com/intent/tweet?text=hello+world&amp;url=http://google.com&lt;/a&gt;. Since I'm logged in as &lt;a href="https://twitter.com/OviliaZhang" target="_blank"&gt;@OviliaZhang&lt;/a&gt;, I can see something like this.</p>
<p>&lt;img src="{{ site.loadingImg }}" data-src="{{ site.url }}/img/post/2014-08-03-make-your-own-social-sharing-bar-with-jekyll-01.png" /&gt;</p>
<h1>Using Jekyll</h1>
<h2>Generate Static Link</h2>
<p>The following steps are quite clear.</p>
<p>We first get information (e.g. page title, url, and etc.) from Jekyll and then use that to generate static page. For example, in a post layout, I can write the following code.</p>
&lt;script src="https://gist.github.com/Ovilia/906e8a1ed4bfdae5d9a3.js"&gt;&lt;/script&gt;<h2>Add Tags</h2>
<p>Further more, we can add tags to this post.</p>
<p>Twitter uses tag lists in the URL in the form of <code>tag=apple,orange,banana</code>. So we can use <code>capture</code> to do this.</p>
&lt;script src="https://gist.github.com/Ovilia/e479e5b17fb2b49a67a4.js"&gt;&lt;/script&gt;<p>In each iteration, a tag in <code>page.tags</code> is appended to <code>tagStr</code> following with a comma.</p>
<h2>Shorten URL</h2>
<p>Since Twitter allows at most 140 characters in each tweet, we'd better shorten our post URL, which can be sometimes as long as <code>http://zhangwenli.com/blog/2014/07/30/04-more-about-css-position/</code>.</p>
<p>We can use URL shorten services like &lt;a href="https://goo.gl/" target="_blank"&gt;https://goo.gl/&lt;/a&gt;.</p>
<blockquote><p>For Google Plus, however, you may probably want to use original URL rather than shortened one, since it will fail to craw content if you use the shortened URL.</p>
</blockquote>
<p>After we get the shortened URL, we should add it to each post.</p>
<h2>{% highlight text %}</h2>
<p>title: Make Your Own Social Sharing Bar with Jekyll
time: 2014.08.03 23:29:19
layout: post
tags:</p>
<ul>
<li>Jekyll</li>
<li>ShareLink</li>
<li>SocialShare
series: Dive into Web Front-End Programming
shortUrl: <a href="http://goo.gl/WtLs40">http://goo.gl/WtLs40</a>
excerpt: From time to time do we need a customerized social sharing bar for our blog, for reasons like to harmonize the appearance of the share link with our blog. This post talks about how to use Jekyll to generate static links for blog posts, with no JavaScript or anything difficult involved.</li>
</ul>
<hr/>
<p>{% endhighlight %}</p>
<p>Then, in the post layout, we should check if <code>shortUrl</code> is <code>null</code>, so that we don't have to add <code>shortUrl</code> to all of our old posts.</p>
&lt;script src="https://gist.github.com/Ovilia/91e4a71cfed792aae5ec.js"&gt;&lt;/script&gt;<h1>Prepare SNS Icons</h1>
<p>As we said, we are making our own sharing bar since we want it looks well with our blog style, so you need to make SNS icons to fit with blog.</p>
<p>Icons I used are modified based on the works by Daniel Bruce, Elegant Themes, Freepik, SimpleIcon, Icomoon from &lt;a href="http://www.flaticon.com" title="Flaticon"&gt;www.flaticon.com&lt;/a&gt;, which is a great place to find licensed icons.</p>
<h1>Final Results</h1>
<p>Other sharing services are quite similar. I've implemented that of Twitter, Facebook, Google Plus, LinkedIn, and Sina Weibo. Here's the complete code.</p>
&lt;script src="https://gist.github.com/Ovilia/13d261366ad91aecc202.js"&gt;&lt;/script&gt;<p>Now, why not share this post with the following buttons? :smiley:</p>
<div class="about-author">
  <div class="license">
      <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/" target="_blank">
          <img alt="Creative Commons License" style="border-width:0" src="http://zhangwenli.com/blog/img/cc.png">
      </a>
      <div><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Every blog post in this site</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://zhangwenli.com" property="cc:attributionName" rel="cc:attributionURL">Wenli Zhang</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/" target="_blank">CC 3.0 License</a>, based on a work at <a xmlns:dct="http://purl.org/dc/terms/" href="http://github.com/ovilia/blog" rel="dct:source" target="_blank">Github</a>. You can see the source code of this blog site at <a href="https://github.com/Ovilia/blog/tree/gh-pages" target="_blank">github.com/Ovilia/blog</a>.</div>
  </div>
  <div class="follow-me">
      <div class="follow-me-txt">Follow <strong>Wenli Zhang</strong> at</div>
      <a class="social-share-element social-twitter" href="https://twitter.com/OviliaZhang" target="_blank" title="Follow me on Twitter" onclick="_gaq.push(['_trackEvent', 'Follow', 'Twitter', window.location.pathname]);"></a>
<a class="social-share-element social-google" href="https://plus.google.com/u/0/112802684720065263732?rel=author" target="_blank" title="Follow me on Google Plus" onclick="_gaq.push(['_trackEvent', 'Follow', 'GPlus', window.location.pathname]);"></a>
<a class="social-share-element social-github" href="https://github.com/Ovilia" target="_blank" title="Follow me on GitHub" onclick="_gaq.push(['_trackEvent', 'Follow', 'GitHub', window.location.pathname]);"></a>
<a class="social-share-element social-so" href="http://stackoverflow.com/users/760314/ovilia" target="_blank" title="Follow me on StackOverflow" onclick="_gaq.push(['_trackEvent', 'Follow', 'StackOverflow', window.location.pathname]);"></a>
<a class="social-share-element social-linkedin" href="http://www.linkedin.com/profile/view?id=148742016" target="_blank" title="Follow me on LinkedIn" onclick="_gaq.push(['_trackEvent', 'Follow', 'LinkedIn', window.location.pathname]);"></a>
<a class="social-share-element social-dribbble" href="https://dribbble.com/wenli" target="_blank" title="Follow me on Dribbble" onclick="_gaq.push(['_trackEvent', 'Follow', 'Dribbble', window.location.pathname]);"></a>
<a class="social-share-element social-weibo" href="http://weibo.com/plainjane" target="_blank" title="Follow me on Sina Weibo" onclick="_gaq.push(['_trackEvent', 'Follow', 'Weibo', window.location.pathname]);"></a>
<a class="social-share-element social-douban" href="http://www.douban.com/people/ovilia1024/" target="_blank" title="Follow me on Douban" onclick="_gaq.push(['_trackEvent', 'Follow', 'Douban', window.location.pathname]);"></a>

  </div>
  <div style="clear: both"></div>
</div>