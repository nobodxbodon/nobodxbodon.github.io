<h2><a href="https://github.com/Young-Lord/Young-Lord.github.io/blob/master/_posts/2022-09-11-软件层面禁用安卓音量键.md">仓库源文</a>，<a href="https://young-lord.github.io/posts/disable-android-volume-key">站点原文</a></h2>
<hr/>
<p>tags: [Android, 小米 Mix 2S]
title: 软件层面禁用安卓音量键
last_modified_at: 2023-2-1
slug: disable-android-volume-key
redirect_from:</p>
<h2>  - /posts/软件层面禁用安卓音量键</h2>
<h2>起因</h2>
<p>由于本人的手机<code>音量+</code>会自动被按下，故屏蔽以防止音量突然被拉满</p>
<p>以下内容基于 crDroid 6.1, Android 10</p>
<h2>物理方案</h2>
<p>从侧边和后盖分别对着音量键弹几下，
再不行就拆开后盖从背后弹几下，
使用<code>su -c getevent</code>验证</p>
<h2>做法</h2>
<p>以下内容依赖于 <strong>Magisk</strong>，<code>YOUR_MODULE_NAME</code>请自行修改为你的 Magisk 模块的目录</p>
<p>若未安装 Magisk 但解锁了 system 分区，也可以直接更改该文件</p>
<ol>
<li>将<code>/system/usr/keylayout/gpio-keys.kl</code>复制为<code>/data/adb/modules/YOUR_MODULE_NAME/system/usr/keylayout/gpio-keys.kl</code></li>
<li>在<code>VOLUME_UP</code>出现那一行最前面插入<code>#</code></li>
<li>保存，重启手机。</li>
</ol>
<p>注意：本方法无法完全屏蔽 KeyEvent，因此对于 Termux 这类监听了<code>onKeyDown</code>的软件，你需要额外使用我写的Xposed模块。</p>
<p><a href="https://github.com/Young-Lord/Xposed-TermuxFix/releases/download/v1/moe.lyniko.termux_fix_v1.apk">Xposed模块下载</a></p>
<div class="license">
  <p>本文遵守 <a itemprop="license" rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA-4.0</a> 许可协议。<a href="https://github.com/Young-Lord/Young-Lord.github.io/blob/master/README.md#%E5%A3%B0%E6%98%8E">（不允许转载至简书或 CSDN）</a>
    <a rel="license" aria-label="详细了解协议内容" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
<!--        <img alt="CC BY-NC-SA-4.0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" />-->
    </a>
  </p>
</div>