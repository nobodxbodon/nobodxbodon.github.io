<h2><a href="https://github.com/wa008/wa008.github.io/blob/master/_posts/2023-08-06-top-hack-news项目.md">仓库源文</a>，<a href="https://informal.top/2023/08/06/top-hack-news项目">站点原文</a></h2>
<h1>背景</h1>
<p>Hack News 的新闻质量一直是毋庸置疑的，但榜单更新太快，主页也过于简单，为此很多人做了相关的扩展。</p>
<p>比如 Hack News 根据 score 进行 rss <a href="https://hnrss.github.io/">订阅</a>、hackNews 客户端分类型的top榜单。</p>
<p>结合从个人开发者论坛学到的"个人项目要从维护成本考虑，比如能不用server就不用server"，想到利用 github pages 刚好可以做一个定时爬取，静态展示的页面。</p>
<h1>实现</h1>
<h3>1. 读取</h3>
<p>利用 github action 功能，例行调用 hacknews 的API，定时获取最新的top1新闻，</p>
<p>具体用 shell 实现，hack news 的 <a href="https://github.com/HackerNews/API">API</a> 是真的简洁。但简单的 API 已经足够用了。</p>
<p>编码实现：<a href="https://github.com/wa008/wa008.github.io/blob/main/topHackNews/runHackNews.sh">https://github.com/wa008/wa008.github.io/blob/main/topHackNews/runHackNews.sh</a></p>
<h3>2. 存储</h3>
<p>读取后存储到github 仓库中。</p>
<p>github action 确实做的丝滑，action中每次push代码默认不需要输入token，直接push就行，体验很棒。</p>
<p>代码实现：<a href="https://github.com/wa008/wa008.github.io/blob/main/.github/workflows/getHackNews.yml">https://github.com/wa008/wa008.github.io/blob/main/.github/workflows/getHackNews.yml</a></p>
<h3>3. 展示</h3>
<p>利用 github pages 进行内容展示，就生成了历史所有的 hacknews 最热的内容榜单。</p>
<p>这其中主要是要跟原来的博客分开，需要做一个分类功能，其实就是把根目录的 _posts 文件夹转移到特定的分类下，比如 topHackNews 中。</p>
<p>整完了发现rss订阅也会订阅 hacknews的内容，这肯定不行，rss订阅的频率也太高了。原来rss订阅用的kekyll-feed 插件，但它的分类功能一直无法生效，直接无解。。</p>
<p>最终重新自定义了 rss 订阅文件，解决了这个问题，hacknews更新的订阅，以后需要了再搞吧</p>
<h1>工具总结</h1>
<p>Hack News: 提供内容来源，能提供简洁的API</p>
<p>github action: 定时运行任务，不需要自己提供server</p>
<p>github pages: 展示内容</p>
<p><a href="https://github.com/public-apis/public-apis">API archive</a>: 还发现了一个非常帮的免费API库，以后有需求了都可以找找</p>
<h1>结论</h1>
<p>成果：<a href="https://informal.top/topHackNews">https://informal.top/topHackNews</a></p>
<p>第一次做项目还挺有意思的，现在的各种工具都太齐全了，甚至不需要自己搭server，都能部署自动更新的网站。</p>
<p>现在缺少的只是好的创意。</p>
<p>不需要部署server，这项目应该能存活挺长时间的吧</p>
