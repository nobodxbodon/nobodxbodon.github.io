<h2><a href="https://github.com/stevedsun/stevedsun.github.io/blob/master/content/posts/2025/omarchy-cn-setup.md">仓库源文</a>，<a href="https://sund.site/posts/2025/omarchy-cn-setup">站点原文</a></h2>
<p>最近把家里电脑装上了 DHH 的 <a href="https://omarchy.org/">Omarchy</a>（一个基于 Hyprland 桌面环境的 Arch Linux 发行版）。</p>
<p>装完后有一些需要改造的配置记录在这篇文章中，供大家参考。</p>
<h2>4K 显示器设置</h2>
<p>修改系统菜单 Setup - Monitor，按照你自己显示器的分辨率，根据配置文件中的注释设置参数，比如我的显示器 27 寸 4k：</p>
<pre><code class="lang-conf">env = GDK_SCALE,1.75
monitor=,preferred,auto,1.875
</code></pre>
<p>额外为 QT 软件添加缩放设置</p>
<pre><code class="lang-conf">env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_SCALE_FACTOR,1.75
</code></pre>
<h2>中文输入法</h2>
<p>参考 <a href="https://manateelazycat.github.io/2024/12/17/fcitx-best-config/">Fcitx 最佳配置实践</a>。文章中“安装 emacs-rime”这一章节如果不使用 emacs 可以忽略。</p>
<h2>终端字体修改设置</h2>
<p>系统自带字体在终端环境下对中文都不太友好。我喜欢用<code>Maple Mono</code>这个字体，可以安装 AUR 包<code>maple-mono-nf-cn</code>这个库。然后在<code>~/.config/alacritty/alacritty.toml</code>中修改字体设置：</p>
<pre><code class="lang-toml">[font]
normal = { family = "Maple Mono NF CN" }
bold = { family = "Maple Mono NF CN" }
italic = { family = "Maple Mono NF CN" }
size = 12
</code></pre>
<h2>键盘默认的 numlock 关闭</h2>
<p>Omarchy 安装后会默认开启小键盘的 numlock，可以在系统菜单 Setup - Input 中设置：</p>
<pre><code class="lang-conf">numlock_by_default = false
</code></pre>
<h2>Neovim 的一些设置</h2>
<p>Neovim 默认使用了 Lazyvim，我在<code>~/.config/nvim/lua/config/options.lua</code>里添加了一些配置，可以参考注释选择性添加：</p>
<pre><code class="lang-lua">-- 修复中文字体在终端里有下划线的问题
vim.opt.spelllang = { "en", "cjk" }

-- 在 markdown 文件中关闭语法检查
vim.api.nvim_create_autocmd("FileType", {
 pattern = "markdown",
 callback = function()
  vim.diagnostic.enable(false)
 end,
})
</code></pre>
<p>然后创建<code>~/.config/nvim/lua/plugins/flush.lua</code>并添加内容，恢复 Vim 默认的 normal 模式下 s 键的功能：</p>
<pre><code class="lang-lua">return {
  {
    "folke/flash.nvim",
    keys = {
      { "s", mode = { "n", "x", "o" }, false },
    },
  },
}
</code></pre>
