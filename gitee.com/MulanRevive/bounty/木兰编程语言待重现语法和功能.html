<h2>原文：<a href="https://gitee.com/MulanRevive/bounty/blob/master/%E8%BF%9B%E5%B1%95%E5%B0%8F%E7%BB%93/2020-08-08-%E6%9C%A8%E5%85%B0%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%BE%85%E9%87%8D%E7%8E%B0%E8%AF%AD%E6%B3%95%E5%92%8C%E5%8A%9F%E8%83%BD.markdown">木兰编程语言待重现语法和功能</a></h2>
<p>源自<a href="https://zhuanlan.zhihu.com/p/176769490">此文</a>，随进展更新。</p>
<p>眨眼过了半年(此为文档创建时间)，该盘点一下。下面的任务按照粗估实现所需 Python 代码行数分为小（30 之内）、大（100 以上），另需测试用例：</p>
<p>注：下面仅仅是对功能大概有数的部分，还有些不明功能的语法规则列在最后。</p>
<h2>待完成</h2>
<h3>小</h3>
<p>暂无</p>
<h3>大</h3>
<p>暂无</p>
<h3>周边功能</h3>
<p>这些功能貌似都在原始可执行文件中：</p>
<ul>
<li>【630】从语法树生成木兰代码 （按需进行，还余 400 行左右）</li>
<li>【470】从语法树到 blockly xml. <a href="https://gitee.com/MulanRevive/mulan-rework/issues/I5V2ZH?from=project-issue">悬赏中</a></li>
</ul>
<h3>功能不确定</h3>
<p>暂无</p>
<h2>已完成</h2>
<ul>
<li>用 <a href="https://pyinstaller.readthedocs.io/en/stable/index.html">pyinstaller</a> 打包为 windows 下可执行文件</li>
</ul>
<h3>2020 年</h3>
<ul>
<li>补完一元表达式（unary_expr）<a href="https://gitee.com/MulanRevive/mulan-rework/issues/I23FKW">#语法</a> <a href="https://gitee.com/MulanRevive/mulan-rework/commit/49e98c1d5232e54c41b837b057fe532486925876">~</a></li>
<li>5/21 <a href="https://gitee.com/MulanRevive/mulan-rework/commit/b1cc1e6c6600a039c1d43f6215759ca37757060f">支持小数</a></li>
<li>【8/23】bases : : prefix_exprs <a href="https://gitee.com/MulanRevive/mulan-rework/commit/84f3752aa70c8ffb444edc62a0227d3e099a92c7">提交 84f375</a></li>
<li>【8/26】iterator : prefix_exprs <a href="https://gitee.com/MulanRevive/mulan-rework/commit/10e90c65e1377075ea5dce655c50b626a7d27dfe">提交 10e90c6</a></li>
<li>【8/28】factor_expr：<a href="https://gitee.com/MulanRevive/mulan-rework/commit/e41ff8c84b09d01ff8d334eb4664fd902294baca">提交 e41ff8</a></li>
<li>【9/14】【150】交互控制台（REPL） !1</li>
<li>【9/24】name_const : DOLLAR <a href="https://gitee.com/MulanRevive/mulan-rework/commit/cca8343e088a200558ccabda0274a383bbdf33ea">提交</a>，功能仍待探索</li>
<li>10/1 <a href="https://gitee.com/MulanRevive/mulan-rework/commit/cb7bc23de11056fd82eec1de5415ad14cf6e8a8a">支持应变属性</a></li>
<li>【10/7】【30】字符串插值，比如<code>aa\(v1\)bb</code>。详见<a href="https://gitee.com/MulanRevive/mulan-rework/commit/f3fd423fecbababb31a6ebec18e4efaad3217529">测试</a>。 !3</li>
<li>【10/16】【10】多项前缀表达式：prefix_exprs : prefix_exprs , prefix_expr <a href="https://gitee.com/MulanRevive/mulan-rework/commit/f9a9f20b956d232821021e474576fcdec8149877">提交</a></li>
<li>【12/7】【20】抛出声明（throw_stmt） <a href="https://gitee.com/MulanRevive/mulan-rework/commit/dbd9d8832cd7a3664ba4896b52586f2896a1e654">提交</a></li>
</ul>
<h3>2021 年</h3>
<ul>
<li>【2021/5】<ul>
<li>在环境（env）中补全所有内置函数，还有大约 40 个 见此两个悬赏任务 <a href="https://gitee.com/MulanRevive/mulan-rework/issues/I3QHXU?from=project-issue">一</a> <a href="https://gitee.com/MulanRevive/mulan-rework/issues/I3QHKV?from=project-issue">二</a></li>
<li>补完二元表达式（bin_expr）<a href="https://gitee.com/MulanRevive/mulan-rework/issues/I3RQ0A?from=project-issue">见此悬赏任务</a></li>
<li><a href="https://gitee.com/MulanRevive/mulan-rework/pulls/21">实现yield语法</a> (yield_expr) <a href="https://gitee.com/MulanRevive/mulan-rework/issues/I3SNP3?from=project-issue">此悬赏任务</a></li>
<li><a href="https://gitee.com/MulanRevive/mulan-rework/issues/I3RQ0C?from=project-issue">支持语法——赋值时指定变量类型</a>（anno_assign）</li>
</ul>
</li>
</ul>
<h3>2022 年</h3>
<ul>
<li>【2022/1】<a href="https://gitee.com/MulanRevive/mulan-rework/issues/I3RQ0B?from=project-issue">补完增量赋值（aug_assign）</a> 参考<a href="https://gitee.com/MulanRevive/mulan-rework/commit/c12403b68dea65767c30e8cdc16e035acee45941">此 commit</a>，添加余下的 *= ^= |= &amp;= /= %=等等</li>
<li>【2022/5】从语法树生成 Python 代码 <a href="https://gitee.com/MulanRevive/mulan-rework/issues/I3QIEL?from=project-issue">见此悬赏任务</a></li>
<li>【2022/6】<a href="https://gitee.com/MulanRevive/mulan-rework/issues/I3TIKJ?from=project-issue">悬赏任务：支持 lambda 形参为空或者多个，以及指定参数类型 </a><ul>
<li>primary_expr : ( name : type_name , param_list_not_empty )</li>
<li>lambda_param : primary_expr</li>
</ul>
</li>
<li>【2022/7】若干参数（DOTDOTDOT）<a href="https://gitee.com/MulanRevive/mulan-rework/issues/I5F7KI?from=project-issue">此悬赏任务</a></li>
<li>【2022/11】<ul>
<li><a href="https://gitee.com/MulanRevive/mulan-rework/issues/I5X38F?from=project-issue">悬赏任务：支持 .. 作为模块路径</a></li>
<li>在类型内定义类型（逆向工程中的语法规则为 type_stmt : type_define）<a href="https://gitee.com/MulanRevive/mulan-rework/issues/I5WQE6?from=project-issue">见此悬赏</a></li>
<li><a href="https://gitee.com/MulanRevive/mulan-rework/issues/I5WP2Z">补全 super 功能</a></li>
<li><a href="https://gitee.com/MulanRevive/mulan-rework/issues/I5X36I?from=project-issue">（语义待确定）复杂类型注解</a></li>
<li><a href="https://gitee.com/MulanRevive/mulan-rework/pulls/45">补全 try ... catch ... finally</a>，顺带 <a href="https://gitee.com/MulanRevive/mulan-rework/pulls/47">解决空块“ast.Pass”在高版本python3.7与低版本生成的语法树不同的问题</a></li>
<li><a href="https://gitee.com/MulanRevive/mulan-rework/pulls/50">支持重载余下所有操作符，包括二元、一元等</a></li>
</ul>
</li>
</ul>
