<h2><a href="https://gitee.com/MulanRevive/bounty/blob/master/进展小结/2020-09-14-木兰重生：交互环境复现，新添新手入门.md">仓库源文</a></h2>
<p>上周重现了交互环境（REPL），期间用一个针对编程新手的<a href="https://gitee.com/MulanRevive/mulan-rework/blob/master/%E6%96%87%E6%A1%A3/%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C/%E7%BC%96%E7%A8%8B%E6%96%B0%E6%89%8B/1%E7%8C%9C%E6%95%B0%E5%AD%97.md">木兰入门教程</a>验证了<a href="https://gitee.com/MulanRevive/mulan-rework/blob/master/%E6%96%87%E6%A1%A3/%E5%8A%9F%E8%83%BD/%E4%BA%A4%E4%BA%92%E7%8E%AF%E5%A2%83.md">基本功能</a>。下面是教程里例程在交互中的运行效果：</p>
<p><strong><em>注：“随机数”API 需安装<a href="https://pypi.org/project/grasspy-modules/">草蟒库</a></em></strong></p>
<pre><code>木兰向您问好
更多信息请说'你好'
&gt; using 随机范围数 in 随机数
&gt; 想的 = 随机范围数(100)
&gt; loop {
&gt;&gt;   猜的 = int(input("猜吧："))
&gt;&gt;   if 猜的 &gt; 想的 {
&gt;&gt;     println("大了")
&gt;&gt;   } elif 猜的 &lt; 想的 {
&gt;&gt;     println("小了")
&gt;&gt;   } else {
&gt;&gt;     println("中了！")
&gt;&gt;     break
&gt;&gt;   }
&gt;&gt; }
猜吧：90
大了
猜吧：40
小了
猜吧：70
小了
猜吧：80
大了
猜吧：75
大了
猜吧：72
小了
猜吧：73
小了
猜吧：74
中了！
</code></pre>
<p>期间发现一个木兰交互环境相对 Python 的优势，就是对粘贴代码到交互环境运行这一使用场景的支持较好，在这点上来说尤其对编程新手比较友好。详见<a href="https://zhuanlan.zhihu.com/p/237379701">木兰 vs. Python 之语法对用户体验的影响（一）</a>一文。</p>
<h2>代码统计</h2>
<p>下面是几个主要部分的代码行数统计，格式为：上次-&gt;现在。</p>
<ul>
<li><p>测试</p>
<ul>
<li><code>测试/unittest/交互.py</code>，交互环境相关测试：28</li>
<li>未变<ul>
<li>木兰测试用例：1919</li>
<li><code>测试/运行所有.py</code>，检验所有木兰测试代码片段：180</li>
<li><code>测试/unittest/语法树.py</code>，确保生成的语法树与原始版本一致：67</li>
</ul>
</li>
</ul>
</li>
<li><p>Python 总代码量（包括测试部分）：2237 -&gt; 2418</p>
<ul>
<li><code>环境.py</code>，加载木兰模块：137 -&gt; 149</li>
<li><code>交互.py</code>，交互环境（REPL）：138</li>
<li><code>中.py</code>，主程序：36 -&gt; 40</li>
<li>未变<ul>
<li><code>分析器/语法分析器.py</code>：913</li>
<li><code>分析器/词法分析器.py</code>：190</li>
<li><code>分析器/语法树.py</code>：178</li>
<li><code>演示高亮.py</code>：100</li>
<li><code>分析器/语法成分.py</code>，从语法分析器中提取出来的枚举常量：78</li>
<li><code>功用/反馈信息.py</code>：49</li>
<li><code>分析器/错误.py</code>：17</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>后感</h2>
<p><a href="https://zhuanlan.zhihu.com/p/128981286">之前决定</a>暂时放下交互控制台已是五个月前，这近半年来对木兰逐步熟悉，现在再复现这部分感觉比之前轻松了不少。</p>
<p>但限于个人水平，对木兰的设计思路只能靠复原出的功能进行点滴参悟，肯定还有不小偏差。很希望木兰编程语言原团队的人员能够参与到项目中来，这样必然事半功倍，对设计意图进行更全面系统的复原。</p>
