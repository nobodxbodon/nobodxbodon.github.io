<h2>原文：<a href="https://codeinchinese.com/2020/02/22/%E6%9C%A8%E5%85%B0%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%E4%B9%8B%E5%9B%9B%E2%80%94%E2%80%94%E6%A8%A1%E5%9D%97.markdown">木兰编程语言入门教程之四——模块</a></h2>
<hr/>
<h2>layout: post
comments: true
title:  木兰编程语言入门教程之四——模块
description:
date:   2020-02-22 00:05:00 -0700
categories:  木兰</h2>
<p><em><strong>本教程不求全面，各个方面点到即止。目标是尽快对木兰编程语言的功能有基本的了解。所有内容<a href="https://github.com/MulanRevive/bounty/issues/4">在此</a>验证过。欢迎<a href="https://github.com/MulanRevive/bounty/tree/master/%E5%A4%8D%E7%8E%B0%E6%96%87%E6%A1%A3/%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C">反馈/提交PR</a>。</strong></em></p>
<p>之前的章节：</p>
<ul>
<li>一、<a href="https://zhuanlan.zhihu.com/p/104491745">浅介</a></li>
<li>二、<a href="https://zhuanlan.zhihu.com/p/104548740">控制走向</a></li>
<li>三、<a href="https://zhuanlan.zhihu.com/p/105687154">函数和类型</a></li>
</ul>
<h2>模块</h2>
<p>如果退出木兰交互环境再进入，之前定义的函数变量等都会失效。用源码文件就可以随时调用，这也叫“脚本”。而随着代码变得越来越长，就需要将其拆分成几个文件。</p>
<p>为此，木兰可以将定义置于“模块”文件中。模块可以在其他模块或脚本中引入。</p>
<p>创建木兰模块<code>middle.ul</code>：</p>
<pre><code>func average(a, b) {
    return (a + b) / 2.0
}
</code></pre>
<p>导入此模块：</p>
<pre><code>&gt; using middle
</code></pre>
<p>调用模块中的函数：</p>
<pre><code>&gt; middle.average(1, 2)
1.5
</code></pre>
<p>也可以只导入某个函数：</p>
<pre><code>&gt; using average in middle
&gt; average(2, 3)
2.5
</code></pre>
<p>或者导入模块中所有函数：</p>
<pre><code>&gt; using * in middle
&gt; average(4, 3)
3.5
</code></pre>
<p>也可以直接运行该模块，只需在模块末尾加此段代码：</p>
<pre><code>if __name__ == "__main__" {
    using sys
    println(average(int(sys.argv[2]), int(sys.argv[3])))
}
</code></pre>
<p>即可如此运行：</p>
<pre><code>&gt;[ulang.exe的路径] middle.ul 5 6
5.5
</code></pre>
<p>除了木兰本身模块，也可以导入python模块。新建<code>larger.py</code>文件：</p>
<pre><code>def larger(a, b):
    if a &gt; b:
        print(a)
    else:
        print(b)
</code></pre>
<p>就可以在木兰交互环境中引入：</p>
<pre><code>&gt; using larger
&gt; larger.larger(5,6)
6
</code></pre>
<p>木兰本身还附带了一些常用的python模块，比如随机数：</p>
<pre><code>&gt; using random
&gt; random.random()
0.9458333434176851
</code></pre>
