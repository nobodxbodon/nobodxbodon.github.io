<h2>原文：<a href="http://codeinchinese.com/2017/12/04/%E7%BC%96%E5%86%99Visual-Studio-Code%E6%8F%92%E4%BB%B6%E5%88%9D%E5%B0%9D%E8%AF%95.markdown">编写Visual Studio Code插件初尝试</a></h2>
<hr/>
<h2>layout: post
comments: true
title:  编写Visual Studio Code插件初尝试
description: 根据VS Code官方入门文档编写一个最简单的插件. Write a simple hello-world extension for Visual Studio Code.
date:   2017-12-04 00:00:00 -0700
categories: 开发环境</h2>
<p>参考官方入门: <a href="https://code.visualstudio.com/docs/extensions/example-hello-world">Your First Visual Studio Code Extension - Hello World</a></p>
<p>源码在: <a href="https://github.com/program-in-chinese/vscode_helloWorld">program-in-chinese/vscode_helloWorld</a></p>
<p>创建插件过程中, 发现identifier和publisher name不允许中文命名(报错: invalid xxx):</p>
<pre><code>? What type of extension do you want to create? New Extension (TypeScript)
? What's the name of your extension? 吃了么
? What's the identifier of your extension? hello
? What's the description of your extension? 吃了么
? What's your publisher name (more info: https://code.visualstudio.com/docs/tools/vscecli#_publishing-extensions)? nobody
</code></pre>
<p>运行一下Hello World命令, 没问题.</p>
<p>按入门教程替代extension.sayHello命令的内容, 实现显示选中文本长度的演示功能:</p>
<pre><code class="language-javascript">        var 编辑器 = vscode.window.activeTextEditor;
        if (!编辑器) {
            return; // 无打开的编辑器
        }
        
        var 选中部分 = 编辑器.selection;
        var 文本 = 编辑器.document.getText(选中部分);
        
        // 显示信息框
        vscode.window.showInformationMessage('选中字符数: ' + 文本.length);
</code></pre>
<p>运行Hello World结果:</p>
<p>![2017_12_04_运行]({{ "/assets/2017_12_04_vscode_run_extension.png" | absolute_url }})</p>
<p>顺便感受一下调试功能:</p>
<p>![2017_12_04_调试]({{ "/assets/2017_12_04_vscode_debug.png" | absolute_url }})</p>
