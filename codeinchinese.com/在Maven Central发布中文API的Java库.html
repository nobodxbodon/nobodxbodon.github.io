<h2><a href="https://github.com/program-in-chinese/team_website/blob/master/_posts/2017-07-20-在Maven Central发布中文API的Java库.markdown">仓库源文</a>，<a href="http://codeinchinese.com/2017/07/20/在Maven-Central发布中文API的Java库.markdown">站点原文</a></h2>
<hr/>
<p>layout: post
comments: true
title:  在Maven Central发布中文API的Java库
description: 开发一个简单的Java库, 通过sonatype发布到Maven主库. Publish Java library with APIs in Chinese on Maven Central, through Sonatype.
date:   2017-07-20 00:00:00 -0700
categories: 命名 API</p>
<hr/>
<p><a href="https://zhuanlan.zhihu.com/p/28024364">知乎原链</a></p>
<p>相关问题: <a href="https://www.zhihu.com/question/62738566">哪些Java库有中文命名的API?</a></p>
<p>且记下随想.</p>
<p>之前没有发布过, 看了SO上的推荐:<a href="https://stackoverflow.com/questions/2588858/publish-a-library-to-maven-repositories">Publish a library to maven repositories</a> 决定在sonatype发布. sonatype发布开源软件库的<a href="http://central.sonatype.org/pages/producers.html">步骤</a>写的蛮详细, 不过一些细节比如命令行指令可能有段时间没更新了. 比如有个坑是发布gpg的公开秘钥, 指定server的时候如果有hkp://前缀的话就报错 no route to host, 不知是否因为我用的gpg2, 试了各种才发现去掉前缀就行了.</p>
<p>在命名上, API方法和参数以及类名都用了中文. 下面是Eclipse中的Javadoc弹窗:</p>
<p><img alt="中文API的Java库" src='/Users/xuanwu/work/聚聚/中文博客集锦/源数据/博客聚合/codeinchinese.com/_posts/{{ "/assets/中文API的Java库.png" | absolute_url }}'/></p>
<p>根据<a href="https://maven.apache.org/guides/mini/guide-naming-conventions.html">Guide to Naming Conventions</a>, groupid还是沿用了域名命名, artifactiId也还是用英文. 以后可能试试中文artifactId, 应该不算"strange symbols".</p>
<p>发布了几个小版本, 感觉有时需要一个多小时在pom里引用, 更新还算蛮快.</p>
<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;com.github.nobodxbodon&lt;/groupId&gt;
  &lt;artifactId&gt;zhconverter&lt;/artifactId&gt;
  &lt;version&gt;0.0.5&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>项目源码: <a href="https://github.com/program-in-chinese/zhconverter">program-in-chinese/zhconverter</a></p>
<p>希望找到前人, 结识来者.</p>
<hr/>
<h4>2017.12.19</h4>
<p>今天为了尝试发布, 运行"$ mvn clean deploy -P release". 但报错:</p>
<pre><code>    gpg: selecting openpgp failed: Operation not supported by device
    gpg: signing failed: No pinentry
    gpg: signing failed: No pinentry
</code></pre>
<p>不知何故, 但重装GnuPG解决问题.</p>
