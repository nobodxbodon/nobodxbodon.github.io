<h2>原文：<a href="http://codeinchinese.com/2024/04/15/%E5%8D%9A%E5%AE%A2%E8%81%9A%E5%90%88%E5%B7%A5%E5%85%B7%E8%BF%9B%E5%B1%95%E2%80%94%E2%80%94%E8%AF%84%E8%AE%BA%E6%94%AF%E6%8C%81%E7%AD%89">博客聚合工具进展——评论支持等</a></h2>
<p>自今年二月底重启此项目，陆续作了些改进如下。</p>
<h2>进展</h2>
<h3>初步支持评论</h3>
<p>现在，当甲文标记为对乙文的回复，首页乙文显示评论数：</p>
<p><img alt="评论数" src="/media/wwww/share/study/聚聚/源数据/博客聚合/codeinchinese.com/_posts/../assets/2024-04-20-%E8%AF%84%E8%AE%BA%E6%95%B0.png"/></p>
<p>乙文头部会显示甲文链接：</p>
<p><img alt="评论链接" src="/media/wwww/share/study/聚聚/源数据/博客聚合/codeinchinese.com/_posts/../assets/2024-04-20-%E8%AF%84%E8%AE%BA%E9%93%BE%E6%8E%A5.png"/></p>
<p>在本地生成网页的一个独特优势是，可以将内容自行重组互联显示。今后除了对博文更多样的排序、按主题分类等，也可以支持粒度更细的前端定制，比如评论内嵌到被评论的文章中或段落语句旁。即使在甲文提到乙文或其中某语句，也可以在乙文中自动添加甲文的链接。</p>
<p>比如，我刚看了《我做了一款发现播客的工具》，初看貌似没有搜索功能。这样就很依赖排序和推荐，对希望内容定制的用户来说限制较大。</p>
<p>【待实现】上面这句评论就可以在原文显示：</p>
<p><img alt="显示评论内容" src="/media/wwww/share/study/聚聚/源数据/博客聚合/codeinchinese.com/_posts/../assets/2024-04-20-%E6%98%BE%E7%A4%BA%E8%AF%84%E8%AE%BA%E5%86%85%E5%AE%B9.png"/></p>
<h3>在线演示</h3>
<p>生成html后，作为效果演示在github pages部署。这样不需拖下所有git仓库内容也可以体验内容。图片等内容仅在本地：</p>
<p><img alt="首页" src="/media/wwww/share/study/聚聚/源数据/博客聚合/codeinchinese.com/_posts/../assets/2024-04-20-%E9%A6%96%E9%A1%B5.png"/></p>
<p>但副效应就是一些格式会被按默认jekyll解析。</p>
<h3>搜索</h3>
<p>以关键词搜索题目：</p>
<p><img alt="评论数" src="/media/wwww/share/study/聚聚/源数据/博客聚合/codeinchinese.com/_posts/../assets/2024-04-20-%E6%90%9C%E7%B4%A2%E8%AF%AD%E4%B9%89.png"/></p>
<p>有 <a href="https://gitee.com/zhishi/collection-of-chinese-blogs/issues/I972IT">更多功能</a> 待做.</p>
<h3>仓库扩展</h3>
<p>仓库总数达到四十五，博文数八千多，仓库下载本地后占空间约十四 GB。支持更多博文格式如 html、rst。</p>
<p>对md格式的html生成方面，还有很大改进空间，如 <a href="https://gitee.com/zhishi/collection-of-chinese-blogs/issues/I9BJ9M">渲染为表格有误</a>。</p>
<p>另外，在扩展性上，现在对各仓库的支持很生硬，比如很大一块工作量是修正原文链接，需改进。</p>
<h3>重构、测试</h3>
<p>将统计和生成两步合并，方便同步操作。</p>
<p>添加了一些基本单元测试，便于重构。</p>
<p>将博文简报结构由纯字典改为类型，降低了些维护成本。</p>
<h2>其他待改进</h2>
<p>当前将所有博文按时间排序集结在首页。一些博客之前停更，只会一直排得越来越后。如果按博客分组，正好一页可以看到基本所有博客和更新时间，更有宏观感。</p>
<p>另外，有些博客已经 <a href="https://gitee.com/zhishi/collection-of-chinese-blogs/issues/I9E7PT">失去域名</a>，逝者如斯夫。减少对域名依赖的内容收发技术路线值得探索。</p>
